(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[388],{5572:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0;var i=n(r(4938)),o=r(5893),s=(0,i.default)((0,o.jsx)("path",{d:"M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28-.79-.74-1.69-1.36-2.67-1.85-.33-.16-.56-.5-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"}),"CallEnd");t.Z=s},6022:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0;var i=n(r(4938)),o=r(5893),s=(0,i.default)((0,o.jsx)("path",{d:"M17 3h-1v5h1V3zm-2 2h-2V4h2V3h-3v3h2v1h-2v1h3V5zm3-2v5h1V6h2V3h-3zm2 2h-1V4h1v1zm0 10.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.01.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.59l2.2-2.21c.27-.26.35-.65.24-1C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1z"}),"DialerSip");t.Z=s},642:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0;var i=n(r(4938)),o=r(5893),s=(0,i.default)((0,o.jsx)("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"}),"Mic");t.Z=s},2173:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0;var i=n(r(4938)),o=r(5893),s=(0,i.default)((0,o.jsx)("path",{d:"M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28zm-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18l5.98 5.99zM4.27 3 3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73 4.27 3z"}),"MicOff");t.Z=s},9956:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0;var i=n(r(4938)),o=r(5893),s=(0,i.default)((0,o.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam");t.Z=s},4521:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0;var i=n(r(4938)),o=r(5893),s=(0,i.default)((0,o.jsx)("path",{d:"m21 6.5-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18V6.5zM3.27 2 2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73 3.27 2z"}),"VideocamOff");t.Z=s},4938:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=r(2001)},2001:function(e,t,r){"use strict";r.r(t),r.d(t,{capitalize:function(){return a},createChainedFunction:function(){return c},createSvgIcon:function(){return En},debounce:function(){return Rn},deprecatedPropType:function(){return Cn},isMuiElement:function(){return xn},ownerDocument:function(){return kn},ownerWindow:function(){return Nn},requirePropFactory:function(){return On},setRef:function(){return Pn},unstable_ClassNameGenerator:function(){return Qn},unstable_useEnhancedEffect:function(){return jn},unstable_useId:function(){return qn},unsupportedProp:function(){return Hn},useControlled:function(){return Fn},useEventCallback:function(){return Ln},useForkRef:function(){return zn},useIsFocusVisible:function(){return Jn}});const n=e=>e;var i=(()=>{let e=n;return{configure(t){e=t},generate:t=>e(t),reset(){e=n}}})();function o(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function s(e){if("string"!==typeof e)throw new Error(o(7));return e.charAt(0).toUpperCase()+e.slice(1)}var a=s;var c=function(...e){return e.reduce(((e,t)=>null==t?e:function(...r){e.apply(this,r),t.apply(this,r)}),(()=>{}))};function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}var l=r(7294),d=r.t(l,2);function f(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function h(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=h(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}var p=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=h(e))&&(n&&(n+=" "),n+=t);return n};function m(e){const{theme:t,name:r,props:n}=e;return t&&t.components&&t.components[r]&&t.components[r].defaultProps?function(e,t){const r=u({},t);return Object.keys(e).forEach((t=>{void 0===r[t]&&(r[t]=e[t])})),r}(t.components[r].defaultProps,n):n}function _(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function g(e,t,r={clone:!0}){const n=r.clone?u({},e):e;return _(e)&&_(t)&&Object.keys(t).forEach((i=>{"__proto__"!==i&&(_(t[i])&&i in e&&_(e[i])?n[i]=g(e[i],t[i],r):n[i]=t[i])})),n}const v=["values","unit","step"];function y(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,i=f(e,v),o=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>u({},e,{[t.key]:t.val})),{})})(t),s=Object.keys(o);function a(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${r})`}function c(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-n/100}${r})`}function l(e,i){const o=s.indexOf(i);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${r}) and (max-width:${(-1!==o&&"number"===typeof t[s[o]]?t[s[o]]:i)-n/100}${r})`}return u({keys:s,values:o,up:a,down:c,between:l,only:function(e){return s.indexOf(e)+1<s.length?l(e,s[s.indexOf(e)+1]):a(e)},not:function(e){const t=s.indexOf(e);return 0===t?a(s[1]):t===s.length-1?c(s[t]):l(e,s[s.indexOf(e)+1]).replace("@media","@media not all and")},unit:r},i)}var b={borderRadius:4};const T={xs:0,sm:600,md:900,lg:1200,xl:1536},S={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${T[e]}px)`};function w(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const e=n.breakpoints||S;return t.reduce(((n,i,o)=>(n[e.up(e.keys[o])]=r(t[o]),n)),{})}if("object"===typeof t){const e=n.breakpoints||S;return Object.keys(t).reduce(((n,i)=>{if(-1!==Object.keys(e.values||T).indexOf(i)){n[e.up(i)]=r(t[i],i)}else{const e=i;n[e]=t[e]}return n}),{})}return r(t)}function E(e={}){var t;return(null==(t=e.keys)?void 0:t.reduce(((t,r)=>(t[e.up(r)]={},t)),{}))||{}}function R(e,t){return e.reduce(((e,t)=>{const r=e[t];return(!r||0===Object.keys(r).length)&&delete e[t],e}),t)}function C(e,t,r=!0){if(!t||"string"!==typeof t)return null;if(e&&e.vars&&r){const r=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=r)return r}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function x(e,t,r,n=r){let i;return i="function"===typeof e?e(r):Array.isArray(e)?e[r]||n:C(e,r)||n,t&&(i=t(i)),i}var A=function(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,o=e=>{if(null==e[t])return null;const o=e[t],a=C(e.theme,n)||{};return w(e,o,(e=>{let n=x(a,i,e);return e===n&&"string"===typeof e&&(n=x(a,i,`${t}${"default"===e?"":s(e)}`,e)),!1===r?n:{[r]:n}}))};return o.propTypes={},o.filterProps=[t],o};var k=function(e,t){return t?g(e,t,{clone:!1}):e};const N={m:"margin",p:"padding"},O={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},I={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},P=function(e){const t={};return r=>(void 0===t[r]&&(t[r]=e(r)),t[r])}((e=>{if(e.length>2){if(!I[e])return[e];e=I[e]}const[t,r]=e.split(""),n=N[t],i=O[r]||"";return Array.isArray(i)?i.map((e=>n+e)):[n+i]})),D=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],j=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],U=[...D,...j];function M(e,t,r,n){var i;const o=null!=(i=C(e,t,!1))?i:r;return"number"===typeof o?e=>"string"===typeof e?e:o*e:Array.isArray(o)?e=>"string"===typeof e?e:o[e]:"function"===typeof o?o:()=>{}}function q(e){return M(e,"spacing",8)}function H(e,t){if("string"===typeof t||null==t)return t;const r=e(Math.abs(t));return t>=0?r:"number"===typeof r?-r:`-${r}`}function F(e,t,r,n){if(-1===t.indexOf(r))return null;const i=function(e,t){return r=>e.reduce(((e,n)=>(e[n]=H(t,r),e)),{})}(P(r),n);return w(e,e[r],i)}function L(e,t){const r=q(e.theme);return Object.keys(e).map((n=>F(e,t,n,r))).reduce(k,{})}function z(e){return L(e,D)}function $(e){return L(e,j)}function G(e){return L(e,U)}z.propTypes={},z.filterProps=D,$.propTypes={},$.filterProps=j,G.propTypes={},G.filterProps=U;var V=G;const W=["breakpoints","palette","spacing","shape"];var B=function(e={},...t){const{breakpoints:r={},palette:n={},spacing:i,shape:o={}}=e,s=f(e,W),a=y(r),c=function(e=8){if(e.mui)return e;const t=q({spacing:e}),r=(...e)=>(0===e.length?[1]:e).map((e=>{const r=t(e);return"number"===typeof r?`${r}px`:r})).join(" ");return r.mui=!0,r}(i);let l=g({breakpoints:a,direction:"ltr",components:{},palette:u({mode:"light"},n),spacing:c,shape:u({},b,o)},s);return l=t.reduce(((e,t)=>g(e,t)),l),l};var K=l.createContext(null);var Y=function(e=null){const t=l.useContext(K);return t&&(r=t,0!==Object.keys(r).length)?t:e;var r};const X=B();var J=function(e=X){return Y(e)};function Q(e,t){return u({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}function Z(e,t=0,r=1){return Math.min(Math.max(t,e),r)}function ee(e){if(e.type)return e;if("#"===e.charAt(0))return ee(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&1===r[0].length&&(r=r.map((e=>e+e))),r?`rgb${4===r.length?"a":""}(${r.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),r=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(r))throw new Error(o(9,e));let n,i=e.substring(t+1,e.length-1);if("color"===r){if(i=i.split(" "),n=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(n))throw new Error(o(10,n))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:r,values:i,colorSpace:n}}function te(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return-1!==t.indexOf("rgb")?n=n.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),n=-1!==t.indexOf("color")?`${r} ${n.join(" ")}`:`${n.join(", ")}`,`${t}(${n})`}function re(e){let t="hsl"===(e=ee(e)).type?ee(function(e){e=ee(e);const{values:t}=e,r=t[0],n=t[1]/100,i=t[2]/100,o=n*Math.min(i,1-i),s=(e,t=(e+r/30)%12)=>i-o*Math.max(Math.min(t-3,9-t,1),-1);let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),te({type:a,values:c})}(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function ne(e,t){if(e=ee(e),t=Z(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let r=0;r<3;r+=1)e.values[r]*=1-t;return te(e)}function ie(e,t){if(e=ee(e),t=Z(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(-1!==e.type.indexOf("color"))for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return te(e)}var oe={black:"#000",white:"#fff"};var se={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var ae={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var ce={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var ue={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var le={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var de={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var fe={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};const he=["mode","contrastThreshold","tonalOffset"],pe={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:oe.white,default:oe.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},me={text:{primary:oe.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:oe.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _e(e,t,r,n){const i=n.light||n,o=n.dark||1.5*n;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:"light"===t?e.light=ie(e.main,i):"dark"===t&&(e.dark=ne(e.main,o)))}function ge(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,i=f(e,he),s=e.primary||function(e="light"){return"dark"===e?{main:le[200],light:le[50],dark:le[400]}:{main:le[700],light:le[400],dark:le[800]}}(t),a=e.secondary||function(e="light"){return"dark"===e?{main:ae[200],light:ae[50],dark:ae[400]}:{main:ae[500],light:ae[300],dark:ae[700]}}(t),c=e.error||function(e="light"){return"dark"===e?{main:ce[500],light:ce[300],dark:ce[700]}:{main:ce[700],light:ce[400],dark:ce[800]}}(t),l=e.info||function(e="light"){return"dark"===e?{main:de[400],light:de[300],dark:de[700]}:{main:de[700],light:de[500],dark:de[900]}}(t),d=e.success||function(e="light"){return"dark"===e?{main:fe[400],light:fe[300],dark:fe[700]}:{main:fe[800],light:fe[500],dark:fe[900]}}(t),h=e.warning||function(e="light"){return"dark"===e?{main:ue[400],light:ue[300],dark:ue[700]}:{main:"#ed6c02",light:ue[500],dark:ue[900]}}(t);function p(e){const t=function(e,t){const r=re(e),n=re(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}(e,me.text.primary)>=r?me.text.primary:pe.text.primary;return t}const m=({color:e,name:t,mainShade:r=500,lightShade:i=300,darkShade:s=700})=>{if(!(e=u({},e)).main&&e[r]&&(e.main=e[r]),!e.hasOwnProperty("main"))throw new Error(o(11,t?` (${t})`:"",r));if("string"!==typeof e.main)throw new Error(o(12,t?` (${t})`:"",JSON.stringify(e.main)));return _e(e,"light",i,n),_e(e,"dark",s,n),e.contrastText||(e.contrastText=p(e.main)),e},_={dark:me,light:pe};return g(u({common:u({},oe),mode:t,primary:m({color:s,name:"primary"}),secondary:m({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:h,name:"warning"}),info:m({color:l,name:"info"}),success:m({color:d,name:"success"}),grey:se,contrastThreshold:r,getContrastText:p,augmentColor:m,tonalOffset:n},_[t]),i)}const ve=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const ye={textTransform:"uppercase"},be='"Roboto", "Helvetica", "Arial", sans-serif';function Te(e,t){const r="function"===typeof t?t(e):t,{fontFamily:n=be,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:c=700,htmlFontSize:l=16,allVariants:d,pxToRem:h}=r,p=f(r,ve);const m=i/14,_=h||(e=>e/l*m+"rem"),v=(e,t,r,i,o)=>{return u({fontFamily:n,fontWeight:e,fontSize:_(t),lineHeight:r},n===be?{letterSpacing:(s=i/t,Math.round(1e5*s)/1e5)+"em"}:{},o,d);var s},y={h1:v(o,96,1.167,-1.5),h2:v(o,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(a,14,1.75,.4,ye),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,ye)};return g(u({htmlFontSize:l,pxToRem:_,fontFamily:n,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:c},y),p,{clone:!1})}function Se(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,0.2)`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,0.14)`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,0.12)`].join(",")}var we=["none",Se(0,2,1,-1,0,1,1,0,0,1,3,0),Se(0,3,1,-2,0,2,2,0,0,1,5,0),Se(0,3,3,-2,0,3,4,0,0,1,8,0),Se(0,2,4,-1,0,4,5,0,0,1,10,0),Se(0,3,5,-1,0,5,8,0,0,1,14,0),Se(0,3,5,-1,0,6,10,0,0,1,18,0),Se(0,4,5,-2,0,7,10,1,0,2,16,1),Se(0,5,5,-3,0,8,10,1,0,3,14,2),Se(0,5,6,-3,0,9,12,1,0,3,16,2),Se(0,6,6,-3,0,10,14,1,0,4,18,3),Se(0,6,7,-4,0,11,15,1,0,4,20,3),Se(0,7,8,-4,0,12,17,2,0,5,22,4),Se(0,7,8,-4,0,13,19,2,0,5,24,4),Se(0,7,9,-4,0,14,21,2,0,5,26,4),Se(0,8,9,-5,0,15,22,2,0,6,28,5),Se(0,8,10,-5,0,16,24,2,0,6,30,5),Se(0,8,11,-5,0,17,26,2,0,6,32,5),Se(0,9,11,-5,0,18,28,2,0,7,34,6),Se(0,9,12,-6,0,19,29,2,0,7,36,6),Se(0,10,13,-6,0,20,31,3,0,8,38,7),Se(0,10,13,-6,0,21,33,3,0,8,40,7),Se(0,10,14,-6,0,22,35,3,0,8,42,7),Se(0,11,14,-7,0,23,36,3,0,9,44,8),Se(0,11,15,-7,0,24,38,3,0,9,46,8)];const Ee=["duration","easing","delay"],Re={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Ce={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function xe(e){return`${Math.round(e)}ms`}function Ae(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function ke(e){const t=u({},Re,e.easing),r=u({},Ce,e.duration);return u({getAutoHeightDuration:Ae,create:(e=["all"],n={})=>{const{duration:i=r.standard,easing:o=t.easeInOut,delay:s=0}=n;f(n,Ee);return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof i?i:xe(i)} ${o} ${"string"===typeof s?s:xe(s)}`)).join(",")}},e,{easing:t,duration:r})}var Ne={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const Oe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ie(e={},...t){const{mixins:r={},palette:n={},transitions:i={},typography:s={}}=e,a=f(e,Oe);if(e.vars)throw new Error(o(18));const c=ge(n),l=B(e);let d=g(l,{mixins:Q(l.breakpoints,r),palette:c,shadows:we.slice(),typography:Te(c,s),transitions:ke(i),zIndex:u({},Ne)});return d=g(d,a),d=t.reduce(((e,t)=>g(e,t)),d),d}var Pe=Ie();function De({props:e,name:t}){return function({props:e,name:t,defaultTheme:r}){return m({theme:J(r),name:t,props:e})}({props:e,name:t,defaultTheme:Pe})}var je=function(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}},Ue=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Me=je((function(e){return Ue.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var qe=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(n){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),He=Math.abs,Fe=String.fromCharCode,Le=Object.assign;function ze(e){return e.trim()}function $e(e,t,r){return e.replace(t,r)}function Ge(e,t){return e.indexOf(t)}function Ve(e,t){return 0|e.charCodeAt(t)}function We(e,t,r){return e.slice(t,r)}function Be(e){return e.length}function Ke(e){return e.length}function Ye(e,t){return t.push(e),e}var Xe=1,Je=1,Qe=0,Ze=0,et=0,tt="";function rt(e,t,r,n,i,o,s){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:Xe,column:Je,length:s,return:""}}function nt(e,t){return Le(rt("",null,null,"",null,null,0),e,{length:-e.length},t)}function it(){return et=Ze>0?Ve(tt,--Ze):0,Je--,10===et&&(Je=1,Xe--),et}function ot(){return et=Ze<Qe?Ve(tt,Ze++):0,Je++,10===et&&(Je=1,Xe++),et}function st(){return Ve(tt,Ze)}function at(){return Ze}function ct(e,t){return We(tt,e,t)}function ut(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function lt(e){return Xe=Je=1,Qe=Be(tt=e),Ze=0,[]}function dt(e){return tt="",e}function ft(e){return ze(ct(Ze-1,mt(91===e?e+2:40===e?e+1:e)))}function ht(e){for(;(et=st())&&et<33;)ot();return ut(e)>2||ut(et)>3?"":" "}function pt(e,t){for(;--t&&ot()&&!(et<48||et>102||et>57&&et<65||et>70&&et<97););return ct(e,at()+(t<6&&32==st()&&32==ot()))}function mt(e){for(;ot();)switch(et){case e:return Ze;case 34:case 39:34!==e&&39!==e&&mt(et);break;case 40:41===e&&mt(e);break;case 92:ot()}return Ze}function _t(e,t){for(;ot()&&e+et!==57&&(e+et!==84||47!==st()););return"/*"+ct(t,Ze-1)+"*"+Fe(47===e?e:ot())}function gt(e){for(;!ut(st());)ot();return ct(e,Ze)}var vt="-ms-",yt="-moz-",bt="-webkit-",Tt="comm",St="rule",wt="decl",Et="@keyframes";function Rt(e,t){for(var r="",n=Ke(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function Ct(e,t,r,n){switch(e.type){case"@import":case wt:return e.return=e.return||e.value;case Tt:return"";case Et:return e.return=e.value+"{"+Rt(e.children,n)+"}";case St:e.value=e.props.join(",")}return Be(r=Rt(e.children,n))?e.return=e.value+"{"+r+"}":""}function xt(e,t){switch(function(e,t){return(((t<<2^Ve(e,0))<<2^Ve(e,1))<<2^Ve(e,2))<<2^Ve(e,3)}(e,t)){case 5103:return bt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return bt+e+yt+e+vt+e+e;case 6828:case 4268:return bt+e+vt+e+e;case 6165:return bt+e+vt+"flex-"+e+e;case 5187:return bt+e+$e(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return bt+e+vt+"flex-item-"+$e(e,/flex-|-self/,"")+e;case 4675:return bt+e+vt+"flex-line-pack"+$e(e,/align-content|flex-|-self/,"")+e;case 5548:return bt+e+vt+$e(e,"shrink","negative")+e;case 5292:return bt+e+vt+$e(e,"basis","preferred-size")+e;case 6060:return bt+"box-"+$e(e,"-grow","")+bt+e+vt+$e(e,"grow","positive")+e;case 4554:return bt+$e(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return $e($e($e(e,/(zoom-|grab)/,bt+"$1"),/(image-set)/,bt+"$1"),e,"")+e;case 5495:case 3959:return $e(e,/(image-set\([^]*)/,bt+"$1$`$1");case 4968:return $e($e(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+bt+e+e;case 4095:case 3583:case 4068:case 2532:return $e(e,/(.+)-inline(.+)/,bt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Be(e)-1-t>6)switch(Ve(e,t+1)){case 109:if(45!==Ve(e,t+4))break;case 102:return $e(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+yt+(108==Ve(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ge(e,"stretch")?xt($e(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Ve(e,t+1))break;case 6444:switch(Ve(e,Be(e)-3-(~Ge(e,"!important")&&10))){case 107:return $e(e,":",":"+bt)+e;case 101:return $e(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+bt+(45===Ve(e,14)?"inline-":"")+"box$3$1"+bt+"$2$3$1"+vt+"$2box$3")+e}break;case 5936:switch(Ve(e,t+11)){case 114:return bt+e+vt+$e(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return bt+e+vt+$e(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return bt+e+vt+$e(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return bt+e+vt+e+e}return e}function At(e){return dt(kt("",null,null,null,[""],e=lt(e),0,[0],e))}function kt(e,t,r,n,i,o,s,a,c){for(var u=0,l=0,d=s,f=0,h=0,p=0,m=1,_=1,g=1,v=0,y="",b=i,T=o,S=n,w=y;_;)switch(p=v,v=ot()){case 40:if(108!=p&&58==w.charCodeAt(d-1)){-1!=Ge(w+=$e(ft(v),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:w+=ft(v);break;case 9:case 10:case 13:case 32:w+=ht(p);break;case 92:w+=pt(at()-1,7);continue;case 47:switch(st()){case 42:case 47:Ye(Ot(_t(ot(),at()),t,r),c);break;default:w+="/"}break;case 123*m:a[u++]=Be(w)*g;case 125*m:case 59:case 0:switch(v){case 0:case 125:_=0;case 59+l:h>0&&Be(w)-d&&Ye(h>32?It(w+";",n,r,d-1):It($e(w," ","")+";",n,r,d-2),c);break;case 59:w+=";";default:if(Ye(S=Nt(w,t,r,u,l,i,a,y,b=[],T=[],d),o),123===v)if(0===l)kt(w,t,S,S,b,o,d,a,T);else switch(f){case 100:case 109:case 115:kt(e,S,S,n&&Ye(Nt(e,S,S,0,0,i,a,y,i,b=[],d),T),i,T,d,a,n?b:T);break;default:kt(w,S,S,S,[""],T,0,a,T)}}u=l=h=0,m=g=1,y=w="",d=s;break;case 58:d=1+Be(w),h=p;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==it())continue;switch(w+=Fe(v),v*m){case 38:g=l>0?1:(w+="\f",-1);break;case 44:a[u++]=(Be(w)-1)*g,g=1;break;case 64:45===st()&&(w+=ft(ot())),f=st(),l=d=Be(y=w+=gt(at())),v++;break;case 45:45===p&&2==Be(w)&&(m=0)}}return o}function Nt(e,t,r,n,i,o,s,a,c,u,l){for(var d=i-1,f=0===i?o:[""],h=Ke(f),p=0,m=0,_=0;p<n;++p)for(var g=0,v=We(e,d+1,d=He(m=s[p])),y=e;g<h;++g)(y=ze(m>0?f[g]+" "+v:$e(v,/&\f/g,f[g])))&&(c[_++]=y);return rt(e,t,r,0===i?St:a,c,u,l)}function Ot(e,t,r){return rt(e,t,r,Tt,Fe(et),We(e,2,-2),0)}function It(e,t,r,n){return rt(e,t,r,wt,We(e,0,n),We(e,n+1,-1),n)}var Pt=function(e,t,r){for(var n=0,i=0;n=i,i=st(),38===n&&12===i&&(t[r]=1),!ut(i);)ot();return ct(e,Ze)},Dt=function(e,t){return dt(function(e,t){var r=-1,n=44;do{switch(ut(n)){case 0:38===n&&12===st()&&(t[r]=1),e[r]+=Pt(Ze-1,t,r);break;case 2:e[r]+=ft(n);break;case 4:if(44===n){e[++r]=58===st()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Fe(n)}}while(n=ot());return e}(lt(e),t))},jt=new WeakMap,Ut=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||jt.get(r))&&!n){jt.set(e,!0);for(var i=[],o=Dt(t,i),s=r.props,a=0,c=0;a<o.length;a++)for(var u=0;u<s.length;u++,c++)e.props[c]=i[a]?o[a].replace(/&\f/g,s[u]):s[u]+" "+o[a]}}},Mt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},qt=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case wt:e.return=xt(e.value,e.length);break;case Et:return Rt([nt(e,{value:$e(e.value,"@","@"+bt)})],n);case St:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Rt([nt(e,{props:[$e(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return Rt([nt(e,{props:[$e(t,/:(plac\w+)/,":-webkit-input-$1")]}),nt(e,{props:[$e(t,/:(plac\w+)/,":-moz-$1")]}),nt(e,{props:[$e(t,/:(plac\w+)/,vt+"input-$1")]})],n)}return""}))}}],Ht=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var n=e.stylisPlugins||qt;var i,o,s={},a=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)s[t[r]]=!0;a.push(e)}));var c,u,l=[Ct,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],d=function(e){var t=Ke(e);return function(r,n,i,o){for(var s="",a=0;a<t;a++)s+=e[a](r,n,i,o)||"";return s}}([Ut,Mt].concat(n,l));o=function(e,t,r,n){c=r,Rt(At(e?e+"{"+t.styles+"}":t.styles),d),n&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new qe({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return f.sheet.hydrate(a),f};var Ft=function(e){for(var t,r=0,n=0,i=e.length;i>=4;++n,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},Lt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},zt=/[A-Z]|^ms/g,$t=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Gt=function(e){return 45===e.charCodeAt(1)},Vt=function(e){return null!=e&&"boolean"!==typeof e},Wt=je((function(e){return Gt(e)?e:e.replace(zt,"-$&").toLowerCase()})),Bt=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace($t,(function(e,t,r){return Yt={name:t,styles:r,next:Yt},t}))}return 1===Lt[e]||Gt(e)||"number"!==typeof t||0===t?t:t+"px"};function Kt(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return Yt={name:r.name,styles:r.styles,next:Yt},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)Yt={name:n.name,styles:n.styles,next:Yt},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Kt(e,t,r[i])+";";else for(var o in r){var s=r[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?n+=o+"{"+t[s]+"}":Vt(s)&&(n+=Wt(o)+":"+Bt(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=Kt(e,t,s);switch(o){case"animation":case"animationName":n+=Wt(o)+":"+a+";";break;default:n+=o+"{"+a+"}"}}else for(var c=0;c<s.length;c++)Vt(s[c])&&(n+=Wt(o)+":"+Bt(o,s[c])+";")}return n}(e,t,r);case"function":if(void 0!==e){var i=Yt,o=r(e);return Yt=i,Kt(e,t,o)}}if(null==t)return r;var s=t[r];return void 0!==s?s:r}var Yt,Xt=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Jt=function(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,i="";Yt=void 0;var o=e[0];null==o||void 0===o.raw?(n=!1,i+=Kt(r,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=Kt(r,t,e[s]),n&&(i+=o[s]);Xt.lastIndex=0;for(var a,c="";null!==(a=Xt.exec(i));)c+="-"+a[1];return{name:Ft(i)+c,styles:i,next:Yt}},Qt=!!d.useInsertionEffect&&d.useInsertionEffect,Zt=Qt||function(e){return e()},er=(Qt||l.useLayoutEffect,(0,l.createContext)("undefined"!==typeof HTMLElement?Ht({key:"css"}):null));er.Provider;var tr=function(e){return(0,l.forwardRef)((function(t,r){var n=(0,l.useContext)(er);return e(t,n,r)}))},rr=(0,l.createContext)({});function nr(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}var ir=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},or=Me,sr=function(e){return"theme"!==e},ar=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?or:sr},cr=function(e,t,r){var n;if(t){var i=t.shouldForwardProp;n=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof n&&r&&(n=e.__emotion_forwardProp),n},ur=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;ir(t,r,n);Zt((function(){return function(e,t,r){ir(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+n:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,r,n)}));return null},lr=function e(t,r){var n,i,o=t.__emotion_real===t,s=o&&t.__emotion_base||t;void 0!==r&&(n=r.label,i=r.target);var a=cr(t,r,o),c=a||ar(s),d=!c("as");return function(){var f=arguments,h=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==n&&h.push("label:"+n+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var p=f.length,m=1;m<p;m++)h.push(f[m],f[0][m])}var _=tr((function(e,t,r){var n=d&&e.as||s,o="",u=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=(0,l.useContext)(rr)}"string"===typeof e.className?o=nr(t.registered,u,e.className):null!=e.className&&(o=e.className+" ");var m=Jt(h.concat(u),t.registered,f);o+=t.key+"-"+m.name,void 0!==i&&(o+=" "+i);var _=d&&void 0===a?ar(n):c,g={};for(var v in e)d&&"as"===v||_(v)&&(g[v]=e[v]);return g.className=o,g.ref=r,(0,l.createElement)(l.Fragment,null,(0,l.createElement)(ur,{cache:t,serialized:m,isStringTag:"string"===typeof n}),(0,l.createElement)(n,g))}));return _.displayName=void 0!==n?n:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=s,_.__emotion_styles=h,_.__emotion_forwardProp=a,Object.defineProperty(_,"toString",{value:function(){return"."+i}}),_.withComponent=function(t,n){return e(t,u({},r,n,{shouldForwardProp:cr(_,n,!0)})).apply(void 0,h)},_}},dr=lr.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){dr[e]=dr(e)}));var fr=dr;const hr=["variant"];function pr(e){return 0===e.length}function mr(e){const{variant:t}=e,r=f(e,hr);let n=t||"";return Object.keys(r).sort().forEach((t=>{n+="color"===t?pr(n)?e[t]:s(e[t]):`${pr(n)?t:s(t)}${s(e[t].toString())}`})),n}var _r=function(...e){const t=e.reduce(((e,t)=>(t.filterProps.forEach((r=>{e[r]=t})),e)),{}),r=e=>Object.keys(e).reduce(((r,n)=>t[n]?k(r,t[n](e)):r),{});return r.propTypes={},r.filterProps=e.reduce(((e,t)=>e.concat(t.filterProps)),[]),r};function gr(e){return"number"!==typeof e?e:`${e}px solid`}const vr=A({prop:"border",themeKey:"borders",transform:gr}),yr=A({prop:"borderTop",themeKey:"borders",transform:gr}),br=A({prop:"borderRight",themeKey:"borders",transform:gr}),Tr=A({prop:"borderBottom",themeKey:"borders",transform:gr}),Sr=A({prop:"borderLeft",themeKey:"borders",transform:gr}),wr=A({prop:"borderColor",themeKey:"palette"}),Er=A({prop:"borderTopColor",themeKey:"palette"}),Rr=A({prop:"borderRightColor",themeKey:"palette"}),Cr=A({prop:"borderBottomColor",themeKey:"palette"}),xr=A({prop:"borderLeftColor",themeKey:"palette"}),Ar=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=M(e.theme,"shape.borderRadius",4),r=e=>({borderRadius:H(t,e)});return w(e,e.borderRadius,r)}return null};Ar.propTypes={},Ar.filterProps=["borderRadius"];var kr=_r(vr,yr,br,Tr,Sr,wr,Er,Rr,Cr,xr,Ar);var Nr=_r(A({prop:"displayPrint",cssProperty:!1,transform:e=>({"@media print":{display:e}})}),A({prop:"display"}),A({prop:"overflow"}),A({prop:"textOverflow"}),A({prop:"visibility"}),A({prop:"whiteSpace"}));var Or=_r(A({prop:"flexBasis"}),A({prop:"flexDirection"}),A({prop:"flexWrap"}),A({prop:"justifyContent"}),A({prop:"alignItems"}),A({prop:"alignContent"}),A({prop:"order"}),A({prop:"flex"}),A({prop:"flexGrow"}),A({prop:"flexShrink"}),A({prop:"alignSelf"}),A({prop:"justifyItems"}),A({prop:"justifySelf"}));const Ir=e=>{if(void 0!==e.gap&&null!==e.gap){const t=M(e.theme,"spacing",8),r=e=>({gap:H(t,e)});return w(e,e.gap,r)}return null};Ir.propTypes={},Ir.filterProps=["gap"];const Pr=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=M(e.theme,"spacing",8),r=e=>({columnGap:H(t,e)});return w(e,e.columnGap,r)}return null};Pr.propTypes={},Pr.filterProps=["columnGap"];const Dr=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=M(e.theme,"spacing",8),r=e=>({rowGap:H(t,e)});return w(e,e.rowGap,r)}return null};Dr.propTypes={},Dr.filterProps=["rowGap"];var jr=_r(Ir,Pr,Dr,A({prop:"gridColumn"}),A({prop:"gridRow"}),A({prop:"gridAutoFlow"}),A({prop:"gridAutoColumns"}),A({prop:"gridAutoRows"}),A({prop:"gridTemplateColumns"}),A({prop:"gridTemplateRows"}),A({prop:"gridTemplateAreas"}),A({prop:"gridArea"}));var Ur=_r(A({prop:"position"}),A({prop:"zIndex",themeKey:"zIndex"}),A({prop:"top"}),A({prop:"right"}),A({prop:"bottom"}),A({prop:"left"}));var Mr=_r(A({prop:"color",themeKey:"palette"}),A({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),A({prop:"backgroundColor",themeKey:"palette"}));var qr=A({prop:"boxShadow",themeKey:"shadows"});function Hr(e){return e<=1&&0!==e?100*e+"%":e}const Fr=A({prop:"width",transform:Hr}),Lr=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var r,n,i;return{maxWidth:(null==(r=e.theme)||null==(n=r.breakpoints)||null==(i=n.values)?void 0:i[t])||T[t]||Hr(t)}};return w(e,e.maxWidth,t)}return null};Lr.filterProps=["maxWidth"];const zr=A({prop:"minWidth",transform:Hr}),$r=A({prop:"height",transform:Hr}),Gr=A({prop:"maxHeight",transform:Hr}),Vr=A({prop:"minHeight",transform:Hr});A({prop:"size",cssProperty:"width",transform:Hr}),A({prop:"size",cssProperty:"height",transform:Hr});var Wr=_r(Fr,Lr,zr,$r,Gr,Vr,A({prop:"boxSizing"}));const Br=A({prop:"fontFamily",themeKey:"typography"}),Kr=A({prop:"fontSize",themeKey:"typography"}),Yr=A({prop:"fontStyle",themeKey:"typography"}),Xr=A({prop:"fontWeight",themeKey:"typography"}),Jr=A({prop:"letterSpacing"}),Qr=A({prop:"textTransform"}),Zr=A({prop:"lineHeight"}),en=A({prop:"textAlign"});var tn=_r(A({prop:"typography",cssProperty:!1,themeKey:"typography"}),Br,Kr,Yr,Xr,Jr,Zr,en,Qr);const rn={borders:kr.filterProps,display:Nr.filterProps,flexbox:Or.filterProps,grid:jr.filterProps,positions:Ur.filterProps,palette:Mr.filterProps,shadows:qr.filterProps,sizing:Wr.filterProps,spacing:V.filterProps,typography:tn.filterProps},nn={borders:kr,display:Nr,flexbox:Or,grid:jr,positions:Ur,palette:Mr,shadows:qr,sizing:Wr,spacing:V,typography:tn};Object.keys(rn).reduce(((e,t)=>(rn[t].forEach((r=>{e[r]=nn[t]})),e)),{});const on=function(e=nn){const t=Object.keys(e).reduce(((t,r)=>(e[r].filterProps.forEach((n=>{t[n]=e[r]})),t)),{});function r(e,r,n){const i={[e]:r,theme:n},o=t[e];return o?o(i):{[e]:r}}return function e(n){const{sx:i,theme:o={}}=n||{};if(!i)return null;function s(n){let i=n;if("function"===typeof n)i=n(o);else if("object"!==typeof n)return n;if(!i)return null;const s=E(o.breakpoints),a=Object.keys(s);let c=s;return Object.keys(i).forEach((n=>{const s=(a=i[n],u=o,"function"===typeof a?a(u):a);var a,u;if(null!==s&&void 0!==s)if("object"===typeof s)if(t[n])c=k(c,r(n,s,o));else{const t=w({theme:o},s,(e=>({[n]:e})));!function(...e){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]),r=new Set(t);return e.every((e=>r.size===Object.keys(e).length))}(t,s)?c=k(c,t):c[n]=e({sx:s,theme:o})}else c=k(c,r(n,s,o))})),R(a,c)}return Array.isArray(i)?i.map(s):s(i)}}();on.filterProps=["sx"];var sn=on;const an=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],cn=["theme"],un=["theme"];function ln(e){return 0===Object.keys(e).length}function dn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const fn=B();const hn=function(e={}){const{defaultTheme:t=fn,rootShouldForwardProp:r=dn,slotShouldForwardProp:n=dn,styleFunctionSx:i=sn}=e,o=e=>{const r=ln(e.theme)?t:e.theme;return i(u({},e,{theme:r}))};return o.__mui_systemSx=!0,(e,i={})=>{((e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))})(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:s,slot:a,skipVariantsResolver:c,skipSx:l,overridesResolver:d}=i,h=f(i,an),p=void 0!==c?c:a&&"Root"!==a||!1,m=l||!1;let _=dn;"Root"===a?_=r:a?_=n:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(_=void 0);const g=function(e,t){return fr(e,t)}(e,u({shouldForwardProp:_,label:undefined},h)),v=(e,...r)=>{const n=r?r.map((e=>"function"===typeof e&&e.__emotion_real!==e?r=>{let{theme:n}=r,i=f(r,cn);return e(u({theme:ln(n)?t:n},i))}:e)):[];let i=e;s&&d&&n.push((e=>{const r=ln(e.theme)?t:e.theme,n=((e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null)(s,r);if(n){const t={};return Object.entries(n).forEach((([n,i])=>{t[n]="function"===typeof i?i(u({},e,{theme:r})):i})),d(e,t)}return null})),s&&!p&&n.push((e=>{const r=ln(e.theme)?t:e.theme;return((e,t,r,n)=>{var i,o;const{ownerState:s={}}=e,a=[],c=null==r||null==(i=r.components)||null==(o=i[n])?void 0:o.variants;return c&&c.forEach((r=>{let n=!0;Object.keys(r.props).forEach((t=>{s[t]!==r.props[t]&&e[t]!==r.props[t]&&(n=!1)})),n&&a.push(t[mr(r.props)])})),a})(e,((e,t)=>{let r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);const n={};return r.forEach((e=>{const t=mr(e.props);n[t]=e.style})),n})(s,r),r,s)})),m||n.push(o);const a=n.length-r.length;if(Array.isArray(e)&&a>0){const t=new Array(a).fill("");i=[...e,...t],i.raw=[...e.raw,...t]}else"function"===typeof e&&e.__emotion_real!==e&&(i=r=>{let{theme:n}=r,i=f(r,un);return e(u({theme:ln(n)?t:n},i))});return g(i,...n)};return g.withConfig&&(v.withConfig=g.withConfig),v}}({defaultTheme:Pe,rootShouldForwardProp:e=>dn(e)&&"classes"!==e});var pn=hn;const mn={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function _n(e,t,r="Mui"){const n=mn[t];return n?`${r}-${n}`:`${i.generate(e)}-${t}`}function gn(e){return _n("MuiSvgIcon",e)}!function(e,t,r="Mui"){const n={};t.forEach((t=>{n[t]=_n(e,t,r)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var vn=r(5893);const yn=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],bn=e=>{const{color:t,fontSize:r,classes:n}=e;return function(e,t,r){const n={};return Object.keys(e).forEach((i=>{n[i]=e[i].reduce(((e,n)=>(n&&(e.push(t(n)),r&&r[n]&&e.push(r[n])),e)),[]).join(" ")})),n}({root:["root","inherit"!==t&&`color${a(t)}`,`fontSize${a(r)}`]},gn,n)},Tn=pn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"inherit"!==r.color&&t[`color${a(r.color)}`],t[`fontSize${a(r.fontSize)}`]]}})((({theme:e,ownerState:t})=>{var r,n,i,o,s,a,c,u,l,d,f,h,p,m,_,g,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(r=e.transitions)||null==(n=r.create)?void 0:n.call(r,"fill",{duration:null==(i=e.transitions)||null==(o=i.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(s=e.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(c=e.typography)||null==(u=c.pxToRem)?void 0:u.call(c,24))||"1.5rem",large:(null==(l=e.typography)||null==(d=l.pxToRem)?void 0:d.call(l,35))||"2.1875"}[t.fontSize],color:null!=(f=null==(h=(e.vars||e).palette)||null==(p=h[t.color])?void 0:p.main)?f:{action:null==(m=(e.vars||e).palette)||null==(_=m.action)?void 0:_.active,disabled:null==(g=(e.vars||e).palette)||null==(v=g.action)?void 0:v.disabled,inherit:void 0}[t.color]}})),Sn=l.forwardRef((function(e,t){const r=De({props:e,name:"MuiSvgIcon"}),{children:n,className:i,color:o="inherit",component:s="svg",fontSize:a="medium",htmlColor:c,inheritViewBox:l=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,m=f(r,yn),_=u({},r,{color:o,component:s,fontSize:a,instanceFontSize:e.fontSize,inheritViewBox:l,viewBox:h}),g={};l||(g.viewBox=h);const v=bn(_);return(0,vn.jsxs)(Tn,u({as:s,className:p(v.root,i),ownerState:_,focusable:"false",color:c,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:t},g,m,{children:[n,d?(0,vn.jsx)("title",{children:d}):null]}))}));Sn.muiName="SvgIcon";var wn=Sn;function En(e,t){const r=(r,n)=>(0,vn.jsx)(wn,u({"data-testid":`${t}Icon`,ref:n},r,{children:e}));return r.muiName=wn.muiName,l.memo(l.forwardRef(r))}var Rn=function(e,t=166){let r;function n(...n){clearTimeout(r),r=setTimeout((()=>{e.apply(this,n)}),t)}return n.clear=()=>{clearTimeout(r)},n};var Cn=function(e,t){return()=>null};var xn=function(e,t){return l.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function An(e){return e&&e.ownerDocument||document}var kn=An;var Nn=function(e){return An(e).defaultView||window};var On=function(e,t){return()=>null};function In(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var Pn=In;var Dn="undefined"!==typeof window?l.useLayoutEffect:l.useEffect,jn=Dn;let Un=0;const Mn=d.useId;var qn=function(e){if(void 0!==Mn){const t=Mn();return null!=e?e:t}return function(e){const[t,r]=l.useState(e),n=e||t;return l.useEffect((()=>{null==t&&(Un+=1,r(`mui-${Un}`))}),[t]),n}(e)};var Hn=function(e,t,r,n,i){return null};var Fn=function({controlled:e,default:t,name:r,state:n="value"}){const{current:i}=l.useRef(void 0!==e),[o,s]=l.useState(t);return[i?e:o,l.useCallback((e=>{i||s(e)}),[])]};var Ln=function(e){const t=l.useRef(e);return Dn((()=>{t.current=e})),l.useCallback(((...e)=>(0,t.current)(...e)),[])};var zn=function(e,t){return l.useMemo((()=>null==e&&null==t?null:r=>{In(e,r),In(t,r)}),[e,t])};let $n,Gn=!0,Vn=!1;const Wn={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Bn(e){e.metaKey||e.altKey||e.ctrlKey||(Gn=!0)}function Kn(){Gn=!1}function Yn(){"hidden"===this.visibilityState&&Vn&&(Gn=!0)}function Xn(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(r){}return Gn||function(e){const{type:t,tagName:r}=e;return!("INPUT"!==r||!Wn[t]||e.readOnly)||"TEXTAREA"===r&&!e.readOnly||!!e.isContentEditable}(t)}var Jn=function(){const e=l.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Bn,!0),t.addEventListener("mousedown",Kn,!0),t.addEventListener("pointerdown",Kn,!0),t.addEventListener("touchstart",Kn,!0),t.addEventListener("visibilitychange",Yn,!0))}),[]),t=l.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Xn(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Vn=!0,window.clearTimeout($n),$n=window.setTimeout((()=>{Vn=!1}),100),t.current=!1,!0)},ref:e}};const Qn={configure:e=>{console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),i.configure(e)}}},1227:function(e,t,r){var n=r(3454);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(r){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(r){}!e&&"undefined"!==typeof n&&"env"in n&&(e=n.env.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(2447)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},2447:function(e,t,r){e.exports=function(e){function t(e){let r,i,o,s=null;function a(...e){if(!a.enabled)return;const n=a,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!==typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,i)=>{if("%%"===r)return"%";s++;const o=t.formatters[i];if("function"===typeof o){const t=e[s];r=o.call(n,t),e.splice(s,1),s--}return r})),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"===typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+("undefined"===typeof r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(7824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},7187:function(e){"use strict";var t,r="object"===typeof Reflect?Reflect:null,n=r&&"function"===typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"===typeof e.on&&m(e,"error",t,r)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,o,s,u;if(a(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"===typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"===typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"===typeof c)n(c,this,t);else{var u=c.length,l=p(c,u);for(r=0;r<u;++r)n(l[r],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,s;if(a(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7830:function(e,t,r){"use strict";function n(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw s}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o=r(5424),s=r(965),a=r(3790),c=r(1987),u=r(7351),l=r(8063);t.settings={authorization_user:null,password:null,realm:null,ha1:null,authorization_jwt:null,display_name:null,uri:null,contact_uri:null,instance_id:null,use_preloaded_route:!1,session_timers:!0,session_timers_refresh_method:s.UPDATE,session_timers_force_refresher:!1,no_answer_timeout:60,register:!0,register_expires:600,registrar_server:null,sockets:null,connection_recovery_max_interval:s.CONNECTION_RECOVERY_MAX_INTERVAL,connection_recovery_min_interval:s.CONNECTION_RECOVERY_MIN_INTERVAL,via_host:"".concat(o.createRandomToken(12),".invalid")};var d={mandatory:{sockets:function(e){var t=[];if(u.isSocket(e))t.push({socket:e});else{if(!Array.isArray(e)||!e.length)return;var r,i=n(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;Object.prototype.hasOwnProperty.call(o,"socket")&&u.isSocket(o.socket)?t.push(o):u.isSocket(o)&&t.push({socket:o})}}catch(s){i.e(s)}finally{i.f()}}return t},uri:function(e){/^sip:/i.test(e)||(e="".concat(s.SIP,":").concat(e));var t=c.parse(e);return t&&t.user?t:void 0}},optional:{authorization_user:function(e){return-1===a.parse('"'.concat(e,'"'),"quoted_string")?void 0:e},authorization_jwt:function(e){if("string"===typeof e)return e},user_agent:function(e){if("string"===typeof e)return e},connection_recovery_max_interval:function(e){if(o.isDecimal(e)){var t=Number(e);if(t>0)return t}},connection_recovery_min_interval:function(e){if(o.isDecimal(e)){var t=Number(e);if(t>0)return t}},contact_uri:function(e){if("string"===typeof e){var t=a.parse(e,"SIP_URI");if(-1!==t)return t}},display_name:function(e){return e},instance_id:function(e){return/^uuid:/i.test(e)&&(e=e.substr(5)),-1===a.parse(e,"uuid")?void 0:e},no_answer_timeout:function(e){if(o.isDecimal(e)){var t=Number(e);if(t>0)return t}},session_timers:function(e){if("boolean"===typeof e)return e},session_timers_refresh_method:function(e){if("string"===typeof e&&((e=e.toUpperCase())===s.INVITE||e===s.UPDATE))return e},session_timers_force_refresher:function(e){if("boolean"===typeof e)return e},password:function(e){return String(e)},realm:function(e){return String(e)},ha1:function(e){return String(e)},register:function(e){if("boolean"===typeof e)return e},register_expires:function(e){if(o.isDecimal(e)){var t=Number(e);if(t>0)return t}},registrar_server:function(e){/^sip:/i.test(e)||(e="".concat(s.SIP,":").concat(e));var t=c.parse(e);return t?t.user?void 0:t:void 0},use_preloaded_route:function(e){if("boolean"===typeof e)return e}}};t.load=function(e,t){for(var r in d.mandatory){if(!t.hasOwnProperty(r))throw new l.ConfigurationError(r);var n=t[r],i=d.mandatory[r](n);if(void 0===i)throw new l.ConfigurationError(r,n);e[r]=i}for(var s in d.optional)if(t.hasOwnProperty(s)){var a=t[s];if(o.isEmpty(a))continue;var c=d.optional[s](a);if(void 0===c)throw new l.ConfigurationError(s,a);e[s]=c}}},965:function(e,t,r){"use strict";var n=r(2403);e.exports={USER_AGENT:"".concat(n.title," ").concat(n.version),SIP:"sip",SIPS:"sips",causes:{CONNECTION_ERROR:"Connection Error",REQUEST_TIMEOUT:"Request Timeout",SIP_FAILURE_CODE:"SIP Failure Code",INTERNAL_ERROR:"Internal Error",BUSY:"Busy",REJECTED:"Rejected",REDIRECTED:"Redirected",UNAVAILABLE:"Unavailable",NOT_FOUND:"Not Found",ADDRESS_INCOMPLETE:"Address Incomplete",INCOMPATIBLE_SDP:"Incompatible SDP",MISSING_SDP:"Missing SDP",AUTHENTICATION_ERROR:"Authentication Error",BYE:"Terminated",WEBRTC_ERROR:"WebRTC Error",CANCELED:"Canceled",NO_ANSWER:"No Answer",EXPIRES:"Expires",NO_ACK:"No ACK",DIALOG_ERROR:"Dialog Error",USER_DENIED_MEDIA_ACCESS:"User Denied Media Access",BAD_MEDIA_DESCRIPTION:"Bad Media Description",RTP_TIMEOUT:"RTP Timeout"},SIP_ERROR_CAUSES:{REDIRECTED:[300,301,302,305,380],BUSY:[486,600],REJECTED:[403,603],NOT_FOUND:[404,604],UNAVAILABLE:[480,410,408,430],ADDRESS_INCOMPLETE:[484,424],INCOMPATIBLE_SDP:[488,606],AUTHENTICATION_ERROR:[401,407]},ACK:"ACK",BYE:"BYE",CANCEL:"CANCEL",INFO:"INFO",INVITE:"INVITE",MESSAGE:"MESSAGE",NOTIFY:"NOTIFY",OPTIONS:"OPTIONS",REGISTER:"REGISTER",REFER:"REFER",UPDATE:"UPDATE",SUBSCRIBE:"SUBSCRIBE",DTMF_TRANSPORT:{INFO:"INFO",RFC2833:"RFC2833"},REASON_PHRASE:{100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",424:"Bad Location Information",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"JsSIP Internal Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"},ALLOWED_METHODS:"INVITE,ACK,CANCEL,BYE,UPDATE,MESSAGE,OPTIONS,REFER,INFO,NOTIFY",ACCEPTED_BODY_TYPES:"application/sdp, application/dtmf-relay",MAX_FORWARDS:69,SESSION_EXPIRES:90,MIN_SESSION_EXPIRES:60,CONNECTION_RECOVERY_MAX_INTERVAL:30,CONNECTION_RECOVERY_MIN_INTERVAL:2}},316:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}var s=r(356),a=r(6497),c=r(965),u=r(3754),l=r(5604),d=r(5424),f=new s("Dialog"),h={STATUS_EARLY:1,STATUS_CONFIRMED:2};e.exports=function(){function e(t,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h.STATUS_CONFIRMED;if(n(this,e),this._owner=t,this._ua=t._ua,this._uac_pending_reply=!1,this._uas_pending_reply=!1,!r.hasHeader("contact"))return{error:"unable to create a Dialog without Contact header field"};r instanceof a.IncomingResponse&&(o=r.status_code<200?h.STATUS_EARLY:h.STATUS_CONFIRMED);var s=r.parseHeader("contact");"UAS"===i?(this._id={call_id:r.call_id,local_tag:r.to_tag,remote_tag:r.from_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this._state=o,this._remote_seqnum=r.cseq,this._local_uri=r.parseHeader("to").uri,this._remote_uri=r.parseHeader("from").uri,this._remote_target=s.uri,this._route_set=r.getHeaders("record-route"),this._ack_seqnum=this._remote_seqnum):"UAC"===i&&(this._id={call_id:r.call_id,local_tag:r.from_tag,remote_tag:r.to_tag,toString:function(){return this.call_id+this.local_tag+this.remote_tag}},this._state=o,this._local_seqnum=r.cseq,this._local_uri=r.parseHeader("from").uri,this._remote_uri=r.parseHeader("to").uri,this._remote_target=s.uri,this._route_set=r.getHeaders("record-route").reverse(),this._ack_seqnum=null),this._ua.newDialog(this),f.debug("new ".concat(i," dialog created with status ").concat(this._state===h.STATUS_EARLY?"EARLY":"CONFIRMED"))}return o(e,null,[{key:"C",get:function(){return h}}]),o(e,[{key:"update",value:function(e,t){this._state=h.STATUS_CONFIRMED,f.debug("dialog ".concat(this._id.toString(),"  changed to CONFIRMED state")),"UAC"===t&&(this._route_set=e.getHeaders("record-route").reverse())}},{key:"terminate",value:function(){f.debug("dialog ".concat(this._id.toString()," deleted")),this._ua.destroyDialog(this)}},{key:"sendRequest",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=d.cloneArray(r.extraHeaders),i=d.cloneObject(r.eventHandlers),o=r.body||null,s=this._createRequest(e,n,o);i.onAuthenticated=function(){t._local_seqnum+=1};var a=new l(this,s,i);return a.send(),s}},{key:"receiveRequest",value:function(e){this._checkInDialogRequest(e)&&(e.method===c.ACK&&null!==this._ack_seqnum?this._ack_seqnum=null:e.method===c.INVITE&&(this._ack_seqnum=e.cseq),this._owner.receiveRequest(e))}},{key:"_createRequest",value:function(e,t,r){t=d.cloneArray(t),this._local_seqnum||(this._local_seqnum=Math.floor(1e4*Math.random()));var n=e===c.CANCEL||e===c.ACK?this._local_seqnum:this._local_seqnum+=1;return new a.OutgoingRequest(e,this._remote_target,this._ua,{cseq:n,call_id:this._id.call_id,from_uri:this._local_uri,from_tag:this._id.local_tag,to_uri:this._remote_uri,to_tag:this._id.remote_tag,route_set:this._route_set},t,r)}},{key:"_checkInDialogRequest",value:function(e){var t=this;if(this._remote_seqnum)if(e.cseq<this._remote_seqnum){if(e.method!==c.ACK)return e.reply(500),!1;if(null===this._ack_seqnum||e.cseq!==this._ack_seqnum)return!1}else e.cseq>this._remote_seqnum&&(this._remote_seqnum=e.cseq);else this._remote_seqnum=e.cseq;if(e.method===c.INVITE||e.method===c.UPDATE&&e.body){if(!0===this._uac_pending_reply)e.reply(491);else{if(!0===this._uas_pending_reply){var r=1+(10*Math.random()|0);return e.reply(500,null,["Retry-After:".concat(r)]),!1}this._uas_pending_reply=!0;e.server_transaction.on("stateChanged",(function r(){e.server_transaction.state!==u.C.STATUS_ACCEPTED&&e.server_transaction.state!==u.C.STATUS_COMPLETED&&e.server_transaction.state!==u.C.STATUS_TERMINATED||(e.server_transaction.removeListener("stateChanged",r),t._uas_pending_reply=!1)}))}e.hasHeader("contact")&&e.server_transaction.on("stateChanged",(function(){e.server_transaction.state===u.C.STATUS_ACCEPTED&&(t._remote_target=e.parseHeader("contact").uri)}))}else e.method===c.NOTIFY&&e.hasHeader("contact")&&e.server_transaction.on("stateChanged",(function(){e.server_transaction.state===u.C.STATUS_COMPLETED&&(t._remote_target=e.parseHeader("contact").uri)}));return!0}},{key:"id",get:function(){return this._id}},{key:"local_seqnum",get:function(){return this._local_seqnum},set:function(e){this._local_seqnum=e}},{key:"owner",get:function(){return this._owner}},{key:"uac_pending_reply",get:function(){return this._uac_pending_reply},set:function(e){this._uac_pending_reply=e}},{key:"uas_pending_reply",get:function(){return this._uas_pending_reply}}]),e}()},5604:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(965),o=r(3754),s=r(7906),a=r(2066),c={onRequestTimeout:function(){},onTransportError:function(){},onSuccessResponse:function(){},onErrorResponse:function(){},onAuthenticated:function(){},onDialogError:function(){}};e.exports=function(){function e(t,r,n){for(var i in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._dialog=t,this._ua=t._ua,this._request=r,this._eventHandlers=n,this._reattempt=!1,this._reattemptTimer=null,c)Object.prototype.hasOwnProperty.call(c,i)&&(this._eventHandlers[i]||(this._eventHandlers[i]=c[i]))}var t,r,u;return t=e,(r=[{key:"send",value:function(){var e=this,t=new a(this._ua,this._request,{onRequestTimeout:function(){e._eventHandlers.onRequestTimeout()},onTransportError:function(){e._eventHandlers.onTransportError()},onAuthenticated:function(t){e._eventHandlers.onAuthenticated(t)},onReceiveResponse:function(t){e._receiveResponse(t)}});t.send(),(this._request.method===i.INVITE||this._request.method===i.UPDATE&&this._request.body)&&t.clientTransaction.state!==o.C.STATUS_TERMINATED&&(this._dialog.uac_pending_reply=!0,t.clientTransaction.on("stateChanged",(function r(){t.clientTransaction.state!==o.C.STATUS_ACCEPTED&&t.clientTransaction.state!==o.C.STATUS_COMPLETED&&t.clientTransaction.state!==o.C.STATUS_TERMINATED||(t.clientTransaction.removeListener("stateChanged",r),e._dialog.uac_pending_reply=!1)})))}},{key:"_receiveResponse",value:function(e){var t=this;408===e.status_code||481===e.status_code?this._eventHandlers.onDialogError(e):e.method===i.INVITE&&491===e.status_code?this._reattempt?e.status_code>=200&&e.status_code<300?this._eventHandlers.onSuccessResponse(e):e.status_code>=300&&this._eventHandlers.onErrorResponse(e):(this._request.cseq=this._dialog.local_seqnum+=1,this._reattemptTimer=setTimeout((function(){t._dialog.owner.status!==s.C.STATUS_TERMINATED&&(t._reattempt=!0,t._request_sender.send())}),1e3)):e.status_code>=200&&e.status_code<300?this._eventHandlers.onSuccessResponse(e):e.status_code>=300&&this._eventHandlers.onErrorResponse(e)}},{key:"request",get:function(){return this._request}}])&&n(t.prototype,r),u&&n(t,u),e}()},2999:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(356),o=r(5424),s=new i("DigestAuthentication");e.exports=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._credentials=t,this._cnonce=null,this._nc=0,this._ncHex="00000000",this._algorithm=null,this._realm=null,this._nonce=null,this._opaque=null,this._stale=null,this._qop=null,this._method=null,this._uri=null,this._ha1=null,this._response=null}var t,r,i;return t=e,r=[{key:"get",value:function(e){switch(e){case"realm":return this._realm;case"ha1":return this._ha1;default:return void s.warn('get() | cannot get "%s" parameter',e)}}},{key:"authenticate",value:function(e,t){var r=e.method,n=e.ruri,i=e.body,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this._algorithm=t.algorithm,this._realm=t.realm,this._nonce=t.nonce,this._opaque=t.opaque,this._stale=t.stale,this._algorithm){if("MD5"!==this._algorithm)return s.warn('authenticate() | challenge with Digest algorithm different than "MD5", authentication aborted'),!1}else this._algorithm="MD5";if(!this._nonce)return s.warn("authenticate() | challenge without Digest nonce, authentication aborted"),!1;if(!this._realm)return s.warn("authenticate() | challenge without Digest realm, authentication aborted"),!1;if(!this._credentials.password){if(!this._credentials.ha1)return s.warn("authenticate() | no plain SIP password nor ha1 provided, authentication aborted"),!1;if(this._credentials.realm!==this._realm)return s.warn('authenticate() | no plain SIP password, and stored `realm` does not match the given `realm`, cannot authenticate [stored:"%s", given:"%s"]',this._credentials.realm,this._realm),!1}if(t.qop)if(t.qop.indexOf("auth-int")>-1)this._qop="auth-int";else{if(!(t.qop.indexOf("auth")>-1))return s.warn('authenticate() | challenge without Digest qop different than "auth" or "auth-int", authentication aborted'),!1;this._qop="auth"}else this._qop=null;this._method=r,this._uri=n,this._cnonce=a||o.createRandomToken(12),this._nc+=1;var c,u,l=Number(this._nc).toString(16);return this._ncHex="00000000".substr(0,8-l.length)+l,4294967296===this._nc&&(this._nc=1,this._ncHex="00000001"),this._credentials.password?this._ha1=o.calculateMD5("".concat(this._credentials.username,":").concat(this._realm,":").concat(this._credentials.password)):this._ha1=this._credentials.ha1,"auth"===this._qop?(c="".concat(this._method,":").concat(this._uri),u=o.calculateMD5(c),s.debug('authenticate() | using qop=auth [a2:"%s"]',c),this._response=o.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(this._ncHex,":").concat(this._cnonce,":auth:").concat(u))):"auth-int"===this._qop?(c="".concat(this._method,":").concat(this._uri,":").concat(o.calculateMD5(i||"")),u=o.calculateMD5(c),s.debug('authenticate() | using qop=auth-int [a2:"%s"]',c),this._response=o.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(this._ncHex,":").concat(this._cnonce,":auth-int:").concat(u))):null===this._qop&&(c="".concat(this._method,":").concat(this._uri),u=o.calculateMD5(c),s.debug('authenticate() | using qop=null [a2:"%s"]',c),this._response=o.calculateMD5("".concat(this._ha1,":").concat(this._nonce,":").concat(u))),s.debug("authenticate() | response generated"),!0}},{key:"toString",value:function(){var e=[];if(!this._response)throw new Error("response field does not exist, cannot generate Authorization header");return e.push("algorithm=".concat(this._algorithm)),e.push('username="'.concat(this._credentials.username,'"')),e.push('realm="'.concat(this._realm,'"')),e.push('nonce="'.concat(this._nonce,'"')),e.push('uri="'.concat(this._uri,'"')),e.push('response="'.concat(this._response,'"')),this._opaque&&e.push('opaque="'.concat(this._opaque,'"')),this._qop&&(e.push("qop=".concat(this._qop)),e.push('cnonce="'.concat(this._cnonce,'"')),e.push("nc=".concat(this._ncHex))),"Digest ".concat(e.join(", "))}}],r&&n(t.prototype,r),i&&n(t,i),e}()},8063:function(e){"use strict";function t(e){return t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function i(e){var t=c();return function(){var r,n=l(e);if(t){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return o(this,r)}}function o(e,r){return!r||"object"!==t(r)&&"function"!==typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):r}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return a(e,arguments,l(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)},s(e)}function a(e,t,r){return a=c()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&u(i,r.prototype),i},a.apply(null,arguments)}function c(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var d=function(e){n(o,e);var t=i(o);function o(e,n){var i;return r(this,o),(i=t.call(this)).code=1,i.name="CONFIGURATION_ERROR",i.parameter=e,i.value=n,i.message=i.value?"Invalid value ".concat(JSON.stringify(i.value),' for parameter "').concat(i.parameter,'"'):"Missing parameter: ".concat(i.parameter),i}return o}(s(Error)),f=function(e){n(o,e);var t=i(o);function o(e){var n;return r(this,o),(n=t.call(this)).code=2,n.name="INVALID_STATE_ERROR",n.status=e,n.message="Invalid status: ".concat(e),n}return o}(s(Error)),h=function(e){n(o,e);var t=i(o);function o(e){var n;return r(this,o),(n=t.call(this)).code=3,n.name="NOT_SUPPORTED_ERROR",n.message=e,n}return o}(s(Error)),p=function(e){n(o,e);var t=i(o);function o(e){var n;return r(this,o),(n=t.call(this)).code=4,n.name="NOT_READY_ERROR",n.message=e,n}return o}(s(Error));e.exports={ConfigurationError:d,InvalidStateError:f,NotSupportedError:h,NotReadyError:p}},5979:function(e,t,r){"use strict";var n=r(2403),i=r(965),o=r(8063),s=r(5424),a=r(8387),c=r(1987),u=r(9437),l=r(3790),d=r(1288);r(1227)("JsSIP")("version %s",n.version),e.exports={C:i,Exceptions:o,Utils:s,UA:a,URI:c,NameAddrHeader:u,WebSocketInterface:d,Grammar:l,debug:r(1227),get name(){return n.title},get version(){return n.version}}},356:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(1227),o="JsSIP";e.exports=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t?(this._debug=i.default("".concat(o,":").concat(t)),this._warn=i.default("".concat(o,":WARN:").concat(t)),this._error=i.default("".concat(o,":ERROR:").concat(t))):(this._debug=i.default(o),this._warn=i.default("".concat(o,":WARN")),this._error=i.default("".concat(o,":ERROR"))),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}var t,r,s;return t=e,(r=[{key:"debug",get:function(){return this._debug}},{key:"warn",get:function(){return this._warn}},{key:"error",get:function(){return this._error}}])&&n(t.prototype,r),s&&n(t,s),e}()},9193:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var i=c(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return a(this,r)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var u=r(7187).EventEmitter,l=r(356),d=r(965),f=r(6497),h=r(5424),p=r(2066),m=r(8063),_=r(1987),g=new l("Message");e.exports=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,r,n,a=s(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this))._ua=e,t._request=null,t._closed=!1,t._direction=null,t._local_identity=null,t._remote_identity=null,t._is_replied=!1,t._data={},t}return t=c,r=[{key:"send",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e;if(void 0===e||void 0===t)throw new TypeError("Not enough arguments");if(!(e=this._ua.normalizeTarget(e)))throw new TypeError("Invalid target: ".concat(i));var o=h.cloneArray(n.extraHeaders),s=h.cloneObject(n.eventHandlers),a=n.contentType||"text/plain",c={};for(var u in n.fromUserName&&(c.from_uri=new _("sip",n.fromUserName,this._ua.configuration.uri.host),o.push("P-Preferred-Identity: ".concat(this._ua.configuration.uri.toString()))),n.fromDisplayName&&(c.from_display_name=n.fromDisplayName),s)Object.prototype.hasOwnProperty.call(s,u)&&this.on(u,s[u]);o.push("Content-Type: ".concat(a)),this._request=new f.OutgoingRequest(d.MESSAGE,e,this._ua,c,o),t&&(this._request.body=t);var l=new p(this._ua,this._request,{onRequestTimeout:function(){r._onRequestTimeout()},onTransportError:function(){r._onTransportError()},onReceiveResponse:function(e){r._receiveResponse(e)}});this._newMessage("local",this._request),l.send()}},{key:"init_incoming",value:function(e){this._request=e,this._newMessage("remote",e),this._is_replied||(this._is_replied=!0,e.reply(200)),this._close()}},{key:"accept",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=h.cloneArray(e.extraHeaders),r=e.body;if("incoming"!==this._direction)throw new m.NotSupportedError('"accept" not supported for outgoing Message');if(this._is_replied)throw new Error("incoming Message already replied");this._is_replied=!0,this._request.reply(200,null,t,r)}},{key:"reject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.status_code||480,r=e.reason_phrase,n=h.cloneArray(e.extraHeaders),i=e.body;if("incoming"!==this._direction)throw new m.NotSupportedError('"reject" not supported for outgoing Message');if(this._is_replied)throw new Error("incoming Message already replied");if(t<300||t>=700)throw new TypeError("Invalid status_code: ".concat(t));this._is_replied=!0,this._request.reply(t,r,n,i)}},{key:"_receiveResponse",value:function(e){if(!this._closed)switch(!0){case/^1[0-9]{2}$/.test(e.status_code):break;case/^2[0-9]{2}$/.test(e.status_code):this._succeeded("remote",e);break;default:var t=h.sipErrorCause(e.status_code);this._failed("remote",e,t)}}},{key:"_onRequestTimeout",value:function(){this._closed||this._failed("system",null,d.causes.REQUEST_TIMEOUT)}},{key:"_onTransportError",value:function(){this._closed||this._failed("system",null,d.causes.CONNECTION_ERROR)}},{key:"_close",value:function(){this._closed=!0,this._ua.destroyMessage(this)}},{key:"_newMessage",value:function(e,t){"remote"===e?(this._direction="incoming",this._local_identity=t.to,this._remote_identity=t.from):"local"===e&&(this._direction="outgoing",this._local_identity=t.from,this._remote_identity=t.to),this._ua.newMessage(this,{originator:e,message:this,request:t})}},{key:"_failed",value:function(e,t,r){g.debug("MESSAGE failed"),this._close(),g.debug('emit "failed"'),this.emit("failed",{originator:e,response:t||null,cause:r})}},{key:"_succeeded",value:function(e,t){g.debug("MESSAGE succeeded"),this._close(),g.debug('emit "succeeded"'),this.emit("succeeded",{originator:e,response:t})}},{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}}],r&&i(t.prototype,r),n&&i(t,n),c}(u)},9437:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var o=r(1987),s=r(3790);e.exports=function(){function e(t,r,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t||!(t instanceof o))throw new TypeError('missing or invalid "uri" parameter');for(var i in this._uri=t,this._parameters={},this.display_name=r,n)Object.prototype.hasOwnProperty.call(n,i)&&this.setParam(i,n[i])}return i(e,null,[{key:"parse",value:function(e){return-1!==(e=s.parse(e,"Name_Addr_Header"))?e:void 0}}]),i(e,[{key:"setParam",value:function(e,t){e&&(this._parameters[e.toLowerCase()]="undefined"===typeof t||null===t?null:t.toString())}},{key:"getParam",value:function(e){if(e)return this._parameters[e.toLowerCase()]}},{key:"hasParam",value:function(e){if(e)return!!this._parameters.hasOwnProperty(e.toLowerCase())}},{key:"deleteParam",value:function(e){if(e=e.toLowerCase(),this._parameters.hasOwnProperty(e)){var t=this._parameters[e];return delete this._parameters[e],t}}},{key:"clearParams",value:function(){this._parameters={}}},{key:"clone",value:function(){return new e(this._uri.clone(),this._display_name,JSON.parse(JSON.stringify(this._parameters)))}},{key:"_quote",value:function(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}},{key:"toString",value:function(){var e=this._display_name?'"'.concat(this._quote(this._display_name),'" '):"";for(var t in e+="<".concat(this._uri.toString(),">"),this._parameters)Object.prototype.hasOwnProperty.call(this._parameters,t)&&(e+=";".concat(t),null!==this._parameters[t]&&(e+="=".concat(this._parameters[t])));return e}},{key:"uri",get:function(){return this._uri}},{key:"display_name",get:function(){return this._display_name},set:function(e){this._display_name=0===e?"0":e}}]),e}()},9126:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var i=c(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return a(this,r)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var u=r(7187).EventEmitter,l=r(356),d=r(965),f=r(6497),h=r(5424),p=r(2066),m=r(8063),_=new l("Options");e.exports=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,r,n,a=s(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this))._ua=e,t._request=null,t._closed=!1,t._direction=null,t._local_identity=null,t._remote_identity=null,t._is_replied=!1,t._data={},t}return t=c,r=[{key:"send",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e;if(void 0===e)throw new TypeError("A target is required for OPTIONS");if(!(e=this._ua.normalizeTarget(e)))throw new TypeError("Invalid target: ".concat(i));var o=h.cloneArray(n.extraHeaders),s=h.cloneObject(n.eventHandlers),a=n.contentType||"application/sdp";for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&this.on(c,s[c]);o.push("Content-Type: ".concat(a)),this._request=new f.OutgoingRequest(d.OPTIONS,e,this._ua,null,o),t&&(this._request.body=t);var u=new p(this._ua,this._request,{onRequestTimeout:function(){r._onRequestTimeout()},onTransportError:function(){r._onTransportError()},onReceiveResponse:function(e){r._receiveResponse(e)}});this._newOptions("local",this._request),u.send()}},{key:"init_incoming",value:function(e){this._request=e,this._newOptions("remote",e),this._is_replied||(this._is_replied=!0,e.reply(200)),this._close()}},{key:"accept",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=h.cloneArray(e.extraHeaders),r=e.body;if("incoming"!==this._direction)throw new m.NotSupportedError('"accept" not supported for outgoing Options');if(this._is_replied)throw new Error("incoming Options already replied");this._is_replied=!0,this._request.reply(200,null,t,r)}},{key:"reject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.status_code||480,r=e.reason_phrase,n=h.cloneArray(e.extraHeaders),i=e.body;if("incoming"!==this._direction)throw new m.NotSupportedError('"reject" not supported for outgoing Options');if(this._is_replied)throw new Error("incoming Options already replied");if(t<300||t>=700)throw new TypeError("Invalid status_code: ".concat(t));this._is_replied=!0,this._request.reply(t,r,n,i)}},{key:"_receiveResponse",value:function(e){if(!this._closed)switch(!0){case/^1[0-9]{2}$/.test(e.status_code):break;case/^2[0-9]{2}$/.test(e.status_code):this._succeeded("remote",e);break;default:var t=h.sipErrorCause(e.status_code);this._failed("remote",e,t)}}},{key:"_onRequestTimeout",value:function(){this._closed||this._failed("system",null,d.causes.REQUEST_TIMEOUT)}},{key:"_onTransportError",value:function(){this._closed||this._failed("system",null,d.causes.CONNECTION_ERROR)}},{key:"_close",value:function(){this._closed=!0,this._ua.destroyMessage(this)}},{key:"_newOptions",value:function(e,t){"remote"===e?(this._direction="incoming",this._local_identity=t.to,this._remote_identity=t.from):"local"===e&&(this._direction="outgoing",this._local_identity=t.from,this._remote_identity=t.to),this._ua.newOptions(this,{originator:e,message:this,request:t})}},{key:"_failed",value:function(e,t,r){_.debug("OPTIONS failed"),this._close(),_.debug('emit "failed"'),this.emit("failed",{originator:e,response:t||null,cause:r})}},{key:"_succeeded",value:function(e,t){_.debug("OPTIONS succeeded"),this._close(),_.debug('emit "succeeded"'),this.emit("succeeded",{originator:e,response:t})}},{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}}],r&&i(t.prototype,r),n&&i(t,n),c}(u)},8407:function(e,t,r){"use strict";function n(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw s}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o=r(356),s=r(3790),a=r(6497),c=new o("Parser");function u(e,t){var r=t,n=0,i=0;if(e.substring(r,r+2).match(/(^\r\n)/))return-2;for(;0===n;){if(-1===(i=e.indexOf("\r\n",r)))return i;!e.substring(i+2,i+4).match(/(^\r\n)/)&&e.charAt(i+2).match(/(^\s+)/)?r=i+2:n=i}return n}function l(e,t,r,i){var o,c=t.indexOf(":",r),u=t.substring(r,c).trim(),l=t.substring(c+1,i).trim();switch(u.toLowerCase()){case"via":case"v":e.addHeader("via",l),1===e.getHeaders("via").length?(o=e.parseHeader("Via"))&&(e.via=o,e.via_branch=o.branch):o=0;break;case"from":case"f":e.setHeader("from",l),(o=e.parseHeader("from"))&&(e.from=o,e.from_tag=o.getParam("tag"));break;case"to":case"t":e.setHeader("to",l),(o=e.parseHeader("to"))&&(e.to=o,e.to_tag=o.getParam("tag"));break;case"record-route":if(-1===(o=s.parse(l,"Record_Route")))o=void 0;else{var d,f=n(o);try{for(f.s();!(d=f.n()).done;){var h=d.value;e.addHeader("record-route",l.substring(h.possition,h.offset)),e.headers["Record-Route"][e.getHeaders("record-route").length-1].parsed=h.parsed}}catch(g){f.e(g)}finally{f.f()}}break;case"call-id":case"i":e.setHeader("call-id",l),(o=e.parseHeader("call-id"))&&(e.call_id=l);break;case"contact":case"m":if(-1===(o=s.parse(l,"Contact")))o=void 0;else{var p,m=n(o);try{for(m.s();!(p=m.n()).done;){var _=p.value;e.addHeader("contact",l.substring(_.possition,_.offset)),e.headers.Contact[e.getHeaders("contact").length-1].parsed=_.parsed}}catch(g){m.e(g)}finally{m.f()}}break;case"content-length":case"l":e.setHeader("content-length",l),o=e.parseHeader("content-length");break;case"content-type":case"c":e.setHeader("content-type",l),o=e.parseHeader("content-type");break;case"cseq":e.setHeader("cseq",l),(o=e.parseHeader("cseq"))&&(e.cseq=o.value),e instanceof a.IncomingResponse&&(e.method=o.method);break;case"max-forwards":e.setHeader("max-forwards",l),o=e.parseHeader("max-forwards");break;case"www-authenticate":e.setHeader("www-authenticate",l),o=e.parseHeader("www-authenticate");break;case"proxy-authenticate":e.setHeader("proxy-authenticate",l),o=e.parseHeader("proxy-authenticate");break;case"session-expires":case"x":e.setHeader("session-expires",l),(o=e.parseHeader("session-expires"))&&(e.session_expires=o.expires,e.session_expires_refresher=o.refresher);break;case"refer-to":case"r":e.setHeader("refer-to",l),(o=e.parseHeader("refer-to"))&&(e.refer_to=o);break;case"replaces":e.setHeader("replaces",l),(o=e.parseHeader("replaces"))&&(e.replaces=o);break;case"event":case"o":e.setHeader("event",l),(o=e.parseHeader("event"))&&(e.event=o);break;default:e.addHeader(u,l),o=0}return void 0!==o||{error:'error parsing header "'.concat(u,'"')}}t.parseMessage=function(e,t){var r,n,i=e.indexOf("\r\n");if(-1!==i){var o=e.substring(0,i),d=s.parse(o,"Request_Response");if(-1!==d){d.status_code?((r=new a.IncomingResponse).status_code=d.status_code,r.reason_phrase=d.reason_phrase):((r=new a.IncomingRequest(t)).method=d.method,r.ruri=d.uri),r.data=e;for(var f=i+2;;){if(-2===(i=u(e,f))){n=f+2;break}if(-1===i)return void c.warn("parseMessage() | malformed message");if(!0!==(d=l(r,e,f,i)))return void c.warn("parseMessage() |",d.error);f=i+2}if(r.hasHeader("content-length")){var h=r.getHeader("content-length");r.body=e.substr(n,h)}else r.body=e.substring(n);return r}c.warn('parseMessage() | error parsing first line of SIP message: "'.concat(o,'"'))}else c.warn("parseMessage() | no CRLF found, not a SIP message")}},7906:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw s}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var f=r(7187).EventEmitter,h=r(766),p=r(356),m=r(965),_=r(8063),g=r(3754),v=r(5424),y=r(306),b=r(6497),T=r(316),S=r(2066),w=r(4481),E=r(2126),R=r(5774),C=r(603),x=r(1987),A=new p("RTCSession"),k={STATUS_NULL:0,STATUS_INVITE_SENT:1,STATUS_1XX_RECEIVED:2,STATUS_INVITE_RECEIVED:3,STATUS_WAITING_FOR_ANSWER:4,STATUS_ANSWERED:5,STATUS_WAITING_FOR_ACK:6,STATUS_CANCELED:7,STATUS_TERMINATED:8,STATUS_CONFIRMED:9},N=["audio","video"];e.exports=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(r,e);var t=u(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),A.debug("new"),(n=t.call(this))._id=null,n._ua=e,n._status=k.STATUS_NULL,n._dialog=null,n._earlyDialogs={},n._contact=null,n._from_tag=null,n._to_tag=null,n._connection=null,n._connectionPromiseQueue=Promise.resolve(),n._request=null,n._is_canceled=!1,n._cancel_reason="",n._is_confirmed=!1,n._late_sdp=!1,n._rtcOfferConstraints=null,n._rtcAnswerConstraints=null,n._localMediaStream=null,n._localMediaStreamLocallyGenerated=!1,n._rtcReady=!0,n._iceReady=!1,n._timers={ackTimer:null,expiresTimer:null,invite2xxTimer:null,userNoAnswerTimer:null},n._direction=null,n._local_identity=null,n._remote_identity=null,n._start_time=null,n._end_time=null,n._tones=null,n._audioMuted=!1,n._videoMuted=!1,n._localHold=!1,n._remoteHold=!1,n._sessionTimers={enabled:n._ua.configuration.session_timers,refreshMethod:n._ua.configuration.session_timers_refresh_method,defaultExpires:m.SESSION_EXPIRES,currentExpires:null,running:!1,refresher:!1,timer:null},n._referSubscribers={},n._data={},n}return a(r,null,[{key:"C",get:function(){return k}}]),a(r,[{key:"isInProgress",value:function(){switch(this._status){case k.STATUS_NULL:case k.STATUS_INVITE_SENT:case k.STATUS_1XX_RECEIVED:case k.STATUS_INVITE_RECEIVED:case k.STATUS_WAITING_FOR_ANSWER:return!0;default:return!1}}},{key:"isEstablished",value:function(){switch(this._status){case k.STATUS_ANSWERED:case k.STATUS_WAITING_FOR_ACK:case k.STATUS_CONFIRMED:return!0;default:return!1}}},{key:"isEnded",value:function(){switch(this._status){case k.STATUS_CANCELED:case k.STATUS_TERMINATED:return!0;default:return!1}}},{key:"isMuted",value:function(){return{audio:this._audioMuted,video:this._videoMuted}}},{key:"isOnHold",value:function(){return{local:this._localHold,remote:this._remoteHold}}},{key:"connect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;A.debug("connect()");var n=e,i=v.cloneObject(t.eventHandlers),o=v.cloneArray(t.extraHeaders),s=v.cloneObject(t.mediaConstraints,{audio:!0,video:!0}),a=t.mediaStream||null,c=v.cloneObject(t.pcConfig,{iceServers:[]}),u=t.rtcConstraints||null,l=t.rtcOfferConstraints||null;if(this._rtcOfferConstraints=l,this._rtcAnswerConstraints=t.rtcAnswerConstraints||null,this._data=t.data||this._data,void 0===e)throw new TypeError("Not enough arguments");if(this._status!==k.STATUS_NULL)throw new _.InvalidStateError(this._status);if(!window.RTCPeerConnection)throw new _.NotSupportedError("WebRTC not supported");if(!(e=this._ua.normalizeTarget(e)))throw new TypeError("Invalid target: ".concat(n));for(var d in this._sessionTimers.enabled&&v.isDecimal(t.sessionTimersExpires)&&(t.sessionTimersExpires>=m.MIN_SESSION_EXPIRES?this._sessionTimers.defaultExpires=t.sessionTimersExpires:this._sessionTimers.defaultExpires=m.SESSION_EXPIRES),i)Object.prototype.hasOwnProperty.call(i,d)&&this.on(d,i[d]);this._from_tag=v.newTag();var f=t.anonymous||!1,h={from_tag:this._from_tag};this._contact=this._ua.contact.toString({anonymous:f,outbound:!0}),f?(h.from_display_name="Anonymous",h.from_uri=new x("sip","anonymous","anonymous.invalid"),o.push("P-Preferred-Identity: ".concat(this._ua.configuration.uri.toString())),o.push("Privacy: id")):t.fromUserName&&(h.from_uri=new x("sip",t.fromUserName,this._ua.configuration.uri.host),o.push("P-Preferred-Identity: ".concat(this._ua.configuration.uri.toString()))),t.fromDisplayName&&(h.from_display_name=t.fromDisplayName),o.push("Contact: ".concat(this._contact)),o.push("Content-Type: application/sdp"),this._sessionTimers.enabled&&o.push("Session-Expires: ".concat(this._sessionTimers.defaultExpires).concat(this._ua.configuration.session_timers_force_refresher?";refresher=uac":"")),this._request=new b.InitialOutgoingInviteRequest(e,this._ua,h,o),this._id=this._request.call_id+this._from_tag,this._createRTCConnection(c,u),this._direction="outgoing",this._local_identity=this._request.from,this._remote_identity=this._request.to,r&&r(this),this._newRTCSession("local",this._request),this._sendInitialRequest(s,l,a)}},{key:"init_incoming",value:function(e,t){var r,n=this;A.debug("init_incoming()");var i=e.hasHeader("Content-Type")?e.getHeader("Content-Type").toLowerCase():void 0;e.body&&"application/sdp"!==i?e.reply(415):(this._status=k.STATUS_INVITE_RECEIVED,this._from_tag=e.from_tag,this._id=e.call_id+this._from_tag,this._request=e,this._contact=this._ua.contact.toString(),e.hasHeader("expires")&&(r=1e3*e.getHeader("expires")),e.to_tag=v.newTag(),this._createDialog(e,"UAS",!0)?(e.body?this._late_sdp=!1:this._late_sdp=!0,this._status=k.STATUS_WAITING_FOR_ANSWER,this._timers.userNoAnswerTimer=setTimeout((function(){e.reply(408),n._failed("local",null,m.causes.NO_ANSWER)}),this._ua.configuration.no_answer_timeout),r&&(this._timers.expiresTimer=setTimeout((function(){n._status===k.STATUS_WAITING_FOR_ANSWER&&(e.reply(487),n._failed("system",null,m.causes.EXPIRES))}),r)),this._direction="incoming",this._local_identity=e.to,this._remote_identity=e.from,t&&t(this),this._newRTCSession("remote",e),this._status!==k.STATUS_TERMINATED&&(e.reply(180,null,["Contact: ".concat(this._contact)]),this._progress("local",null))):e.reply(500,"Missing Contact header field"))}},{key:"answer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A.debug("answer()");var r=this._request,n=v.cloneArray(t.extraHeaders),o=v.cloneObject(t.mediaConstraints),s=t.mediaStream||null,a=v.cloneObject(t.pcConfig,{iceServers:[]}),c=t.rtcConstraints||null,u=t.rtcAnswerConstraints||null,l=v.cloneObject(t.rtcOfferConstraints),d=!1,f=!1,h=!1,p=!1;if(this._rtcAnswerConstraints=u,this._rtcOfferConstraints=t.rtcOfferConstraints||null,this._data=t.data||this._data,"incoming"!==this._direction)throw new _.NotSupportedError('"answer" not supported for outgoing RTCSession');if(this._status!==k.STATUS_WAITING_FOR_ANSWER)throw new _.InvalidStateError(this._status);if(this._sessionTimers.enabled&&v.isDecimal(t.sessionTimersExpires)&&(t.sessionTimersExpires>=m.MIN_SESSION_EXPIRES?this._sessionTimers.defaultExpires=t.sessionTimersExpires:this._sessionTimers.defaultExpires=m.SESSION_EXPIRES),this._status=k.STATUS_ANSWERED,this._createDialog(r,"UAS")){clearTimeout(this._timers.userNoAnswerTimer),n.unshift("Contact: ".concat(this._contact));var g=r.parseSDP();Array.isArray(g.media)||(g.media=[g.media]);var y,b=i(g.media);try{for(b.s();!(y=b.n()).done;){var T=y.value;"audio"===T.type&&(d=!0,T.direction&&"sendrecv"!==T.direction||(h=!0)),"video"===T.type&&(f=!0,T.direction&&"sendrecv"!==T.direction||(p=!0))}}catch(N){b.e(N)}finally{b.f()}if(s&&!1===o.audio){var S,w=i(s.getAudioTracks());try{for(w.s();!(S=w.n()).done;){var E=S.value;s.removeTrack(E)}}catch(N){w.e(N)}finally{w.f()}}if(s&&!1===o.video){var R,C=i(s.getVideoTracks());try{for(C.s();!(R=C.n()).done;){var x=R.value;s.removeTrack(x)}}catch(N){C.e(N)}finally{C.f()}}s||void 0!==o.audio||(o.audio=h),s||void 0!==o.video||(o.video=p),s||d||l.offerToReceiveAudio||(o.audio=!1),s||f||l.offerToReceiveVideo||(o.video=!1),this._createRTCConnection(a,c),Promise.resolve().then((function(){return s||(o.audio||o.video?(e._localMediaStreamLocallyGenerated=!0,navigator.mediaDevices.getUserMedia(o).catch((function(t){if(e._status===k.STATUS_TERMINATED)throw new Error("terminated");throw r.reply(480),e._failed("local",null,m.causes.USER_DENIED_MEDIA_ACCESS),A.warn('emit "getusermediafailed" [error:%o]',t),e.emit("getusermediafailed",t),new Error("getUserMedia() failed")}))):void 0)})).then((function(t){if(e._status===k.STATUS_TERMINATED)throw new Error("terminated");e._localMediaStream=t,t&&t.getTracks().forEach((function(r){e._connection.addTrack(r,t)}))})).then((function(){if(!e._late_sdp){var t={originator:"remote",type:"offer",sdp:r.body};A.debug('emit "sdp"'),e.emit("sdp",t);var n=new RTCSessionDescription({type:"offer",sdp:t.sdp});return e._connectionPromiseQueue=e._connectionPromiseQueue.then((function(){return e._connection.setRemoteDescription(n)})).catch((function(t){throw r.reply(488),e._failed("system",null,m.causes.WEBRTC_ERROR),A.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',t),e.emit("peerconnection:setremotedescriptionfailed",t),new Error("peerconnection.setRemoteDescription() failed")})),e._connectionPromiseQueue}})).then((function(){if(e._status===k.STATUS_TERMINATED)throw new Error("terminated");return e._connecting(r),e._late_sdp?e._createLocalDescription("offer",e._rtcOfferConstraints).catch((function(){throw r.reply(500),new Error("_createLocalDescription() failed")})):e._createLocalDescription("answer",u).catch((function(){throw r.reply(500),new Error("_createLocalDescription() failed")}))})).then((function(t){if(e._status===k.STATUS_TERMINATED)throw new Error("terminated");e._handleSessionTimersInIncomingRequest(r,n),r.reply(200,null,n,t,(function(){e._status=k.STATUS_WAITING_FOR_ACK,e._setInvite2xxTimer(r,t),e._setACKTimer(),e._accepted("local")}),(function(){e._failed("system",null,m.causes.CONNECTION_ERROR)}))})).catch((function(t){e._status!==k.STATUS_TERMINATED&&A.warn(t)}))}else r.reply(500,"Error creating dialog")}},{key:"terminate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A.debug("terminate()");var r,n=t.cause||m.causes.BYE,i=v.cloneArray(t.extraHeaders),o=t.body,s=t.status_code,a=t.reason_phrase;if(this._status===k.STATUS_TERMINATED)throw new _.InvalidStateError(this._status);switch(this._status){case k.STATUS_NULL:case k.STATUS_INVITE_SENT:case k.STATUS_1XX_RECEIVED:if(A.debug("canceling session"),s&&(s<200||s>=700))throw new TypeError("Invalid status_code: ".concat(s));s&&(a=a||m.REASON_PHRASE[s]||"",r="SIP ;cause=".concat(s,' ;text="').concat(a,'"')),this._status===k.STATUS_NULL||this._status===k.STATUS_INVITE_SENT?(this._is_canceled=!0,this._cancel_reason=r):this._status===k.STATUS_1XX_RECEIVED&&this._request.cancel(r),this._status=k.STATUS_CANCELED,this._failed("local",null,m.causes.CANCELED);break;case k.STATUS_WAITING_FOR_ANSWER:case k.STATUS_ANSWERED:if(A.debug("rejecting session"),(s=s||480)<300||s>=700)throw new TypeError("Invalid status_code: ".concat(s));this._request.reply(s,a,i,o),this._failed("local",null,m.causes.REJECTED);break;case k.STATUS_WAITING_FOR_ACK:case k.STATUS_CONFIRMED:if(A.debug("terminating session"),a=t.reason_phrase||m.REASON_PHRASE[s]||"",s&&(s<200||s>=700))throw new TypeError("Invalid status_code: ".concat(s));if(s&&i.push("Reason: SIP ;cause=".concat(s,'; text="').concat(a,'"')),this._status===k.STATUS_WAITING_FOR_ACK&&"incoming"===this._direction&&this._request.server_transaction.state!==g.C.STATUS_TERMINATED){var c=this._dialog;this.receiveRequest=function(t){t.method===m.ACK&&(e.sendRequest(m.BYE,{extraHeaders:i,body:o}),c.terminate())},this._request.server_transaction.on("stateChanged",(function(){e._request.server_transaction.state===g.C.STATUS_TERMINATED&&(e.sendRequest(m.BYE,{extraHeaders:i,body:o}),c.terminate())})),this._ended("local",null,n),this._dialog=c,this._ua.newDialog(c)}else this.sendRequest(m.BYE,{extraHeaders:i,body:o}),this._ended("local",null,n)}}},{key:"sendDTMF",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};A.debug("sendDTMF() | tones: %s",e);var r=0,n=t.duration||null,i=t.interToneGap||null,o=t.transportType||m.DTMF_TRANSPORT.INFO;if(void 0===e)throw new TypeError("Not enough arguments");if(this._status!==k.STATUS_CONFIRMED&&this._status!==k.STATUS_WAITING_FOR_ACK&&this._status!==k.STATUS_1XX_RECEIVED)throw new _.InvalidStateError(this._status);if(o!==m.DTMF_TRANSPORT.INFO&&o!==m.DTMF_TRANSPORT.RFC2833)throw new TypeError("invalid transportType: ".concat(o));if("number"===typeof e&&(e=e.toString()),!e||"string"!==typeof e||!e.match(/^[0-9A-DR#*,]+$/i))throw new TypeError("Invalid tones: ".concat(e));if(n&&!v.isDecimal(n))throw new TypeError("Invalid tone duration: ".concat(n));if(n?n<w.C.MIN_DURATION?(A.debug('"duration" value is lower than the minimum allowed, setting it to '.concat(w.C.MIN_DURATION," milliseconds")),n=w.C.MIN_DURATION):n>w.C.MAX_DURATION?(A.debug('"duration" value is greater than the maximum allowed, setting it to '.concat(w.C.MAX_DURATION," milliseconds")),n=w.C.MAX_DURATION):n=Math.abs(n):n=w.C.DEFAULT_DURATION,t.duration=n,i&&!v.isDecimal(i))throw new TypeError("Invalid interToneGap: ".concat(i));if(i?i<w.C.MIN_INTER_TONE_GAP?(A.debug('"interToneGap" value is lower than the minimum allowed, setting it to '.concat(w.C.MIN_INTER_TONE_GAP," milliseconds")),i=w.C.MIN_INTER_TONE_GAP):i=Math.abs(i):i=w.C.DEFAULT_INTER_TONE_GAP,o!==m.DTMF_TRANSPORT.RFC2833)this._tones?this._tones+=e:(this._tones=e,a.call(this));else{var s=this._getDTMFRTPSender();s&&(e=s.toneBuffer+e,s.insertDTMF(e,n,i))}function a(){var e,o=this;if(this._status===k.STATUS_TERMINATED||!this._tones||r>=this._tones.length)this._tones=null;else{var s=this._tones[r];if(r+=1,","===s)e=2e3;else{var c=new w(this);t.eventHandlers={onFailed:function(){o._tones=null}},c.send(s,t),e=n+i}setTimeout(a.bind(this),e)}}}},{key:"sendInfo",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(A.debug("sendInfo()"),this._status!==k.STATUS_CONFIRMED&&this._status!==k.STATUS_WAITING_FOR_ACK&&this._status!==k.STATUS_1XX_RECEIVED)throw new _.InvalidStateError(this._status);var n=new E(this);n.send(e,t,r)}},{key:"mute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{audio:!0,video:!1};A.debug("mute()");var t=!1,r=!1;!1===this._audioMuted&&e.audio&&(t=!0,this._audioMuted=!0,this._toggleMuteAudio(!0)),!1===this._videoMuted&&e.video&&(r=!0,this._videoMuted=!0,this._toggleMuteVideo(!0)),!0!==t&&!0!==r||this._onmute({audio:t,video:r})}},{key:"unmute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{audio:!0,video:!0};A.debug("unmute()");var t=!1,r=!1;!0===this._audioMuted&&e.audio&&(t=!0,this._audioMuted=!1,!1===this._localHold&&this._toggleMuteAudio(!1)),!0===this._videoMuted&&e.video&&(r=!0,this._videoMuted=!1,!1===this._localHold&&this._toggleMuteVideo(!1)),!0!==t&&!0!==r||this._onunmute({audio:t,video:r})}},{key:"hold",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(A.debug("hold()"),this._status!==k.STATUS_WAITING_FOR_ACK&&this._status!==k.STATUS_CONFIRMED)return!1;if(!0===this._localHold)return!1;if(!this._isReadyToReOffer())return!1;this._localHold=!0,this._onhold("local");var n={succeeded:function(){r&&r()},failed:function(){e.terminate({cause:m.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Hold Failed"})}};return t.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:n,extraHeaders:t.extraHeaders}):this._sendReinvite({eventHandlers:n,extraHeaders:t.extraHeaders}),!0}},{key:"unhold",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(A.debug("unhold()"),this._status!==k.STATUS_WAITING_FOR_ACK&&this._status!==k.STATUS_CONFIRMED)return!1;if(!1===this._localHold)return!1;if(!this._isReadyToReOffer())return!1;this._localHold=!1,this._onunhold("local");var n={succeeded:function(){r&&r()},failed:function(){e.terminate({cause:m.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Unhold Failed"})}};return t.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:n,extraHeaders:t.extraHeaders}):this._sendReinvite({eventHandlers:n,extraHeaders:t.extraHeaders}),!0}},{key:"renegotiate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;A.debug("renegotiate()");var n=t.rtcOfferConstraints||null;if(this._status!==k.STATUS_WAITING_FOR_ACK&&this._status!==k.STATUS_CONFIRMED)return!1;if(!this._isReadyToReOffer())return!1;var i={succeeded:function(){r&&r()},failed:function(){e.terminate({cause:m.causes.WEBRTC_ERROR,status_code:500,reason_phrase:"Media Renegotiation Failed"})}};return this._setLocalMediaStatus(),t.useUpdate?this._sendUpdate({sdpOffer:!0,eventHandlers:i,rtcOfferConstraints:n,extraHeaders:t.extraHeaders}):this._sendReinvite({eventHandlers:i,rtcOfferConstraints:n,extraHeaders:t.extraHeaders}),!0}},{key:"refer",value:function(e,t){var r=this;A.debug("refer()");var n=e;if(this._status!==k.STATUS_WAITING_FOR_ACK&&this._status!==k.STATUS_CONFIRMED)return!1;if(!(e=this._ua.normalizeTarget(e)))throw new TypeError("Invalid target: ".concat(n));var i=new C(this);i.sendRefer(e,t);var o=i.id;return this._referSubscribers[o]=i,i.on("requestFailed",(function(){delete r._referSubscribers[o]})),i.on("accepted",(function(){delete r._referSubscribers[o]})),i.on("failed",(function(){delete r._referSubscribers[o]})),i}},{key:"sendRequest",value:function(e,t){return A.debug("sendRequest()"),this._dialog.sendRequest(e,t)}},{key:"receiveRequest",value:function(e){var t=this;if(A.debug("receiveRequest()"),e.method===m.CANCEL)this._status!==k.STATUS_WAITING_FOR_ANSWER&&this._status!==k.STATUS_ANSWERED||(this._status=k.STATUS_CANCELED,this._request.reply(487),this._failed("remote",e,m.causes.CANCELED));else switch(e.method){case m.ACK:if(this._status!==k.STATUS_WAITING_FOR_ACK)return;if(this._status=k.STATUS_CONFIRMED,clearTimeout(this._timers.ackTimer),clearTimeout(this._timers.invite2xxTimer),this._late_sdp){if(!e.body){this.terminate({cause:m.causes.MISSING_SDP,status_code:400});break}var r={originator:"remote",type:"answer",sdp:e.body};A.debug('emit "sdp"'),this.emit("sdp",r);var n=new RTCSessionDescription({type:"answer",sdp:r.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then((function(){return t._connection.setRemoteDescription(n)})).then((function(){t._is_confirmed||t._confirmed("remote",e)})).catch((function(e){t.terminate({cause:m.causes.BAD_MEDIA_DESCRIPTION,status_code:488}),A.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',e),t.emit("peerconnection:setremotedescriptionfailed",e)}))}else this._is_confirmed||this._confirmed("remote",e);break;case m.BYE:this._status===k.STATUS_CONFIRMED||this._status===k.STATUS_WAITING_FOR_ACK?(e.reply(200),this._ended("remote",e,m.causes.BYE)):this._status===k.STATUS_INVITE_RECEIVED||this._status===k.STATUS_WAITING_FOR_ANSWER?(e.reply(200),this._request.reply(487,"BYE Received"),this._ended("remote",e,m.causes.BYE)):e.reply(403,"Wrong Status");break;case m.INVITE:this._status===k.STATUS_CONFIRMED?e.hasHeader("replaces")?this._receiveReplaces(e):this._receiveReinvite(e):e.reply(403,"Wrong Status");break;case m.INFO:if(this._status===k.STATUS_1XX_RECEIVED||this._status===k.STATUS_WAITING_FOR_ANSWER||this._status===k.STATUS_ANSWERED||this._status===k.STATUS_WAITING_FOR_ACK||this._status===k.STATUS_CONFIRMED){var i=e.hasHeader("Content-Type")?e.getHeader("Content-Type").toLowerCase():void 0;i&&i.match(/^application\/dtmf-relay/i)?new w(this).init_incoming(e):void 0!==i?new E(this).init_incoming(e):e.reply(415)}else e.reply(403,"Wrong Status");break;case m.UPDATE:this._status===k.STATUS_CONFIRMED?this._receiveUpdate(e):e.reply(403,"Wrong Status");break;case m.REFER:this._status===k.STATUS_CONFIRMED?this._receiveRefer(e):e.reply(403,"Wrong Status");break;case m.NOTIFY:this._status===k.STATUS_CONFIRMED?this._receiveNotify(e):e.reply(403,"Wrong Status");break;default:e.reply(501)}}},{key:"onTransportError",value:function(){A.warn("onTransportError()"),this._status!==k.STATUS_TERMINATED&&this.terminate({status_code:500,reason_phrase:m.causes.CONNECTION_ERROR,cause:m.causes.CONNECTION_ERROR})}},{key:"onRequestTimeout",value:function(){A.warn("onRequestTimeout()"),this._status!==k.STATUS_TERMINATED&&this.terminate({status_code:408,reason_phrase:m.causes.REQUEST_TIMEOUT,cause:m.causes.REQUEST_TIMEOUT})}},{key:"onDialogError",value:function(){A.warn("onDialogError()"),this._status!==k.STATUS_TERMINATED&&this.terminate({status_code:500,reason_phrase:m.causes.DIALOG_ERROR,cause:m.causes.DIALOG_ERROR})}},{key:"newDTMF",value:function(e){A.debug("newDTMF()"),this.emit("newDTMF",e)}},{key:"newInfo",value:function(e){A.debug("newInfo()"),this.emit("newInfo",e)}},{key:"_isReadyToReOffer",value:function(){return this._rtcReady?this._dialog?!0!==this._dialog.uac_pending_reply&&!0!==this._dialog.uas_pending_reply||(A.debug("_isReadyToReOffer() | there is another INVITE/UPDATE transaction in progress"),!1):(A.debug("_isReadyToReOffer() | session not established yet"),!1):(A.debug("_isReadyToReOffer() | internal WebRTC status not ready"),!1)}},{key:"_close",value:function(){if(A.debug("close()"),this._localMediaStream&&this._localMediaStreamLocallyGenerated&&(A.debug("close() | closing local MediaStream"),v.closeMediaStream(this._localMediaStream)),this._status!==k.STATUS_TERMINATED){if(this._status=k.STATUS_TERMINATED,this._connection)try{this._connection.close()}catch(n){A.warn("close() | error closing the RTCPeerConnection: %o",n)}for(var e in this._timers)Object.prototype.hasOwnProperty.call(this._timers,e)&&clearTimeout(this._timers[e]);for(var t in clearTimeout(this._sessionTimers.timer),this._dialog&&(this._dialog.terminate(),delete this._dialog),this._earlyDialogs)Object.prototype.hasOwnProperty.call(this._earlyDialogs,t)&&(this._earlyDialogs[t].terminate(),delete this._earlyDialogs[t]);for(var r in this._referSubscribers)Object.prototype.hasOwnProperty.call(this._referSubscribers,r)&&delete this._referSubscribers[r];this._ua.destroyRTCSession(this)}}},{key:"_setInvite2xxTimer",value:function(e,t){var r=y.T1;this._timers.invite2xxTimer=setTimeout(function n(){this._status===k.STATUS_WAITING_FOR_ACK&&(e.reply(200,null,["Contact: ".concat(this._contact)],t),r<y.T2&&(r*=2)>y.T2&&(r=y.T2),this._timers.invite2xxTimer=setTimeout(n.bind(this),r))}.bind(this),r)}},{key:"_setACKTimer",value:function(){var e=this;this._timers.ackTimer=setTimeout((function(){e._status===k.STATUS_WAITING_FOR_ACK&&(A.debug("no ACK received, terminating the session"),clearTimeout(e._timers.invite2xxTimer),e.sendRequest(m.BYE),e._ended("remote",null,m.causes.NO_ACK))}),y.TIMER_H)}},{key:"_createRTCConnection",value:function(e,t){var r=this;this._connection=new RTCPeerConnection(e,t),this._connection.addEventListener("iceconnectionstatechange",(function(){"failed"===r._connection.iceConnectionState&&r.terminate({cause:m.causes.RTP_TIMEOUT,status_code:408,reason_phrase:m.causes.RTP_TIMEOUT})})),A.debug('emit "peerconnection"'),this.emit("peerconnection",{peerconnection:this._connection})}},{key:"_createLocalDescription",value:function(e,t){var r=this;if(A.debug("createLocalDescription()"),"offer"!==e&&"answer"!==e)throw new Error('createLocalDescription() | invalid type "'.concat(e,'"'));var n=this._connection;return this._rtcReady=!1,Promise.resolve().then((function(){return"offer"===e?n.createOffer(t).catch((function(e){return A.warn('emit "peerconnection:createofferfailed" [error:%o]',e),r.emit("peerconnection:createofferfailed",e),Promise.reject(e)})):n.createAnswer(t).catch((function(e){return A.warn('emit "peerconnection:createanswerfailed" [error:%o]',e),r.emit("peerconnection:createanswerfailed",e),Promise.reject(e)}))})).then((function(e){return n.setLocalDescription(e).catch((function(e){return r._rtcReady=!0,A.warn('emit "peerconnection:setlocaldescriptionfailed" [error:%o]',e),r.emit("peerconnection:setlocaldescriptionfailed",e),Promise.reject(e)}))})).then((function(){var i=t&&t.iceRestart;if("complete"===n.iceGatheringState&&!i||"gathering"===n.iceGatheringState&&r._iceReady){r._rtcReady=!0;var o={originator:"local",type:e,sdp:n.localDescription.sdp};return A.debug('emit "sdp"'),r.emit("sdp",o),Promise.resolve(o.sdp)}return new Promise((function(t){var i,o,s=!1;r._iceReady=!1;var a=function(){n.removeEventListener("icecandidate",i),n.removeEventListener("icegatheringstatechange",o),s=!0,r._rtcReady=!0,r._iceReady=!0;var a={originator:"local",type:e,sdp:n.localDescription.sdp};A.debug('emit "sdp"'),r.emit("sdp",a),t(a.sdp)};n.addEventListener("icecandidate",i=function(e){var t=e.candidate;t?r.emit("icecandidate",{candidate:t,ready:a}):s||a()}),n.addEventListener("icegatheringstatechange",o=function(){"complete"!==n.iceGatheringState||s||a()})}))}))}},{key:"_createDialog",value:function(e,t,r){var n="UAS"===t?e.to_tag:e.from_tag,i="UAS"===t?e.from_tag:e.to_tag,o=e.call_id+n+i,s=this._earlyDialogs[o];if(r)return!!s||((s=new T(this,e,t,T.C.STATUS_EARLY)).error?(A.debug(s.error),this._failed("remote",e,m.causes.INTERNAL_ERROR),!1):(this._earlyDialogs[o]=s,!0));if(this._from_tag=e.from_tag,this._to_tag=e.to_tag,s)return s.update(e,t),this._dialog=s,delete this._earlyDialogs[o],!0;var a=new T(this,e,t);return a.error?(A.debug(a.error),this._failed("remote",e,m.causes.INTERNAL_ERROR),!1):(this._dialog=a,!0)}},{key:"_receiveReinvite",value:function(e){var t=this;A.debug("receiveReinvite()");var r=e.hasHeader("Content-Type")?e.getHeader("Content-Type").toLowerCase():void 0,n={request:e,callback:void 0,reject:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i=!0;var r=t.status_code||403,n=t.reason_phrase||"",o=v.cloneArray(t.extraHeaders);if(this._status!==k.STATUS_CONFIRMED)return!1;if(r<300||r>=700)throw new TypeError("Invalid status_code: ".concat(r));e.reply(r,n,o)}.bind(this)},i=!1;if(this.emit("reinvite",n),!i){if(this._late_sdp=!1,!e.body)return this._late_sdp=!0,this._remoteHold&&(this._remoteHold=!1,this._onunhold("remote")),void(this._connectionPromiseQueue=this._connectionPromiseQueue.then((function(){return t._createLocalDescription("offer",t._rtcOfferConstraints)})).then((function(e){o.call(t,e)})).catch((function(){e.reply(500)})));if("application/sdp"!==r)return A.debug("invalid Content-Type"),void e.reply(415);this._processInDialogSdpOffer(e).then((function(e){t._status!==k.STATUS_TERMINATED&&o.call(t,e)})).catch((function(e){A.warn(e)}))}function o(t){var r=this,i=["Contact: ".concat(this._contact)];this._handleSessionTimersInIncomingRequest(e,i),this._late_sdp&&(t=this._mangleOffer(t)),e.reply(200,null,i,t,(function(){r._status=k.STATUS_WAITING_FOR_ACK,r._setInvite2xxTimer(e,t),r._setACKTimer()})),"function"===typeof n.callback&&n.callback()}}},{key:"_receiveUpdate",value:function(e){var t=this;A.debug("receiveUpdate()");var r=e.hasHeader("Content-Type")?e.getHeader("Content-Type").toLowerCase():void 0,n={request:e,callback:void 0,reject:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i=!0;var r=t.status_code||403,n=t.reason_phrase||"",o=v.cloneArray(t.extraHeaders);if(this._status!==k.STATUS_CONFIRMED)return!1;if(r<300||r>=700)throw new TypeError("Invalid status_code: ".concat(r));e.reply(r,n,o)}.bind(this)},i=!1;if(this.emit("update",n),!i)if(e.body){if("application/sdp"!==r)return A.debug("invalid Content-Type"),void e.reply(415);this._processInDialogSdpOffer(e).then((function(e){t._status!==k.STATUS_TERMINATED&&o.call(t,e)})).catch((function(e){A.warn(e)}))}else o.call(this,null);function o(t){var r=["Contact: ".concat(this._contact)];this._handleSessionTimersInIncomingRequest(e,r),e.reply(200,null,r,t),"function"===typeof n.callback&&n.callback()}}},{key:"_processInDialogSdpOffer",value:function(e){var t=this;A.debug("_processInDialogSdpOffer()");var r,n=e.parseSDP(),o=!1,s=i(n.media);try{for(s.s();!(r=s.n()).done;){var a=r.value;if(-1!==N.indexOf(a.type)){var c=a.direction||n.direction||"sendrecv";if("sendonly"!==c&&"inactive"!==c){o=!1;break}o=!0}}}catch(d){s.e(d)}finally{s.f()}var u={originator:"remote",type:"offer",sdp:e.body};A.debug('emit "sdp"'),this.emit("sdp",u);var l=new RTCSessionDescription({type:"offer",sdp:u.sdp});return this._connectionPromiseQueue=this._connectionPromiseQueue.then((function(){if(t._status===k.STATUS_TERMINATED)throw new Error("terminated");return t._connection.setRemoteDescription(l).catch((function(r){throw e.reply(488),A.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',r),t.emit("peerconnection:setremotedescriptionfailed",r),r}))})).then((function(){if(t._status===k.STATUS_TERMINATED)throw new Error("terminated");!0===t._remoteHold&&!1===o?(t._remoteHold=!1,t._onunhold("remote")):!1===t._remoteHold&&!0===o&&(t._remoteHold=!0,t._onhold("remote"))})).then((function(){if(t._status===k.STATUS_TERMINATED)throw new Error("terminated");return t._createLocalDescription("answer",t._rtcAnswerConstraints).catch((function(t){throw e.reply(500),A.warn('emit "peerconnection:createtelocaldescriptionfailed" [error:%o]',t),t}))})).catch((function(e){A.warn("_processInDialogSdpOffer() failed [error: %o]",e)})),this._connectionPromiseQueue}},{key:"_receiveRefer",value:function(e){var t=this;if(A.debug("receiveRefer()"),!e.refer_to)return A.debug("no Refer-To header field present in REFER"),void e.reply(400);if(e.refer_to.uri.scheme!==m.SIP)return A.debug("Refer-To header field points to a non-SIP URI scheme"),void e.reply(416);e.reply(202);var n=new R(this,e.cseq);function i(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t="function"===typeof t?t:null,this._status!==k.STATUS_WAITING_FOR_ACK&&this._status!==k.STATUS_CONFIRMED)return!1;var o=new r(this._ua);if(o.on("progress",(function(e){var t=e.response;n.notify(t.status_code,t.reason_phrase)})),o.on("accepted",(function(e){var t=e.response;n.notify(t.status_code,t.reason_phrase)})),o.on("_failed",(function(e){var t=e.message,r=e.cause;t?n.notify(t.status_code,t.reason_phrase):n.notify(487,r)})),e.refer_to.uri.hasHeader("replaces")){var s=decodeURIComponent(e.refer_to.uri.getHeader("replaces"));i.extraHeaders=v.cloneArray(i.extraHeaders),i.extraHeaders.push("Replaces: ".concat(s))}o.connect(e.refer_to.uri.toAor(),i,t)}function o(){n.notify(603)}A.debug('emit "refer"'),this.emit("refer",{request:e,accept:function(e,r){i.call(t,e,r)},reject:function(){o.call(t)}})}},{key:"_receiveNotify",value:function(e){if(A.debug("receiveNotify()"),e.event||e.reply(400),"refer"===e.event.event){var t,r;if(e.event.params&&e.event.params.id)t=e.event.params.id,r=this._referSubscribers[t];else{if(1!==Object.keys(this._referSubscribers).length)return void e.reply(400,"Missing event id parameter");r=this._referSubscribers[Object.keys(this._referSubscribers)[0]]}if(!r)return void e.reply(481,"Subscription does not exist");r.receiveNotify(e),e.reply(200)}else e.reply(489)}},{key:"_receiveReplaces",value:function(e){var t=this;function n(t){var n=this;if(this._status!==k.STATUS_WAITING_FOR_ACK&&this._status!==k.STATUS_CONFIRMED)return!1;var i=new r(this._ua);i.on("confirmed",(function(){n.terminate()})),i.init_incoming(e,t)}function i(){A.debug("Replaced INVITE rejected by the user"),e.reply(486)}A.debug("receiveReplaces()"),this.emit("replaces",{request:e,accept:function(e){n.call(t,e)},reject:function(){i.call(t)}})}},{key:"_sendInitialRequest",value:function(e,t,r){var n=this,i=new S(this._ua,this._request,{onRequestTimeout:function(){n.onRequestTimeout()},onTransportError:function(){n.onTransportError()},onAuthenticated:function(e){n._request=e},onReceiveResponse:function(e){n._receiveInviteResponse(e)}});Promise.resolve().then((function(){return r||(e.audio||e.video?(n._localMediaStreamLocallyGenerated=!0,navigator.mediaDevices.getUserMedia(e).catch((function(e){if(n._status===k.STATUS_TERMINATED)throw new Error("terminated");throw n._failed("local",null,m.causes.USER_DENIED_MEDIA_ACCESS),A.warn('emit "getusermediafailed" [error:%o]',e),n.emit("getusermediafailed",e),e}))):void 0)})).then((function(e){if(n._status===k.STATUS_TERMINATED)throw new Error("terminated");return n._localMediaStream=e,e&&e.getTracks().forEach((function(t){n._connection.addTrack(t,e)})),n._connecting(n._request),n._createLocalDescription("offer",t).catch((function(e){throw n._failed("local",null,m.causes.WEBRTC_ERROR),e}))})).then((function(e){if(n._is_canceled||n._status===k.STATUS_TERMINATED)throw new Error("terminated");n._request.body=e,n._status=k.STATUS_INVITE_SENT,A.debug('emit "sending" [request:%o]',n._request),n.emit("sending",{request:n._request}),i.send()})).catch((function(e){n._status!==k.STATUS_TERMINATED&&A.warn(e)}))}},{key:"_getDTMFRTPSender",value:function(){var e=this._connection.getSenders().find((function(e){return e.track&&"audio"===e.track.kind}));if(e&&e.dtmf)return e.dtmf;A.warn("sendDTMF() | no local audio track to send DTMF with")}},{key:"_receiveInviteResponse",value:function(e){var t=this;if(A.debug("receiveInviteResponse()"),this._dialog&&e.status_code>=200&&e.status_code<=299){if(this._dialog.id.call_id===e.call_id&&this._dialog.id.local_tag===e.from_tag&&this._dialog.id.remote_tag===e.to_tag)return void this.sendRequest(m.ACK);var r=new T(this,e,"UAC");return void 0!==r.error?void A.debug(r.error):(this.sendRequest(m.ACK),void this.sendRequest(m.BYE))}if(this._is_canceled)e.status_code>=100&&e.status_code<200?this._request.cancel(this._cancel_reason):e.status_code>=200&&e.status_code<299&&this._acceptAndTerminate(e);else if(this._status===k.STATUS_INVITE_SENT||this._status===k.STATUS_1XX_RECEIVED)switch(!0){case/^100$/.test(e.status_code):this._status=k.STATUS_1XX_RECEIVED;break;case/^1[0-9]{2}$/.test(e.status_code):if(!e.to_tag){A.debug("1xx response received without to tag");break}if(e.hasHeader("contact")&&!this._createDialog(e,"UAC",!0))break;if(this._status=k.STATUS_1XX_RECEIVED,!e.body){this._progress("remote",e);break}var n={originator:"remote",type:"answer",sdp:e.body};A.debug('emit "sdp"'),this.emit("sdp",n);var i=new RTCSessionDescription({type:"answer",sdp:n.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then((function(){return t._connection.setRemoteDescription(i)})).then((function(){return t._progress("remote",e)})).catch((function(e){A.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',e),t.emit("peerconnection:setremotedescriptionfailed",e)}));break;case/^2[0-9]{2}$/.test(e.status_code):if(this._status=k.STATUS_CONFIRMED,!e.body){this._acceptAndTerminate(e,400,m.causes.MISSING_SDP),this._failed("remote",e,m.causes.BAD_MEDIA_DESCRIPTION);break}if(!this._createDialog(e,"UAC"))break;var o={originator:"remote",type:"answer",sdp:e.body};A.debug('emit "sdp"'),this.emit("sdp",o);var s=new RTCSessionDescription({type:"answer",sdp:o.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then((function(){if("stable"===t._connection.signalingState)return t._connection.createOffer(t._rtcOfferConstraints).then((function(e){return t._connection.setLocalDescription(e)})).catch((function(r){t._acceptAndTerminate(e,500,r.toString()),t._failed("local",e,m.causes.WEBRTC_ERROR)}))})).then((function(){t._connection.setRemoteDescription(s).then((function(){t._handleSessionTimersInIncomingResponse(e),t._accepted("remote",e),t.sendRequest(m.ACK),t._confirmed("local",null)})).catch((function(r){t._acceptAndTerminate(e,488,"Not Acceptable Here"),t._failed("remote",e,m.causes.BAD_MEDIA_DESCRIPTION),A.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',r),t.emit("peerconnection:setremotedescriptionfailed",r)}))}));break;default:var a=v.sipErrorCause(e.status_code);this._failed("remote",e,a)}}},{key:"_sendReinvite",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A.debug("sendReinvite()");var r=v.cloneArray(t.extraHeaders),n=v.cloneObject(t.eventHandlers),i=t.rtcOfferConstraints||this._rtcOfferConstraints||null,o=!1;function s(e){var t=this;if(this._status!==k.STATUS_TERMINATED&&(this.sendRequest(m.ACK),!o))if(this._handleSessionTimersInIncomingResponse(e),e.body)if(e.hasHeader("Content-Type")&&"application/sdp"===e.getHeader("Content-Type").toLowerCase()){var r={originator:"remote",type:"answer",sdp:e.body};A.debug('emit "sdp"'),this.emit("sdp",r);var i=new RTCSessionDescription({type:"answer",sdp:r.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then((function(){return t._connection.setRemoteDescription(i)})).then((function(){n.succeeded&&n.succeeded(e)})).catch((function(e){a.call(t),A.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',e),t.emit("peerconnection:setremotedescriptionfailed",e)}))}else a.call(this);else a.call(this)}function a(e){n.failed&&n.failed(e)}r.push("Contact: ".concat(this._contact)),r.push("Content-Type: application/sdp"),this._sessionTimers.running&&r.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(this._sessionTimers.refresher?"uac":"uas")),this._connectionPromiseQueue=this._connectionPromiseQueue.then((function(){return e._createLocalDescription("offer",i)})).then((function(t){var n={originator:"local",type:"offer",sdp:t=e._mangleOffer(t)};A.debug('emit "sdp"'),e.emit("sdp",n),e.sendRequest(m.INVITE,{extraHeaders:r,body:t,eventHandlers:{onSuccessResponse:function(t){s.call(e,t),o=!0},onErrorResponse:function(t){a.call(e,t)},onTransportError:function(){e.onTransportError()},onRequestTimeout:function(){e.onRequestTimeout()},onDialogError:function(){e.onDialogError()}}})})).catch((function(){a()}))}},{key:"_sendUpdate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A.debug("sendUpdate()");var r=v.cloneArray(t.extraHeaders),n=v.cloneObject(t.eventHandlers),i=t.rtcOfferConstraints||this._rtcOfferConstraints||null,o=t.sdpOffer||!1,s=!1;function a(e){var t=this;if(this._status!==k.STATUS_TERMINATED&&!s)if(this._handleSessionTimersInIncomingResponse(e),o){if(!e.body)return void c.call(this);if(!e.hasHeader("Content-Type")||"application/sdp"!==e.getHeader("Content-Type").toLowerCase())return void c.call(this);var r={originator:"remote",type:"answer",sdp:e.body};A.debug('emit "sdp"'),this.emit("sdp",r);var i=new RTCSessionDescription({type:"answer",sdp:r.sdp});this._connectionPromiseQueue=this._connectionPromiseQueue.then((function(){return t._connection.setRemoteDescription(i)})).then((function(){n.succeeded&&n.succeeded(e)})).catch((function(e){c.call(t),A.warn('emit "peerconnection:setremotedescriptionfailed" [error:%o]',e),t.emit("peerconnection:setremotedescriptionfailed",e)}))}else n.succeeded&&n.succeeded(e)}function c(e){n.failed&&n.failed(e)}r.push("Contact: ".concat(this._contact)),this._sessionTimers.running&&r.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(this._sessionTimers.refresher?"uac":"uas")),o?(r.push("Content-Type: application/sdp"),this._connectionPromiseQueue=this._connectionPromiseQueue.then((function(){return e._createLocalDescription("offer",i)})).then((function(t){var n={originator:"local",type:"offer",sdp:t=e._mangleOffer(t)};A.debug('emit "sdp"'),e.emit("sdp",n),e.sendRequest(m.UPDATE,{extraHeaders:r,body:t,eventHandlers:{onSuccessResponse:function(t){a.call(e,t),s=!0},onErrorResponse:function(t){c.call(e,t)},onTransportError:function(){e.onTransportError()},onRequestTimeout:function(){e.onRequestTimeout()},onDialogError:function(){e.onDialogError()}}})})).catch((function(){c.call(e)}))):this.sendRequest(m.UPDATE,{extraHeaders:r,eventHandlers:{onSuccessResponse:function(t){a.call(e,t)},onErrorResponse:function(t){c.call(e,t)},onTransportError:function(){e.onTransportError()},onRequestTimeout:function(){e.onRequestTimeout()},onDialogError:function(){e.onDialogError()}}})}},{key:"_acceptAndTerminate",value:function(e,t,r){A.debug("acceptAndTerminate()");var n=[];t&&(r=r||m.REASON_PHRASE[t]||"",n.push("Reason: SIP ;cause=".concat(t,'; text="').concat(r,'"'))),(this._dialog||this._createDialog(e,"UAC"))&&(this.sendRequest(m.ACK),this.sendRequest(m.BYE,{extraHeaders:n})),this._status=k.STATUS_TERMINATED}},{key:"_mangleOffer",value:function(e){if(!this._localHold&&!this._remoteHold)return e;if(e=h.parse(e),this._localHold&&!this._remoteHold){A.debug("mangleOffer() | me on hold, mangling offer");var t,r=i(e.media);try{for(r.s();!(t=r.n()).done;){var n=t.value;-1!==N.indexOf(n.type)&&(n.direction?"sendrecv"===n.direction?n.direction="sendonly":"recvonly"===n.direction&&(n.direction="inactive"):n.direction="sendonly")}}catch(d){r.e(d)}finally{r.f()}}else if(this._localHold&&this._remoteHold){A.debug("mangleOffer() | both on hold, mangling offer");var o,s=i(e.media);try{for(s.s();!(o=s.n()).done;){var a=o.value;-1!==N.indexOf(a.type)&&(a.direction="inactive")}}catch(d){s.e(d)}finally{s.f()}}else if(this._remoteHold){A.debug("mangleOffer() | remote on hold, mangling offer");var c,u=i(e.media);try{for(u.s();!(c=u.n()).done;){var l=c.value;-1!==N.indexOf(l.type)&&(l.direction?"sendrecv"===l.direction?l.direction="recvonly":"recvonly"===l.direction&&(l.direction="inactive"):l.direction="recvonly")}}catch(d){u.e(d)}finally{u.f()}}return h.write(e)}},{key:"_setLocalMediaStatus",value:function(){var e=!0,t=!0;(this._localHold||this._remoteHold)&&(e=!1,t=!1),this._audioMuted&&(e=!1),this._videoMuted&&(t=!1),this._toggleMuteAudio(!e),this._toggleMuteVideo(!t)}},{key:"_handleSessionTimersInIncomingRequest",value:function(e,t){var r;this._sessionTimers.enabled&&(e.session_expires&&e.session_expires>=m.MIN_SESSION_EXPIRES?(this._sessionTimers.currentExpires=e.session_expires,r=e.session_expires_refresher||"uas"):(this._sessionTimers.currentExpires=this._sessionTimers.defaultExpires,r="uas"),t.push("Session-Expires: ".concat(this._sessionTimers.currentExpires,";refresher=").concat(r)),this._sessionTimers.refresher="uas"===r,this._runSessionTimer())}},{key:"_handleSessionTimersInIncomingResponse",value:function(e){var t;this._sessionTimers.enabled&&(e.session_expires&&e.session_expires>=m.MIN_SESSION_EXPIRES?(this._sessionTimers.currentExpires=e.session_expires,t=e.session_expires_refresher||"uac"):(this._sessionTimers.currentExpires=this._sessionTimers.defaultExpires,t="uac"),this._sessionTimers.refresher="uac"===t,this._runSessionTimer())}},{key:"_runSessionTimer",value:function(){var e=this,t=this._sessionTimers.currentExpires;this._sessionTimers.running=!0,clearTimeout(this._sessionTimers.timer),this._sessionTimers.refresher?this._sessionTimers.timer=setTimeout((function(){e._status!==k.STATUS_TERMINATED&&e._isReadyToReOffer()&&(A.debug("runSessionTimer() | sending session refresh request"),e._sessionTimers.refreshMethod===m.UPDATE?e._sendUpdate():e._sendReinvite())}),500*t):this._sessionTimers.timer=setTimeout((function(){e._status!==k.STATUS_TERMINATED&&(A.warn("runSessionTimer() | timer expired, terminating the session"),e.terminate({cause:m.causes.REQUEST_TIMEOUT,status_code:408,reason_phrase:"Session Timer Expired"}))}),1100*t)}},{key:"_toggleMuteAudio",value:function(e){var t,r=this._connection.getSenders().filter((function(e){return e.track&&"audio"===e.track.kind})),n=i(r);try{for(n.s();!(t=n.n()).done;){t.value.track.enabled=!e}}catch(o){n.e(o)}finally{n.f()}}},{key:"_toggleMuteVideo",value:function(e){var t,r=this._connection.getSenders().filter((function(e){return e.track&&"video"===e.track.kind})),n=i(r);try{for(n.s();!(t=n.n()).done;){t.value.track.enabled=!e}}catch(o){n.e(o)}finally{n.f()}}},{key:"_newRTCSession",value:function(e,t){A.debug("newRTCSession()"),this._ua.newRTCSession(this,{originator:e,session:this,request:t})}},{key:"_connecting",value:function(e){A.debug("session connecting"),A.debug('emit "connecting"'),this.emit("connecting",{request:e})}},{key:"_progress",value:function(e,t){A.debug("session progress"),A.debug('emit "progress"'),this.emit("progress",{originator:e,response:t||null})}},{key:"_accepted",value:function(e,t){A.debug("session accepted"),this._start_time=new Date,A.debug('emit "accepted"'),this.emit("accepted",{originator:e,response:t||null})}},{key:"_confirmed",value:function(e,t){A.debug("session confirmed"),this._is_confirmed=!0,A.debug('emit "confirmed"'),this.emit("confirmed",{originator:e,ack:t||null})}},{key:"_ended",value:function(e,t,r){A.debug("session ended"),this._end_time=new Date,this._close(),A.debug('emit "ended"'),this.emit("ended",{originator:e,message:t||null,cause:r})}},{key:"_failed",value:function(e,t,r){A.debug("session failed"),A.debug('emit "_failed"'),this.emit("_failed",{originator:e,message:t||null,cause:r}),this._close(),A.debug('emit "failed"'),this.emit("failed",{originator:e,message:t||null,cause:r})}},{key:"_onhold",value:function(e){A.debug("session onhold"),this._setLocalMediaStatus(),A.debug('emit "hold"'),this.emit("hold",{originator:e})}},{key:"_onunhold",value:function(e){A.debug("session onunhold"),this._setLocalMediaStatus(),A.debug('emit "unhold"'),this.emit("unhold",{originator:e})}},{key:"_onmute",value:function(e){var t=e.audio,r=e.video;A.debug("session onmute"),this._setLocalMediaStatus(),A.debug('emit "muted"'),this.emit("muted",{audio:t,video:r})}},{key:"_onunmute",value:function(e){var t=e.audio,r=e.video;A.debug("session onunmute"),this._setLocalMediaStatus(),A.debug('emit "unmuted"'),this.emit("unmuted",{audio:t,video:r})}},{key:"C",get:function(){return k}},{key:"causes",get:function(){return m.causes}},{key:"id",get:function(){return this._id}},{key:"connection",get:function(){return this._connection}},{key:"contact",get:function(){return this._contact}},{key:"direction",get:function(){return this._direction}},{key:"local_identity",get:function(){return this._local_identity}},{key:"remote_identity",get:function(){return this._remote_identity}},{key:"start_time",get:function(){return this._start_time}},{key:"end_time",get:function(){return this._end_time}},{key:"data",get:function(){return this._data},set:function(e){this._data=e}},{key:"status",get:function(){return this._status}}]),r}(f)},4481:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var i=c(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return a(this,r)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var u=r(7187).EventEmitter,l=r(356),d=r(965),f=r(8063),h=r(5424),p=new l("RTCSession:DTMF"),m={MIN_DURATION:70,MAX_DURATION:6e3,DEFAULT_DURATION:100,MIN_INTER_TONE_GAP:50,DEFAULT_INTER_TONE_GAP:500};e.exports=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,r,n,a=s(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this))._session=e,t._direction=null,t._tone=null,t._duration=null,t._request=null,t}return t=c,r=[{key:"send",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e)throw new TypeError("Not enough arguments");if(this._direction="outgoing",this._session.status!==this._session.C.STATUS_CONFIRMED&&this._session.status!==this._session.C.STATUS_WAITING_FOR_ACK)throw new f.InvalidStateError(this._session.status);var n=h.cloneArray(r.extraHeaders);if(this.eventHandlers=h.cloneObject(r.eventHandlers),"string"===typeof e)e=e.toUpperCase();else{if("number"!==typeof e)throw new TypeError("Invalid tone: ".concat(e));e=e.toString()}if(!e.match(/^[0-9A-DR#*]$/))throw new TypeError("Invalid tone: ".concat(e));this._tone=e,this._duration=r.duration,n.push("Content-Type: application/dtmf-relay");var i="Signal=".concat(this._tone,"\r\n");i+="Duration=".concat(this._duration),this._session.newDTMF({originator:"local",dtmf:this,request:this._request}),this._session.sendRequest(d.INFO,{extraHeaders:n,eventHandlers:{onSuccessResponse:function(e){t.emit("succeeded",{originator:"remote",response:e})},onErrorResponse:function(e){t.eventHandlers.onFailed&&t.eventHandlers.onFailed(),t.emit("failed",{originator:"remote",response:e})},onRequestTimeout:function(){t._session.onRequestTimeout()},onTransportError:function(){t._session.onTransportError()},onDialogError:function(){t._session.onDialogError()}},body:i})}},{key:"init_incoming",value:function(e){var t=/^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/,r=/^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;if(this._direction="incoming",this._request=e,e.reply(200),e.body){var n=e.body.split("\n");n.length>=1&&t.test(n[0])&&(this._tone=n[0].replace(t,"$2")),n.length>=2&&r.test(n[1])&&(this._duration=parseInt(n[1].replace(r,"$2"),10))}this._duration||(this._duration=m.DEFAULT_DURATION),this._tone?this._session.newDTMF({originator:"remote",dtmf:this,request:e}):p.debug("invalid INFO DTMF received, discarded")}},{key:"tone",get:function(){return this._tone}},{key:"duration",get:function(){return this._duration}}],r&&i(t.prototype,r),n&&i(t,n),c}(u),e.exports.C=m},2126:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var i=c(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return a(this,r)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var u=r(7187).EventEmitter,l=r(965),d=r(8063),f=r(5424);e.exports=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,r,n,a=s(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this))._session=e,t._direction=null,t._contentType=null,t._body=null,t}return t=c,r=[{key:"send",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._direction="outgoing",void 0===e)throw new TypeError("Not enough arguments");if(this._session.status!==this._session.C.STATUS_CONFIRMED&&this._session.status!==this._session.C.STATUS_WAITING_FOR_ACK)throw new d.InvalidStateError(this._session.status);this._contentType=e,this._body=t;var i=f.cloneArray(n.extraHeaders);i.push("Content-Type: ".concat(e)),this._session.newInfo({originator:"local",info:this,request:this.request}),this._session.sendRequest(l.INFO,{extraHeaders:i,eventHandlers:{onSuccessResponse:function(e){r.emit("succeeded",{originator:"remote",response:e})},onErrorResponse:function(e){r.emit("failed",{originator:"remote",response:e})},onTransportError:function(){r._session.onTransportError()},onRequestTimeout:function(){r._session.onRequestTimeout()},onDialogError:function(){r._session.onDialogError()}},body:t})}},{key:"init_incoming",value:function(e){this._direction="incoming",this.request=e,e.reply(200),this._contentType=e.hasHeader("Content-Type")?e.getHeader("Content-Type").toLowerCase():void 0,this._body=e.body,this._session.newInfo({originator:"remote",info:this,request:e})}},{key:"contentType",get:function(){return this._contentType}},{key:"body",get:function(){return this._body}}],r&&i(t.prototype,r),n&&i(t,n),c}(u)},5774:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(356),o=r(965),s=new i("RTCSession:ReferNotifier"),a="refer",c="message/sipfrag;version=2.0",u=300;e.exports=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._session=t,this._id=r,this._expires=n||u,this._active=!0,this.notify(100)}var t,r,i;return t=e,(r=[{key:"notify",value:function(e,t){var r;s.debug("notify()"),!1!==this._active&&(t=t||o.REASON_PHRASE[e]||"",r=e>=200?"terminated;reason=noresource":"active;expires=".concat(this._expires),this._session.sendRequest(o.NOTIFY,{extraHeaders:["Event: ".concat(a,";id=").concat(this._id),"Subscription-State: ".concat(r),"Content-Type: ".concat(c)],body:"SIP/2.0 ".concat(e," ").concat(t),eventHandlers:{onErrorResponse:function(){this._active=!1}}}))}}])&&n(t.prototype,r),i&&n(t,i),e}()},603:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var i=c(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return a(this,r)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var u=r(7187).EventEmitter,l=r(356),d=r(965),f=r(3790),h=r(5424),p=new l("RTCSession:ReferSubscriber");e.exports=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,r,n,a=s(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this))._id=null,t._session=e,t}return t=c,r=[{key:"sendRefer",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.debug("sendRefer()");var n=h.cloneArray(r.extraHeaders),i=h.cloneObject(r.eventHandlers);for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&this.on(o,i[o]);var s=null;r.replaces&&(s=r.replaces._request.call_id,s+=";to-tag=".concat(r.replaces._to_tag),s+=";from-tag=".concat(r.replaces._from_tag),s=encodeURIComponent(s));var a="Refer-To: <".concat(e).concat(s?"?Replaces=".concat(s):"",">");if(n.push(a),!n.some((function(e){return e.toLowerCase().startsWith("referred-by:")}))){var c="Referred-By: <".concat(this._session._ua._configuration.uri._scheme,":").concat(this._session._ua._configuration.uri._user,"@").concat(this._session._ua._configuration.uri._host,">");n.push(c)}n.push("Contact: ".concat(this._session.contact));var u=this._session.sendRequest(d.REFER,{extraHeaders:n,eventHandlers:{onSuccessResponse:function(e){t._requestSucceeded(e)},onErrorResponse:function(e){t._requestFailed(e,d.causes.REJECTED)},onTransportError:function(){t._requestFailed(null,d.causes.CONNECTION_ERROR)},onRequestTimeout:function(){t._requestFailed(null,d.causes.REQUEST_TIMEOUT)},onDialogError:function(){t._requestFailed(null,d.causes.DIALOG_ERROR)}}});this._id=u.cseq}},{key:"receiveNotify",value:function(e){if(p.debug("receiveNotify()"),e.body){var t=f.parse(e.body.trim(),"Status_Line");if(-1!==t)switch(!0){case/^100$/.test(t.status_code):this.emit("trying",{request:e,status_line:t});break;case/^1[0-9]{2}$/.test(t.status_code):this.emit("progress",{request:e,status_line:t});break;case/^2[0-9]{2}$/.test(t.status_code):this.emit("accepted",{request:e,status_line:t});break;default:this.emit("failed",{request:e,status_line:t})}else p.debug('receiveNotify() | error parsing NOTIFY body: "'.concat(e.body,'"'))}}},{key:"_requestSucceeded",value:function(e){p.debug("REFER succeeded"),p.debug('emit "requestSucceeded"'),this.emit("requestSucceeded",{response:e})}},{key:"_requestFailed",value:function(e,t){p.debug("REFER failed"),p.debug('emit "requestFailed"'),this.emit("requestFailed",{response:e||null,cause:t})}},{key:"id",get:function(){return this._id}}],r&&i(t.prototype,r),n&&i(t,n),c}(u)},116:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(356),o=r(5424),s=r(965),a=r(6497),c=r(2066),u=new i("Registrator");e.exports=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._reg_id=1,this._ua=t,this._transport=r,this._registrar=t.configuration.registrar_server,this._expires=t.configuration.register_expires,this._call_id=o.createRandomToken(22),this._cseq=0,this._to_uri=t.configuration.uri,this._registrationTimer=null,this._registering=!1,this._registered=!1,this._contact=this._ua.contact.toString(),this._contact+=";+sip.ice",this._extraHeaders=[],this._extraContactParams="",this._sipInstance='"<urn:uuid:'.concat(this._ua.configuration.instance_id,'>"'),this._contact+=";reg-id=".concat(this._reg_id),this._contact+=";+sip.instance=".concat(this._sipInstance)}var t,r,i;return t=e,r=[{key:"setExtraHeaders",value:function(e){Array.isArray(e)||(e=[]),this._extraHeaders=e.slice()}},{key:"setExtraContactParams",value:function(e){for(var t in e instanceof Object||(e={}),this._extraContactParams="",e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=e[t];this._extraContactParams+=";".concat(t),r&&(this._extraContactParams+="=".concat(r))}}},{key:"register",value:function(){var e=this;if(this._registering)u.debug("Register request in progress...");else{var t=this._extraHeaders.slice();t.push("Contact: ".concat(this._contact,";expires=").concat(this._expires).concat(this._extraContactParams)),t.push("Expires: ".concat(this._expires));var r=new a.OutgoingRequest(s.REGISTER,this._registrar,this._ua,{to_uri:this._to_uri,call_id:this._call_id,cseq:this._cseq+=1},t),n=new c(this._ua,r,{onRequestTimeout:function(){e._registrationFailure(null,s.causes.REQUEST_TIMEOUT)},onTransportError:function(){e._registrationFailure(null,s.causes.CONNECTION_ERROR)},onAuthenticated:function(){e._cseq+=1},onReceiveResponse:function(t){if(t.cseq===e._cseq)switch(null!==e._registrationTimer&&(clearTimeout(e._registrationTimer),e._registrationTimer=null),!0){case/^1[0-9]{2}$/.test(t.status_code):break;case/^2[0-9]{2}$/.test(t.status_code):if(e._registering=!1,!t.hasHeader("Contact")){u.debug("no Contact header in response to REGISTER, response ignored");break}var r=t.headers.Contact.reduce((function(e,t){return e.concat(t.parsed)}),[]),n=r.find((function(t){return e._sipInstance===t.getParam("+sip.instance")&&e._reg_id===parseInt(t.getParam("reg-id"))}));if(n||(n=r.find((function(t){return t.uri.user===e._ua.contact.uri.user}))),!n){u.debug("no Contact header pointing to us, response ignored");break}var i=n.getParam("expires");!i&&t.hasHeader("expires")&&(i=t.getHeader("expires")),i||(i=e._expires),(i=Number(i))<10&&(i=10);var a=i>64?1e3*i/2+Math.floor(1e3*(i/2-32)*Math.random()):1e3*i-5e3;e._registrationTimer=setTimeout((function(){e._registrationTimer=null,0===e._ua.listeners("registrationExpiring").length?e.register():e._ua.emit("registrationExpiring")}),a),n.hasParam("temp-gruu")&&(e._ua.contact.temp_gruu=n.getParam("temp-gruu").replace(/"/g,"")),n.hasParam("pub-gruu")&&(e._ua.contact.pub_gruu=n.getParam("pub-gruu").replace(/"/g,"")),e._registered||(e._registered=!0,e._ua.registered({response:t}));break;case/^423$/.test(t.status_code):t.hasHeader("min-expires")?(e._expires=Number(t.getHeader("min-expires")),e._expires<10&&(e._expires=10),e.register()):(u.debug("423 response received for REGISTER without Min-Expires"),e._registrationFailure(t,s.causes.SIP_FAILURE_CODE));break;default:var c=o.sipErrorCause(t.status_code);e._registrationFailure(t,c)}}});this._registering=!0,n.send()}}},{key:"unregister",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._registered){this._registered=!1,null!==this._registrationTimer&&(clearTimeout(this._registrationTimer),this._registrationTimer=null);var r=this._extraHeaders.slice();t.all?r.push("Contact: *".concat(this._extraContactParams)):r.push("Contact: ".concat(this._contact,";expires=0").concat(this._extraContactParams)),r.push("Expires: 0");var n=new a.OutgoingRequest(s.REGISTER,this._registrar,this._ua,{to_uri:this._to_uri,call_id:this._call_id,cseq:this._cseq+=1},r),i=new c(this._ua,n,{onRequestTimeout:function(){e._unregistered(null,s.causes.REQUEST_TIMEOUT)},onTransportError:function(){e._unregistered(null,s.causes.CONNECTION_ERROR)},onAuthenticated:function(){e._cseq+=1},onReceiveResponse:function(t){switch(!0){case/^1[0-9]{2}$/.test(t.status_code):break;case/^2[0-9]{2}$/.test(t.status_code):e._unregistered(t);break;default:var r=o.sipErrorCause(t.status_code);e._unregistered(t,r)}}});i.send()}else u.debug("already unregistered")}},{key:"close",value:function(){this._registered&&this.unregister()}},{key:"onTransportClosed",value:function(){this._registering=!1,null!==this._registrationTimer&&(clearTimeout(this._registrationTimer),this._registrationTimer=null),this._registered&&(this._registered=!1,this._ua.unregistered({}))}},{key:"_registrationFailure",value:function(e,t){this._registering=!1,this._ua.registrationFailed({response:e||null,cause:t}),this._registered&&(this._registered=!1,this._ua.unregistered({response:e||null,cause:t}))}},{key:"_unregistered",value:function(e,t){this._registering=!1,this._registered=!1,this._ua.unregistered({response:e||null,cause:t||null})}},{key:"registered",get:function(){return this._registered}}],r&&n(t.prototype,r),i&&n(t,i),e}()},2066:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(356),o=r(965),s=r(2999),a=r(3754),c=new i("RequestSender"),u={onRequestTimeout:function(){},onTransportError:function(){},onReceiveResponse:function(){},onAuthenticated:function(){}};e.exports=function(){function e(t,r,n){for(var i in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._ua=t,this._eventHandlers=n,this._method=r.method,this._request=r,this._auth=null,this._challenged=!1,this._staled=!1,u)Object.prototype.hasOwnProperty.call(u,i)&&(this._eventHandlers[i]||(this._eventHandlers[i]=u[i]));t.status!==t.C.STATUS_USER_CLOSED||this._method===o.BYE&&this._method===o.ACK||this._eventHandlers.onTransportError()}var t,r,i;return t=e,(r=[{key:"send",value:function(){var e=this,t={onRequestTimeout:function(){e._eventHandlers.onRequestTimeout()},onTransportError:function(){e._eventHandlers.onTransportError()},onReceiveResponse:function(t){e._receiveResponse(t)}};switch(this._method){case"INVITE":this.clientTransaction=new a.InviteClientTransaction(this._ua,this._ua.transport,this._request,t);break;case"ACK":this.clientTransaction=new a.AckClientTransaction(this._ua,this._ua.transport,this._request,t);break;default:this.clientTransaction=new a.NonInviteClientTransaction(this._ua,this._ua.transport,this._request,t)}this._ua._configuration.authorization_jwt&&this._request.setHeader("Authorization",this._ua._configuration.authorization_jwt),this.clientTransaction.send()}},{key:"_receiveResponse",value:function(e){var t,r,n=e.status_code;if(401!==n&&407!==n||null===this._ua.configuration.password&&null===this._ua.configuration.ha1)this._eventHandlers.onReceiveResponse(e);else{if(401===e.status_code?(t=e.parseHeader("www-authenticate"),r="authorization"):(t=e.parseHeader("proxy-authenticate"),r="proxy-authorization"),!t)return c.debug("".concat(e.status_code," with wrong or missing challenge, cannot authenticate")),void this._eventHandlers.onReceiveResponse(e);if(!this._challenged||!this._staled&&!0===t.stale){if(this._auth||(this._auth=new s({username:this._ua.configuration.authorization_user,password:this._ua.configuration.password,realm:this._ua.configuration.realm,ha1:this._ua.configuration.ha1})),!this._auth.authenticate(this._request,t))return void this._eventHandlers.onReceiveResponse(e);this._challenged=!0,this._ua.set("realm",this._auth.get("realm")),this._ua.set("ha1",this._auth.get("ha1")),t.stale&&(this._staled=!0),this._request=this._request.clone(),this._request.cseq+=1,this._request.setHeader("cseq","".concat(this._request.cseq," ").concat(this._method)),this._request.setHeader(r,this._auth.toString()),this._eventHandlers.onAuthenticated(this._request),this.send()}else this._eventHandlers.onReceiveResponse(e)}}}])&&n(t.prototype,r),i&&n(t,i),e}()},6497:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var i=c(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return a(this,r)}}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}var p=r(766),m=r(356),_=r(965),g=r(5424),v=r(9437),y=r(3790),b=new m("SIPMessage"),T=function(){function e(t,r,n,i,o,s){if(d(this,e),!t||!r||!n)return null;i=i||{},this.ua=n,this.headers={},this.method=t,this.ruri=r,this.body=s,this.extraHeaders=g.cloneArray(o),i.route_set?this.setHeader("route",i.route_set):n.configuration.use_preloaded_route&&this.setHeader("route","<".concat(n.transport.sip_uri,";lr>")),this.setHeader("via",""),this.setHeader("max-forwards",_.MAX_FORWARDS);var a=i.to_uri||r,c=i.to_tag?{tag:i.to_tag}:null,u="undefined"!==typeof i.to_display_name?i.to_display_name:null;this.to=new v(a,u,c),this.setHeader("to",this.to.toString());var l,f=i.from_uri||n.configuration.uri,h={tag:i.from_tag||g.newTag()};l="undefined"!==typeof i.from_display_name?i.from_display_name:n.configuration.display_name?n.configuration.display_name:null,this.from=new v(f,l,h),this.setHeader("from",this.from.toString());var p=i.call_id||n.configuration.jssip_id+g.createRandomToken(15);this.call_id=p,this.setHeader("call-id",p);var m=i.cseq||Math.floor(1e4*Math.random());this.cseq=m,this.setHeader("cseq","".concat(m," ").concat(t))}return h(e,[{key:"setHeader",value:function(e,t){for(var r=new RegExp("^\\s*".concat(e,"\\s*:"),"i"),n=0;n<this.extraHeaders.length;n++)r.test(this.extraHeaders[n])&&this.extraHeaders.splice(n,1);this.headers[g.headerize(e)]=Array.isArray(t)?t:[t]}},{key:"getHeader",value:function(e){var t=this.headers[g.headerize(e)];if(t){if(t[0])return t[0]}else{var r,n=new RegExp("^\\s*".concat(e,"\\s*:"),"i"),i=u(this.extraHeaders);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(n.test(o))return o.substring(o.indexOf(":")+1).trim()}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getHeaders",value:function(e){var t=this.headers[g.headerize(e)],r=[];if(t){var n,i=u(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(o)}}catch(d){i.e(d)}finally{i.f()}return r}var s,a=new RegExp("^\\s*".concat(e,"\\s*:"),"i"),c=u(this.extraHeaders);try{for(c.s();!(s=c.n()).done;){var l=s.value;a.test(l)&&r.push(l.substring(l.indexOf(":")+1).trim())}}catch(d){c.e(d)}finally{c.f()}return r}},{key:"hasHeader",value:function(e){if(this.headers[g.headerize(e)])return!0;var t,r=new RegExp("^\\s*".concat(e,"\\s*:"),"i"),n=u(this.extraHeaders);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(r.test(i))return!0}}catch(o){n.e(o)}finally{n.f()}return!1}},{key:"parseSDP",value:function(e){return!e&&this.sdp||(this.sdp=p.parse(this.body||"")),this.sdp}},{key:"toString",value:function(){var e="".concat(this.method," ").concat(this.ruri," SIP/2.0\r\n");for(var t in this.headers)if(Object.prototype.hasOwnProperty.call(this.headers,t)){var r,n=u(this.headers[t]);try{for(n.s();!(r=n.n()).done;){var i=r.value;e+="".concat(t,": ").concat(i,"\r\n")}}catch(f){n.e(f)}finally{n.f()}}var o,s=u(this.extraHeaders);try{for(s.s();!(o=s.n()).done;){var a=o.value;e+="".concat(a.trim(),"\r\n")}}catch(f){s.e(f)}finally{s.f()}var c=[];switch(this.method){case _.REGISTER:c.push("path","gruu");break;case _.INVITE:this.ua.configuration.session_timers&&c.push("timer"),(this.ua.contact.pub_gruu||this.ua.contact.temp_gruu)&&c.push("gruu"),c.push("ice","replaces");break;case _.UPDATE:this.ua.configuration.session_timers&&c.push("timer"),c.push("ice")}c.push("outbound");var l=this.ua.configuration.user_agent||_.USER_AGENT;if(e+="Allow: ".concat(_.ALLOWED_METHODS,"\r\n"),e+="Supported: ".concat(c,"\r\n"),e+="User-Agent: ".concat(l,"\r\n"),this.body){var d=g.str_utf8_length(this.body);e+="Content-Length: ".concat(d,"\r\n\r\n"),e+=this.body}else e+="Content-Length: 0\r\n\r\n";return e}},{key:"clone",value:function(){var t=new e(this.method,this.ruri,this.ua);return Object.keys(this.headers).forEach((function(e){t.headers[e]=this.headers[e].slice()}),this),t.body=this.body,t.extraHeaders=g.cloneArray(this.extraHeaders),t.to=this.to,t.from=this.from,t.call_id=this.call_id,t.cseq=this.cseq,t}}]),e}(),S=function(e){i(r,e);var t=s(r);function r(e,n,i,o,s){var a;return d(this,r),(a=t.call(this,_.INVITE,e,n,i,o,s)).transaction=null,a}return h(r,[{key:"cancel",value:function(e){this.transaction.cancel(e)}},{key:"clone",value:function(){var e=new r(this.ruri,this.ua);return Object.keys(this.headers).forEach((function(t){e.headers[t]=this.headers[t].slice()}),this),e.body=this.body,e.extraHeaders=g.cloneArray(this.extraHeaders),e.to=this.to,e.from=this.from,e.call_id=this.call_id,e.cseq=this.cseq,e.transaction=this.transaction,e}}]),r}(T),w=function(){function e(){d(this,e),this.data=null,this.headers=null,this.method=null,this.via=null,this.via_branch=null,this.call_id=null,this.cseq=null,this.from=null,this.from_tag=null,this.to=null,this.to_tag=null,this.body=null,this.sdp=null}return h(e,[{key:"addHeader",value:function(e,t){var r={raw:t};e=g.headerize(e),this.headers[e]?this.headers[e].push(r):this.headers[e]=[r]}},{key:"getHeader",value:function(e){var t=this.headers[g.headerize(e)];if(t)return t[0]?t[0].raw:void 0}},{key:"getHeaders",value:function(e){var t=this.headers[g.headerize(e)],r=[];if(!t)return[];var n,i=u(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(o.raw)}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"hasHeader",value:function(e){return!!this.headers[g.headerize(e)]}},{key:"parseHeader",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e=g.headerize(e),this.headers[e]){if(!(t>=this.headers[e].length)){var r=this.headers[e][t],n=r.raw;if(r.parsed)return r.parsed;var i=y.parse(n,e.replace(/-/g,"_"));return-1===i?(this.headers[e].splice(t,1),void b.debug('error parsing "'.concat(e,'" header field with value "').concat(n,'"'))):(r.parsed=i,i)}b.debug('not so many "'.concat(e,'" headers present'))}else b.debug('header "'.concat(e,'" not present'))}},{key:"s",value:function(e,t){return this.parseHeader(e,t)}},{key:"setHeader",value:function(e,t){var r={raw:t};this.headers[g.headerize(e)]=[r]}},{key:"parseSDP",value:function(e){return!e&&this.sdp||(this.sdp=p.parse(this.body||"")),this.sdp}},{key:"toString",value:function(){return this.data}}]),e}(),E=function(e){i(r,e);var t=s(r);function r(e){var n;return d(this,r),(n=t.call(this)).ua=e,n.headers={},n.ruri=null,n.transport=null,n.server_transaction=null,n}return h(r,[{key:"reply",value:function(e,t,r,n,i,o){var s=[],a=this.getHeader("To");if(t=t||null,!(e=e||null)||e<100||e>699)throw new TypeError("Invalid status_code: ".concat(e));if(t&&"string"!==typeof t&&!(t instanceof String))throw new TypeError("Invalid reason_phrase: ".concat(t));t=t||_.REASON_PHRASE[e]||"",r=g.cloneArray(r);var c="SIP/2.0 ".concat(e," ").concat(t,"\r\n");if(this.method===_.INVITE&&e>100&&e<=200){var l,d=u(this.getHeaders("record-route"));try{for(d.s();!(l=d.n()).done;){var f=l.value;c+="Record-Route: ".concat(f,"\r\n")}}catch(S){d.e(S)}finally{d.f()}}var h,p=u(this.getHeaders("via"));try{for(p.s();!(h=p.n()).done;){var m=h.value;c+="Via: ".concat(m,"\r\n")}}catch(S){p.e(S)}finally{p.f()}!this.to_tag&&e>100?a+=";tag=".concat(g.newTag()):this.to_tag&&!this.s("to").hasParam("tag")&&(a+=";tag=".concat(this.to_tag)),c+="To: ".concat(a,"\r\n"),c+="From: ".concat(this.getHeader("From"),"\r\n"),c+="Call-ID: ".concat(this.call_id,"\r\n"),c+="CSeq: ".concat(this.cseq," ").concat(this.method,"\r\n");var v,y=u(r);try{for(y.s();!(v=y.n()).done;){var b=v.value;c+="".concat(b.trim(),"\r\n")}}catch(S){y.e(S)}finally{y.f()}switch(this.method){case _.INVITE:this.ua.configuration.session_timers&&s.push("timer"),(this.ua.contact.pub_gruu||this.ua.contact.temp_gruu)&&s.push("gruu"),s.push("ice","replaces");break;case _.UPDATE:this.ua.configuration.session_timers&&s.push("timer"),n&&s.push("ice"),s.push("replaces")}if(s.push("outbound"),this.method===_.OPTIONS?(c+="Allow: ".concat(_.ALLOWED_METHODS,"\r\n"),c+="Accept: ".concat(_.ACCEPTED_BODY_TYPES,"\r\n")):405===e?c+="Allow: ".concat(_.ALLOWED_METHODS,"\r\n"):415===e&&(c+="Accept: ".concat(_.ACCEPTED_BODY_TYPES,"\r\n")),c+="Supported: ".concat(s,"\r\n"),n){var T=g.str_utf8_length(n);c+="Content-Type: application/sdp\r\n",c+="Content-Length: ".concat(T,"\r\n\r\n"),c+=n}else c+="Content-Length: ".concat(0,"\r\n\r\n");this.server_transaction.receiveResponse(e,c,i,o)}},{key:"reply_sl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getHeaders("via");if(!e||e<100||e>699)throw new TypeError("Invalid status_code: ".concat(e));if(t&&"string"!==typeof t&&!(t instanceof String))throw new TypeError("Invalid reason_phrase: ".concat(t));t=t||_.REASON_PHRASE[e]||"";var n,i="SIP/2.0 ".concat(e," ").concat(t,"\r\n"),o=u(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;i+="Via: ".concat(s,"\r\n")}}catch(c){o.e(c)}finally{o.f()}var a=this.getHeader("To");!this.to_tag&&e>100?a+=";tag=".concat(g.newTag()):this.to_tag&&!this.s("to").hasParam("tag")&&(a+=";tag=".concat(this.to_tag)),i+="To: ".concat(a,"\r\n"),i+="From: ".concat(this.getHeader("From"),"\r\n"),i+="Call-ID: ".concat(this.call_id,"\r\n"),i+="CSeq: ".concat(this.cseq," ").concat(this.method,"\r\n"),i+="Content-Length: ".concat(0,"\r\n\r\n"),this.transport.send(i)}}]),r}(w),R=function(e){i(r,e);var t=s(r);function r(){var e;return d(this,r),(e=t.call(this)).headers={},e.status_code=null,e.reason_phrase=null,e}return r}(w);e.exports={OutgoingRequest:T,InitialOutgoingInviteRequest:S,IncomingRequest:E,IncomingResponse:R}},7351:function(e,t,r){"use strict";var n=r(356),i=r(5424),o=r(3790),s=new n("Socket");t.isSocket=function(e){if(Array.isArray(e))return!1;if("undefined"===typeof e)return s.warn("undefined JsSIP.Socket instance"),!1;try{if(!i.isString(e.url))throw s.warn("missing or invalid JsSIP.Socket url property"),new Error("Missing or invalid JsSIP.Socket url property");if(!i.isString(e.via_transport))throw s.warn("missing or invalid JsSIP.Socket via_transport property"),new Error("Missing or invalid JsSIP.Socket via_transport property");if(-1===o.parse(e.sip_uri,"SIP_URI"))throw s.warn("missing or invalid JsSIP.Socket sip_uri property"),new Error("missing or invalid JsSIP.Socket sip_uri property")}catch(t){return!1}try{["connect","disconnect","send"].forEach((function(t){if(!i.isFunction(e[t]))throw s.warn("missing or invalid JsSIP.Socket method: ".concat(t)),new Error("Missing or invalid JsSIP.Socket method: ".concat(t))}))}catch(t){return!1}return!0}},306:function(e){"use strict";var t=500;e.exports={T1:t,T2:4e3,T4:5e3,TIMER_B:32e3,TIMER_D:0,TIMER_F:32e3,TIMER_H:32e3,TIMER_I:0,TIMER_J:0,TIMER_K:0,TIMER_L:32e3,TIMER_M:32e3,PROVISIONAL_RESPONSE_INTERVAL:6e4}},3754:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=r(7187).EventEmitter,p=r(356),m=r(965),_=r(6497),g=r(306),v=new p("NonInviteClientTransaction"),y=new p("InviteClientTransaction"),b=new p("AckClientTransaction"),T=new p("NonInviteServerTransaction"),S=new p("InviteServerTransaction"),w={STATUS_TRYING:1,STATUS_PROCEEDING:2,STATUS_CALLING:3,STATUS_ACCEPTED:4,STATUS_COMPLETED:5,STATUS_TERMINATED:6,STATUS_CONFIRMED:7,NON_INVITE_CLIENT:"nict",NON_INVITE_SERVER:"nist",INVITE_CLIENT:"ict",INVITE_SERVER:"ist"},E=function(e){a(r,e);var t=u(r);function r(e,n,o,s){var a;i(this,r),(a=t.call(this)).type=w.NON_INVITE_CLIENT,a.id="z9hG4bK".concat(Math.floor(1e7*Math.random())),a.ua=e,a.transport=n,a.request=o,a.eventHandlers=s;var c="SIP/2.0/".concat(n.via_transport);return c+=" ".concat(e.configuration.via_host,";branch=").concat(a.id),a.request.setHeader("via",c),a.ua.newTransaction(d(a)),a}return s(r,[{key:"stateChanged",value:function(e){this.state=e,this.emit("stateChanged")}},{key:"send",value:function(){var e=this;this.stateChanged(w.STATUS_TRYING),this.F=setTimeout((function(){e.timer_F()}),g.TIMER_F),this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){v.debug("transport error occurred, deleting transaction ".concat(this.id)),clearTimeout(this.F),clearTimeout(this.K),this.stateChanged(w.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onTransportError()}},{key:"timer_F",value:function(){v.debug("Timer F expired for transaction ".concat(this.id)),this.stateChanged(w.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onRequestTimeout()}},{key:"timer_K",value:function(){this.stateChanged(w.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"receiveResponse",value:function(e){var t=this,r=e.status_code;if(r<200)switch(this.state){case w.STATUS_TRYING:case w.STATUS_PROCEEDING:this.stateChanged(w.STATUS_PROCEEDING),this.eventHandlers.onReceiveResponse(e)}else switch(this.state){case w.STATUS_TRYING:case w.STATUS_PROCEEDING:this.stateChanged(w.STATUS_COMPLETED),clearTimeout(this.F),408===r?this.eventHandlers.onRequestTimeout():this.eventHandlers.onReceiveResponse(e),this.K=setTimeout((function(){t.timer_K()}),g.TIMER_K)}}},{key:"C",get:function(){return w}}]),r}(h),R=function(e){a(r,e);var t=u(r);function r(e,n,o,s){var a;i(this,r),(a=t.call(this)).type=w.INVITE_CLIENT,a.id="z9hG4bK".concat(Math.floor(1e7*Math.random())),a.ua=e,a.transport=n,a.request=o,a.eventHandlers=s,o.transaction=d(a);var c="SIP/2.0/".concat(n.via_transport);return c+=" ".concat(e.configuration.via_host,";branch=").concat(a.id),a.request.setHeader("via",c),a.ua.newTransaction(d(a)),a}return s(r,[{key:"stateChanged",value:function(e){this.state=e,this.emit("stateChanged")}},{key:"send",value:function(){var e=this;this.stateChanged(w.STATUS_CALLING),this.B=setTimeout((function(){e.timer_B()}),g.TIMER_B),this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){clearTimeout(this.B),clearTimeout(this.D),clearTimeout(this.M),this.state!==w.STATUS_ACCEPTED&&(y.debug("transport error occurred, deleting transaction ".concat(this.id)),this.eventHandlers.onTransportError()),this.stateChanged(w.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_M",value:function(){y.debug("Timer M expired for transaction ".concat(this.id)),this.state===w.STATUS_ACCEPTED&&(clearTimeout(this.B),this.stateChanged(w.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"timer_B",value:function(){y.debug("Timer B expired for transaction ".concat(this.id)),this.state===w.STATUS_CALLING&&(this.stateChanged(w.STATUS_TERMINATED),this.ua.destroyTransaction(this),this.eventHandlers.onRequestTimeout())}},{key:"timer_D",value:function(){y.debug("Timer D expired for transaction ".concat(this.id)),clearTimeout(this.B),this.stateChanged(w.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"sendACK",value:function(e){var t=this,r=new _.OutgoingRequest(m.ACK,this.request.ruri,this.ua,{route_set:this.request.getHeaders("route"),call_id:this.request.getHeader("call-id"),cseq:this.request.cseq});r.setHeader("from",this.request.getHeader("from")),r.setHeader("via",this.request.getHeader("via")),r.setHeader("to",e.getHeader("to")),this.D=setTimeout((function(){t.timer_D()}),g.TIMER_D),this.transport.send(r)}},{key:"cancel",value:function(e){if(this.state===w.STATUS_PROCEEDING){var t=new _.OutgoingRequest(m.CANCEL,this.request.ruri,this.ua,{route_set:this.request.getHeaders("route"),call_id:this.request.getHeader("call-id"),cseq:this.request.cseq});t.setHeader("from",this.request.getHeader("from")),t.setHeader("via",this.request.getHeader("via")),t.setHeader("to",this.request.getHeader("to")),e&&t.setHeader("reason",e),this.transport.send(t)}}},{key:"receiveResponse",value:function(e){var t=this,r=e.status_code;if(r>=100&&r<=199)switch(this.state){case w.STATUS_CALLING:this.stateChanged(w.STATUS_PROCEEDING),this.eventHandlers.onReceiveResponse(e);break;case w.STATUS_PROCEEDING:this.eventHandlers.onReceiveResponse(e)}else if(r>=200&&r<=299)switch(this.state){case w.STATUS_CALLING:case w.STATUS_PROCEEDING:this.stateChanged(w.STATUS_ACCEPTED),this.M=setTimeout((function(){t.timer_M()}),g.TIMER_M),this.eventHandlers.onReceiveResponse(e);break;case w.STATUS_ACCEPTED:this.eventHandlers.onReceiveResponse(e)}else if(r>=300&&r<=699)switch(this.state){case w.STATUS_CALLING:case w.STATUS_PROCEEDING:this.stateChanged(w.STATUS_COMPLETED),this.sendACK(e),this.eventHandlers.onReceiveResponse(e);break;case w.STATUS_COMPLETED:this.sendACK(e)}}},{key:"C",get:function(){return w}}]),r}(h),C=function(e){a(r,e);var t=u(r);function r(e,n,o,s){var a;i(this,r),(a=t.call(this)).id="z9hG4bK".concat(Math.floor(1e7*Math.random())),a.transport=n,a.request=o,a.eventHandlers=s;var c="SIP/2.0/".concat(n.via_transport);return c+=" ".concat(e.configuration.via_host,";branch=").concat(a.id),a.request.setHeader("via",c),a}return s(r,[{key:"send",value:function(){this.transport.send(this.request)||this.onTransportError()}},{key:"onTransportError",value:function(){b.debug("transport error occurred for transaction ".concat(this.id)),this.eventHandlers.onTransportError()}},{key:"C",get:function(){return w}}]),r}(h),x=function(e){a(r,e);var t=u(r);function r(e,n,o){var s;return i(this,r),(s=t.call(this)).type=w.NON_INVITE_SERVER,s.id=o.via_branch,s.ua=e,s.transport=n,s.request=o,s.last_response="",o.server_transaction=d(s),s.state=w.STATUS_TRYING,e.newTransaction(d(s)),s}return s(r,[{key:"stateChanged",value:function(e){this.state=e,this.emit("stateChanged")}},{key:"timer_J",value:function(){T.debug("Timer J expired for transaction ".concat(this.id)),this.stateChanged(w.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"onTransportError",value:function(){this.transportError||(this.transportError=!0,T.debug("transport error occurred, deleting transaction ".concat(this.id)),clearTimeout(this.J),this.stateChanged(w.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"receiveResponse",value:function(e,t,r,n){var i=this;if(100===e)switch(this.state){case w.STATUS_TRYING:this.stateChanged(w.STATUS_PROCEEDING),this.transport.send(t)||this.onTransportError();break;case w.STATUS_PROCEEDING:this.last_response=t,this.transport.send(t)?r&&r():(this.onTransportError(),n&&n())}else if(e>=200&&e<=699)switch(this.state){case w.STATUS_TRYING:case w.STATUS_PROCEEDING:this.stateChanged(w.STATUS_COMPLETED),this.last_response=t,this.J=setTimeout((function(){i.timer_J()}),g.TIMER_J),this.transport.send(t)?r&&r():(this.onTransportError(),n&&n())}}},{key:"C",get:function(){return w}}]),r}(h),A=function(e){a(r,e);var t=u(r);function r(e,n,o){var s;return i(this,r),(s=t.call(this)).type=w.INVITE_SERVER,s.id=o.via_branch,s.ua=e,s.transport=n,s.request=o,s.last_response="",o.server_transaction=d(s),s.state=w.STATUS_PROCEEDING,e.newTransaction(d(s)),s.resendProvisionalTimer=null,o.reply(100),s}return s(r,[{key:"stateChanged",value:function(e){this.state=e,this.emit("stateChanged")}},{key:"timer_H",value:function(){S.debug("Timer H expired for transaction ".concat(this.id)),this.state===w.STATUS_COMPLETED&&S.debug("ACK not received, dialog will be terminated"),this.stateChanged(w.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_I",value:function(){this.stateChanged(w.STATUS_TERMINATED),this.ua.destroyTransaction(this)}},{key:"timer_L",value:function(){S.debug("Timer L expired for transaction ".concat(this.id)),this.state===w.STATUS_ACCEPTED&&(this.stateChanged(w.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"onTransportError",value:function(){this.transportError||(this.transportError=!0,S.debug("transport error occurred, deleting transaction ".concat(this.id)),null!==this.resendProvisionalTimer&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),clearTimeout(this.L),clearTimeout(this.H),clearTimeout(this.I),this.stateChanged(w.STATUS_TERMINATED),this.ua.destroyTransaction(this))}},{key:"resend_provisional",value:function(){this.transport.send(this.last_response)||this.onTransportError()}},{key:"receiveResponse",value:function(e,t,r,n){var i=this;if(e>=100&&e<=199&&this.state===w.STATUS_PROCEEDING)this.transport.send(t)||this.onTransportError(),this.last_response=t;if(e>100&&e<=199&&this.state===w.STATUS_PROCEEDING)null===this.resendProvisionalTimer&&(this.resendProvisionalTimer=setInterval((function(){i.resend_provisional()}),g.PROVISIONAL_RESPONSE_INTERVAL));else if(e>=200&&e<=299)switch(this.state){case w.STATUS_PROCEEDING:this.stateChanged(w.STATUS_ACCEPTED),this.last_response=t,this.L=setTimeout((function(){i.timer_L()}),g.TIMER_L),null!==this.resendProvisionalTimer&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null);case w.STATUS_ACCEPTED:this.transport.send(t)?r&&r():(this.onTransportError(),n&&n())}else if(e>=300&&e<=699&&this.state===w.STATUS_PROCEEDING)null!==this.resendProvisionalTimer&&(clearInterval(this.resendProvisionalTimer),this.resendProvisionalTimer=null),this.transport.send(t)?(this.stateChanged(w.STATUS_COMPLETED),this.H=setTimeout((function(){i.timer_H()}),g.TIMER_H),r&&r()):(this.onTransportError(),n&&n())}},{key:"C",get:function(){return w}}]),r}(h);e.exports={C:w,NonInviteClientTransaction:E,InviteClientTransaction:R,AckClientTransaction:C,NonInviteServerTransaction:x,InviteServerTransaction:A,checkTransaction:function(e,t){var r,n=e._transactions;switch(t.method){case m.INVITE:if(r=n.ist[t.via_branch]){if(r.state===w.STATUS_PROCEEDING)r.transport.send(r.last_response);return!0}break;case m.ACK:if(!(r=n.ist[t.via_branch]))return!1;if(r.state===w.STATUS_ACCEPTED)return!1;if(r.state===w.STATUS_COMPLETED)return r.state=w.STATUS_CONFIRMED,r.I=setTimeout((function(){r.timer_I()}),g.TIMER_I),!0;break;case m.CANCEL:return(r=n.ist[t.via_branch])?(t.reply_sl(200),r.state!==w.STATUS_PROCEEDING):(t.reply_sl(481),!0);default:if(r=n.nist[t.via_branch]){switch(r.state){case w.STATUS_TRYING:break;case w.STATUS_PROCEEDING:case w.STATUS_COMPLETED:r.transport.send(r.last_response)}return!0}}}}},6103:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(356),s=r(7351),a=r(965),c=new o("Transport"),u={STATUS_CONNECTED:0,STATUS_CONNECTING:1,STATUS_DISCONNECTED:2,SOCKET_STATUS_READY:0,SOCKET_STATUS_ERROR:1,recovery_options:{min_interval:a.CONNECTION_RECOVERY_MIN_INTERVAL,max_interval:a.CONNECTION_RECOVERY_MAX_INTERVAL}};e.exports=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.recovery_options;n(this,e),c.debug("new()"),this.status=u.STATUS_DISCONNECTED,this.socket=null,this.sockets=[],this.recovery_options=r,this.recover_attempts=0,this.recovery_timer=null,this.close_requested=!1;try{this.textDecoder=new TextDecoder("utf8")}catch(i){c.warn("cannot use TextDecoder: ".concat(i))}if("undefined"===typeof t)throw new TypeError("Invalid argument. undefined 'sockets' argument");t instanceof Array||(t=[t]),t.forEach((function(e){if(!s.isSocket(e.socket))throw new TypeError("Invalid argument. invalid 'JsSIP.Socket' instance");if(e.weight&&!Number(e.weight))throw new TypeError("Invalid argument. 'weight' attribute is not a number");this.sockets.push({socket:e.socket,weight:e.weight||0,status:u.SOCKET_STATUS_READY})}),this),this._getSocket()}var t,r,o;return t=e,(r=[{key:"connect",value:function(){c.debug("connect()"),this.isConnected()?c.debug("Transport is already connected"):this.isConnecting()?c.debug("Transport is connecting"):(this.close_requested=!1,this.status=u.STATUS_CONNECTING,this.onconnecting({socket:this.socket,attempts:this.recover_attempts}),this.close_requested||(this.socket.onconnect=this._onConnect.bind(this),this.socket.ondisconnect=this._onDisconnect.bind(this),this.socket.ondata=this._onData.bind(this),this.socket.connect()))}},{key:"disconnect",value:function(){c.debug("close()"),this.close_requested=!0,this.recover_attempts=0,this.status=u.STATUS_DISCONNECTED,null!==this.recovery_timer&&(clearTimeout(this.recovery_timer),this.recovery_timer=null),this.socket.onconnect=function(){},this.socket.ondisconnect=function(){},this.socket.ondata=function(){},this.socket.disconnect(),this.ondisconnect({socket:this.socket,error:!1})}},{key:"send",value:function(e){if(c.debug("send()"),!this.isConnected())return c.warn("unable to send message, transport is not connected"),!1;var t=e.toString();return c.debug("sending message:\n\n".concat(t,"\n")),this.socket.send(t)}},{key:"isConnected",value:function(){return this.status===u.STATUS_CONNECTED}},{key:"isConnecting",value:function(){return this.status===u.STATUS_CONNECTING}},{key:"_reconnect",value:function(){var e=this;this.recover_attempts+=1;var t=Math.floor(Math.random()*Math.pow(2,this.recover_attempts)+1);t<this.recovery_options.min_interval?t=this.recovery_options.min_interval:t>this.recovery_options.max_interval&&(t=this.recovery_options.max_interval),c.debug("reconnection attempt: ".concat(this.recover_attempts,". next connection attempt in ").concat(t," seconds")),this.recovery_timer=setTimeout((function(){e.close_requested||e.isConnected()||e.isConnecting()||(e._getSocket(),e.connect())}),1e3*t)}},{key:"_getSocket",value:function(){var e=[];if(this.sockets.forEach((function(t){t.status!==u.SOCKET_STATUS_ERROR&&(0===e.length?e.push(t):t.weight>e[0].weight?e=[t]:t.weight===e[0].weight&&e.push(t))})),0===e.length)return this.sockets.forEach((function(e){e.status=u.SOCKET_STATUS_READY})),void this._getSocket();var t=Math.floor(Math.random()*e.length);this.socket=e[t].socket}},{key:"_onConnect",value:function(){this.recover_attempts=0,this.status=u.STATUS_CONNECTED,null!==this.recovery_timer&&(clearTimeout(this.recovery_timer),this.recovery_timer=null),this.onconnect({socket:this})}},{key:"_onDisconnect",value:function(e,t,r){this.status=u.STATUS_DISCONNECTED,this.ondisconnect({socket:this.socket,error:e,code:t,reason:r}),this.close_requested||(this.sockets.forEach((function(e){this.socket===e.socket&&(e.status=u.SOCKET_STATUS_ERROR)}),this),this._reconnect(e))}},{key:"_onData",value:function(e){if("\r\n"!==e){if("string"!==typeof e){try{e=this.textDecoder?this.textDecoder.decode(e):String.fromCharCode.apply(null,new Uint8Array(e))}catch(t){return void c.debug("received binary message failed to be converted into string, message discarded")}c.debug("received binary message:\n\n".concat(e,"\n"))}else c.debug("received text message:\n\n".concat(e,"\n"));this.ondata({transport:this,message:e})}else c.debug("received message with CRLF Keep Alive response")}},{key:"via_transport",get:function(){return this.socket.via_transport}},{key:"url",get:function(){return this.socket.url}},{key:"sip_uri",get:function(){return this.socket.sip_uri}}])&&i(t.prototype,r),o&&i(t,o),e}()},8387:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var d=r(7187).EventEmitter,f=r(356),h=r(965),p=r(116),m=r(7906),_=r(9193),g=r(9126),v=r(3754),y=r(6103),b=r(5424),T=r(8063),S=r(1987),w=r(8407),E=r(6497),R=r(5710),C=r(7830),x=new f("UA"),A={STATUS_INIT:0,STATUS_READY:1,STATUS_USER_CLOSED:2,STATUS_NOT_READY:3,CONFIGURATION_ERROR:1,NETWORK_ERROR:2};function k(e){this.emit("connecting",e)}function N(e){this._status!==A.STATUS_USER_CLOSED&&(this._status=A.STATUS_READY,this._error=null,this.emit("connected",e),this._dynConfiguration.register&&this._registrator.register())}function O(e){for(var t=0,r=["nict","ict","nist","ist"];t<r.length;t++){var n=r[t];for(var i in this._transactions[n])Object.prototype.hasOwnProperty.call(this._transactions[n],i)&&this._transactions[n][i].onTransportError()}this.emit("disconnected",e),this._registrator.onTransportClosed(),this._status!==A.STATUS_USER_CLOSED&&(this._status=A.STATUS_NOT_READY,this._error=A.NETWORK_ERROR)}function I(e){var t=e.transport,r=e.message;if((r=w.parseMessage(r,this))&&!(this._status===A.STATUS_USER_CLOSED&&r instanceof E.IncomingRequest)&&R(r,this,t))if(r instanceof E.IncomingRequest)r.transport=t,this.receiveRequest(r);else if(r instanceof E.IncomingResponse){var n;switch(r.method){case h.INVITE:(n=this._transactions.ict[r.via_branch])&&n.receiveResponse(r);break;case h.ACK:break;default:(n=this._transactions.nict[r.via_branch])&&n.receiveResponse(r)}}}e.exports=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(r,e);var t=a(r);function r(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),x.debug("new() [configuration:%o]",e),(n=t.call(this))._cache={credentials:{}},n._configuration=Object.assign({},C.settings),n._dynConfiguration={},n._dialogs={},n._applicants={},n._sessions={},n._transport=null,n._contact=null,n._status=A.STATUS_INIT,n._error=null,n._transactions={nist:{},nict:{},ist:{},ict:{}},n._data={},n._closeTimer=null,void 0===e)throw new TypeError("Not enough arguments");try{n._loadConfig(e)}catch(i){throw n._status=A.STATUS_NOT_READY,n._error=A.CONFIGURATION_ERROR,i}return n._registrator=new p(u(n)),n}return o(r,null,[{key:"C",get:function(){return A}}]),o(r,[{key:"start",value:function(){x.debug("start()"),this._status===A.STATUS_INIT?this._transport.connect():this._status===A.STATUS_USER_CLOSED?(x.debug("restarting UA"),null!==this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null,this._transport.disconnect()),this._status=A.STATUS_INIT,this._transport.connect()):this._status===A.STATUS_READY?x.debug("UA is in READY status, not restarted"):x.debug("ERROR: connection is down, Auto-Recovery system is trying to reconnect"),this._dynConfiguration.register=this._configuration.register}},{key:"register",value:function(){x.debug("register()"),this._dynConfiguration.register=!0,this._registrator.register()}},{key:"unregister",value:function(e){x.debug("unregister()"),this._dynConfiguration.register=!1,this._registrator.unregister(e)}},{key:"registrator",value:function(){return this._registrator}},{key:"isRegistered",value:function(){return this._registrator.registered}},{key:"isConnected",value:function(){return this._transport.isConnected()}},{key:"call",value:function(e,t){x.debug("call()");var r=new m(this);return r.connect(e,t),r}},{key:"sendMessage",value:function(e,t,r){x.debug("sendMessage()");var n=new _(this);return n.send(e,t,r),n}},{key:"sendOptions",value:function(e,t,r){x.debug("sendOptions()");var n=new g(this);return n.send(e,t,r),n}},{key:"terminateSessions",value:function(e){for(var t in x.debug("terminateSessions()"),this._sessions)this._sessions[t].isEnded()||this._sessions[t].terminate(e)}},{key:"stop",value:function(){var e=this;if(x.debug("stop()"),this._dynConfiguration={},this._status!==A.STATUS_USER_CLOSED){this._registrator.close();var t=Object.keys(this._sessions).length;for(var r in this._sessions)if(Object.prototype.hasOwnProperty.call(this._sessions,r)){x.debug("closing session ".concat(r));try{this._sessions[r].terminate()}catch(i){}}for(var n in this._applicants)if(Object.prototype.hasOwnProperty.call(this._applicants,n))try{this._applicants[n].close()}catch(i){}this._status=A.STATUS_USER_CLOSED,0===Object.keys(this._transactions.nict).length+Object.keys(this._transactions.nist).length+Object.keys(this._transactions.ict).length+Object.keys(this._transactions.ist).length&&0===t?this._transport.disconnect():this._closeTimer=setTimeout((function(){e._closeTimer=null,e._transport.disconnect()}),2e3)}else x.debug("UA already closed")}},{key:"normalizeTarget",value:function(e){return b.normalizeTarget(e,this._configuration.hostport_params)}},{key:"get",value:function(e){switch(e){case"authorization_user":return this._configuration.authorization_user;case"realm":return this._configuration.realm;case"ha1":return this._configuration.ha1;case"authorization_jwt":return this._configuration.authorization_jwt;default:return void x.warn('get() | cannot get "%s" parameter in runtime',e)}}},{key:"set",value:function(e,t){switch(e){case"authorization_user":this._configuration.authorization_user=String(t);break;case"password":this._configuration.password=String(t);break;case"realm":this._configuration.realm=String(t);break;case"ha1":this._configuration.ha1=String(t),this._configuration.password=null;break;case"authorization_jwt":this._configuration.authorization_jwt=String(t);break;case"display_name":this._configuration.display_name=t;break;default:return x.warn('set() | cannot set "%s" parameter in runtime',e),!1}return!0}},{key:"newTransaction",value:function(e){this._transactions[e.type][e.id]=e,this.emit("newTransaction",{transaction:e})}},{key:"destroyTransaction",value:function(e){delete this._transactions[e.type][e.id],this.emit("transactionDestroyed",{transaction:e})}},{key:"newDialog",value:function(e){this._dialogs[e.id]=e}},{key:"destroyDialog",value:function(e){delete this._dialogs[e.id]}},{key:"newMessage",value:function(e,t){this._applicants[e]=e,this.emit("newMessage",t)}},{key:"newOptions",value:function(e,t){this._applicants[e]=e,this.emit("newOptions",t)}},{key:"destroyMessage",value:function(e){delete this._applicants[e]}},{key:"newRTCSession",value:function(e,t){this._sessions[e.id]=e,this.emit("newRTCSession",t)}},{key:"destroyRTCSession",value:function(e){delete this._sessions[e.id]}},{key:"registered",value:function(e){this.emit("registered",e)}},{key:"unregistered",value:function(e){this.emit("unregistered",e)}},{key:"registrationFailed",value:function(e){this.emit("registrationFailed",e)}},{key:"receiveRequest",value:function(e){var t=e.method;if(e.ruri.user!==this._configuration.uri.user&&e.ruri.user!==this._contact.uri.user)return x.debug("Request-URI does not point to us"),void(e.method!==h.ACK&&e.reply_sl(404));if(e.ruri.scheme!==h.SIPS){if(!v.checkTransaction(this,e)){if(t===h.INVITE?new v.InviteServerTransaction(this,this._transport,e):t!==h.ACK&&t!==h.CANCEL&&new v.NonInviteServerTransaction(this,this._transport,e),t===h.OPTIONS){if(0===this.listeners("newOptions").length)return void e.reply(200);new g(this).init_incoming(e)}else if(t===h.MESSAGE){if(0===this.listeners("newMessage").length)return void e.reply(405);new _(this).init_incoming(e)}else if(t===h.INVITE&&!e.to_tag&&0===this.listeners("newRTCSession").length)return void e.reply(405);var r,n;if(e.to_tag)(r=this._findDialog(e.call_id,e.from_tag,e.to_tag))?r.receiveRequest(e):t===h.NOTIFY?(n=this._findSession(e))?n.receiveRequest(e):(x.debug("received NOTIFY request for a non existent subscription"),e.reply(481,"Subscription does not exist")):t!==h.ACK&&e.reply(481);else switch(t){case h.INVITE:if(window.RTCPeerConnection)if(e.hasHeader("replaces")){var i=e.replaces;(r=this._findDialog(i.call_id,i.from_tag,i.to_tag))?(n=r.owner).isEnded()?e.reply(603):n.receiveRequest(e):e.reply(481)}else(n=new m(this)).init_incoming(e);else x.warn("INVITE received but WebRTC is not supported"),e.reply(488);break;case h.BYE:e.reply(481);break;case h.CANCEL:(n=this._findSession(e))?n.receiveRequest(e):x.debug("received CANCEL request for a non existent session");break;case h.ACK:break;case h.NOTIFY:this.emit("sipEvent",{event:e.event,request:e}),e.reply(200);break;default:e.reply(405)}}}else e.reply_sl(416)}},{key:"_findSession",value:function(e){var t=e.call_id,r=e.from_tag,n=e.to_tag,i=t+r,o=this._sessions[i],s=t+n,a=this._sessions[s];return o||(a||null)}},{key:"_findDialog",value:function(e,t,r){var n=e+t+r,i=this._dialogs[n];return i||(n=e+r+t,(i=this._dialogs[n])||null)}},{key:"_loadConfig",value:function(e){try{C.load(this._configuration,e)}catch(s){throw s}0===this._configuration.display_name&&(this._configuration.display_name="0"),this._configuration.instance_id||(this._configuration.instance_id=b.newUUID()),this._configuration.jssip_id=b.createRandomToken(5);var t=this._configuration.uri.clone();t.user=null,this._configuration.hostport_params=t.toString().replace(/^sip:/i,"");try{this._transport=new y(this._configuration.sockets,{max_interval:this._configuration.connection_recovery_max_interval,min_interval:this._configuration.connection_recovery_min_interval}),this._transport.onconnecting=k.bind(this),this._transport.onconnect=N.bind(this),this._transport.ondisconnect=O.bind(this),this._transport.ondata=I.bind(this)}catch(s){throw x.warn(s),new T.ConfigurationError("sockets",this._configuration.sockets)}if(delete this._configuration.sockets,this._configuration.authorization_user||(this._configuration.authorization_user=this._configuration.uri.user),!this._configuration.registrar_server){var r=this._configuration.uri.clone();r.user=null,r.clearParams(),r.clearHeaders(),this._configuration.registrar_server=r}this._configuration.no_answer_timeout*=1e3,this._configuration.contact_uri?this._configuration.via_host=this._configuration.contact_uri.host:this._configuration.contact_uri=new S("sip",b.createRandomToken(8),this._configuration.via_host,null,{transport:"ws"}),this._contact={pub_gruu:null,temp_gruu:null,uri:this._configuration.contact_uri,toString:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.anonymous||null,r=e.outbound||null,n="<";return n+=t?this.temp_gruu||"sip:anonymous@anonymous.invalid;transport=ws":this.pub_gruu||this.uri.toString(),!r||(t?this.temp_gruu:this.pub_gruu)||(n+=";ob"),n+=">"}};var n=["authorization_user","password","realm","ha1","authorization_jwt","display_name","register"];for(var i in this._configuration)Object.prototype.hasOwnProperty.call(this._configuration,i)&&(-1!==n.indexOf(i)?Object.defineProperty(this._configuration,i,{writable:!0,configurable:!1}):Object.defineProperty(this._configuration,i,{writable:!1,configurable:!1}));for(var o in x.debug("configuration parameters after validation:"),this._configuration)if(Object.prototype.hasOwnProperty.call(C.settings,o))switch(o){case"uri":case"registrar_server":x.debug("- ".concat(o,": ").concat(this._configuration[o]));break;case"password":case"ha1":case"authorization_jwt":x.debug("- ".concat(o,": NOT SHOWN"));break;default:x.debug("- ".concat(o,": ").concat(JSON.stringify(this._configuration[o])))}}},{key:"C",get:function(){return A}},{key:"status",get:function(){return this._status}},{key:"contact",get:function(){return this._contact}},{key:"configuration",get:function(){return this._configuration}},{key:"transport",get:function(){return this._transport}}]),r}(d)},1987:function(e,t,r){"use strict";function n(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw s}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}var c=r(965),u=r(5424),l=r(3790);e.exports=function(){function e(t,r,n,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(o(this,e),!n)throw new TypeError('missing or invalid "host" parameter');for(var u in this._parameters={},this._headers={},this._scheme=t||c.SIP,this._user=r,this._host=n,this._port=i,s)Object.prototype.hasOwnProperty.call(s,u)&&this.setParam(u,s[u]);for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&this.setHeader(l,a[l])}return a(e,null,[{key:"parse",value:function(e){return-1!==(e=l.parse(e,"SIP_URI"))?e:void 0}}]),a(e,[{key:"setParam",value:function(e,t){e&&(this._parameters[e.toLowerCase()]="undefined"===typeof t||null===t?null:t.toString())}},{key:"getParam",value:function(e){if(e)return this._parameters[e.toLowerCase()]}},{key:"hasParam",value:function(e){if(e)return!!this._parameters.hasOwnProperty(e.toLowerCase())}},{key:"deleteParam",value:function(e){if(e=e.toLowerCase(),this._parameters.hasOwnProperty(e)){var t=this._parameters[e];return delete this._parameters[e],t}}},{key:"clearParams",value:function(){this._parameters={}}},{key:"setHeader",value:function(e,t){this._headers[u.headerize(e)]=Array.isArray(t)?t:[t]}},{key:"getHeader",value:function(e){if(e)return this._headers[u.headerize(e)]}},{key:"hasHeader",value:function(e){if(e)return!!this._headers.hasOwnProperty(u.headerize(e))}},{key:"deleteHeader",value:function(e){if(e=u.headerize(e),this._headers.hasOwnProperty(e)){var t=this._headers[e];return delete this._headers[e],t}}},{key:"clearHeaders",value:function(){this._headers={}}},{key:"clone",value:function(){return new e(this._scheme,this._user,this._host,this._port,JSON.parse(JSON.stringify(this._parameters)),JSON.parse(JSON.stringify(this._headers)))}},{key:"toString",value:function(){var e=[],t="".concat(this._scheme,":");for(var r in this._user&&(t+="".concat(u.escapeUser(this._user),"@")),t+=this._host,(this._port||0===this._port)&&(t+=":".concat(this._port)),this._parameters)Object.prototype.hasOwnProperty.call(this._parameters,r)&&(t+=";".concat(r),null!==this._parameters[r]&&(t+="=".concat(this._parameters[r])));for(var i in this._headers)if(Object.prototype.hasOwnProperty.call(this._headers,i)){var o,s=n(this._headers[i]);try{for(s.s();!(o=s.n()).done;){var a=o.value;e.push("".concat(i,"=").concat(a))}}catch(c){s.e(c)}finally{s.f()}}return e.length>0&&(t+="?".concat(e.join("&"))),t}},{key:"toAor",value:function(e){var t="".concat(this._scheme,":");return this._user&&(t+="".concat(u.escapeUser(this._user),"@")),t+=this._host,e&&(this._port||0===this._port)&&(t+=":".concat(this._port)),t}},{key:"scheme",get:function(){return this._scheme},set:function(e){this._scheme=e.toLowerCase()}},{key:"user",get:function(){return this._user},set:function(e){this._user=e}},{key:"host",get:function(){return this._host},set:function(e){this._host=e.toLowerCase()}},{key:"port",get:function(){return this._port},set:function(e){this._port=0===e?e:parseInt(e,10)||null}}]),e}()},5424:function(e,t,r){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw s}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=r(965),a=r(1987),c=r(3790);t.str_utf8_length=function(e){return unescape(encodeURIComponent(e)).length};var u=t.isFunction=function(e){return void 0!==e&&"[object Function]"===Object.prototype.toString.call(e)};t.isString=function(e){return void 0!==e&&"[object String]"===Object.prototype.toString.call(e)},t.isDecimal=function(e){return!isNaN(e)&&parseFloat(e)===parseInt(e,10)},t.isEmpty=function(e){return null===e||""===e||void 0===e||Array.isArray(e)&&0===e.length||"number"===typeof e&&isNaN(e)},t.hasMethods=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=0,o=r;i<o.length;i++){var s=o[i];if(u(e[s]))return!1}return!0};var l=t.createRandomToken=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n="";for(t=0;t<e;t++)n+=(Math.random()*r|0).toString(r);return n};t.newTag=function(){return l(10)},t.newUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.hostType=function(e){if(e)return-1!==(e=c.parse(e,"host"))?e.host_type:void 0};var d=t.escapeUser=function(e){return encodeURIComponent(decodeURIComponent(e)).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")};t.normalizeTarget=function(e,t){if(e){if(e instanceof a)return e;if("string"===typeof e){var r,n,i,o=e.split("@");switch(o.length){case 1:if(!t)return;r=e,n=t;break;case 2:r=o[0],n=o[1];break;default:r=o.slice(0,o.length-1).join("@"),n=o[o.length-1]}return r=r.replace(/^(sips?|tel):/i,""),/^[-.()]*\+?[0-9\-.()]+$/.test(r)&&(r=r.replace(/[-.()]/g,"")),e="".concat(s.SIP,":").concat(d(r),"@").concat(n),(i=a.parse(e))?i:void 0}}else;},t.headerize=function(e){var t,r={"Call-Id":"Call-ID",Cseq:"CSeq","Www-Authenticate":"WWW-Authenticate"},n=e.toLowerCase().replace(/_/g,"-").split("-"),i="",o=n.length;for(t=0;t<o;t++)0!==t&&(i+="-"),i+=n[t].charAt(0).toUpperCase()+n[t].substring(1);return r[i]&&(i=r[i]),i},t.sipErrorCause=function(e){for(var t in s.SIP_ERROR_CAUSES)if(-1!==s.SIP_ERROR_CAUSES[t].indexOf(e))return s.causes[t];return s.causes.SIP_FAILURE_CODE},t.getRandomTestNetIP=function(){return"192.0.2.".concat(function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}(1,254))},t.calculateMD5=function(e){function t(e,t){return e<<t|e>>>32-t}function r(e,t){var r=2147483648&e,n=2147483648&t,i=1073741824&e,o=1073741824&t,s=(1073741823&e)+(1073741823&t);return i&o?2147483648^s^r^n:i|o?1073741824&s?3221225472^s^r^n:1073741824^s^r^n:s^r^n}function n(e,n,i,o,s,a,c){return e=r(e,r(r(function(e,t,r){return e&t|~e&r}(n,i,o),s),c)),r(t(e,a),n)}function i(e,n,i,o,s,a,c){return e=r(e,r(r(function(e,t,r){return e&r|t&~r}(n,i,o),s),c)),r(t(e,a),n)}function o(e,n,i,o,s,a,c){return e=r(e,r(r(function(e,t,r){return e^t^r}(n,i,o),s),c)),r(t(e,a),n)}function s(e,n,i,o,s,a,c){return e=r(e,r(r(function(e,t,r){return t^(e|~r)}(n,i,o),s),c)),r(t(e,a),n)}function a(e){var t,r="",n="";for(t=0;t<=3;t++)r+=(n="0".concat((e>>>8*t&255).toString(16))).substr(n.length-2,2);return r}var c,u,l,d,f,h,p,m,_,g;for(c=function(e){for(var t,r=e.length,n=r+8,i=16*((n-n%64)/64+1),o=new Array(i-1),s=0,a=0;a<r;)s=a%4*8,o[t=(a-a%4)/4]=o[t]|e.charCodeAt(a)<<s,a++;return s=a%4*8,o[t=(a-a%4)/4]=o[t]|128<<s,o[i-2]=r<<3,o[i-1]=r>>>29,o}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}(e)),p=1732584193,m=4023233417,_=2562383102,g=271733878,u=0;u<c.length;u+=16)l=p,d=m,f=_,h=g,p=n(p,m,_,g,c[u+0],7,3614090360),g=n(g,p,m,_,c[u+1],12,3905402710),_=n(_,g,p,m,c[u+2],17,606105819),m=n(m,_,g,p,c[u+3],22,3250441966),p=n(p,m,_,g,c[u+4],7,4118548399),g=n(g,p,m,_,c[u+5],12,1200080426),_=n(_,g,p,m,c[u+6],17,2821735955),m=n(m,_,g,p,c[u+7],22,4249261313),p=n(p,m,_,g,c[u+8],7,1770035416),g=n(g,p,m,_,c[u+9],12,2336552879),_=n(_,g,p,m,c[u+10],17,4294925233),m=n(m,_,g,p,c[u+11],22,2304563134),p=n(p,m,_,g,c[u+12],7,1804603682),g=n(g,p,m,_,c[u+13],12,4254626195),_=n(_,g,p,m,c[u+14],17,2792965006),p=i(p,m=n(m,_,g,p,c[u+15],22,1236535329),_,g,c[u+1],5,4129170786),g=i(g,p,m,_,c[u+6],9,3225465664),_=i(_,g,p,m,c[u+11],14,643717713),m=i(m,_,g,p,c[u+0],20,3921069994),p=i(p,m,_,g,c[u+5],5,3593408605),g=i(g,p,m,_,c[u+10],9,38016083),_=i(_,g,p,m,c[u+15],14,3634488961),m=i(m,_,g,p,c[u+4],20,3889429448),p=i(p,m,_,g,c[u+9],5,568446438),g=i(g,p,m,_,c[u+14],9,3275163606),_=i(_,g,p,m,c[u+3],14,4107603335),m=i(m,_,g,p,c[u+8],20,1163531501),p=i(p,m,_,g,c[u+13],5,2850285829),g=i(g,p,m,_,c[u+2],9,4243563512),_=i(_,g,p,m,c[u+7],14,1735328473),p=o(p,m=i(m,_,g,p,c[u+12],20,2368359562),_,g,c[u+5],4,4294588738),g=o(g,p,m,_,c[u+8],11,2272392833),_=o(_,g,p,m,c[u+11],16,1839030562),m=o(m,_,g,p,c[u+14],23,4259657740),p=o(p,m,_,g,c[u+1],4,2763975236),g=o(g,p,m,_,c[u+4],11,1272893353),_=o(_,g,p,m,c[u+7],16,4139469664),m=o(m,_,g,p,c[u+10],23,3200236656),p=o(p,m,_,g,c[u+13],4,681279174),g=o(g,p,m,_,c[u+0],11,3936430074),_=o(_,g,p,m,c[u+3],16,3572445317),m=o(m,_,g,p,c[u+6],23,76029189),p=o(p,m,_,g,c[u+9],4,3654602809),g=o(g,p,m,_,c[u+12],11,3873151461),_=o(_,g,p,m,c[u+15],16,530742520),p=s(p,m=o(m,_,g,p,c[u+2],23,3299628645),_,g,c[u+0],6,4096336452),g=s(g,p,m,_,c[u+7],10,1126891415),_=s(_,g,p,m,c[u+14],15,2878612391),m=s(m,_,g,p,c[u+5],21,4237533241),p=s(p,m,_,g,c[u+12],6,1700485571),g=s(g,p,m,_,c[u+3],10,2399980690),_=s(_,g,p,m,c[u+10],15,4293915773),m=s(m,_,g,p,c[u+1],21,2240044497),p=s(p,m,_,g,c[u+8],6,1873313359),g=s(g,p,m,_,c[u+15],10,4264355552),_=s(_,g,p,m,c[u+6],15,2734768916),m=s(m,_,g,p,c[u+13],21,1309151649),p=s(p,m,_,g,c[u+4],6,4149444226),g=s(g,p,m,_,c[u+11],10,3174756917),_=s(_,g,p,m,c[u+2],15,718787259),m=s(m,_,g,p,c[u+9],21,3951481745),p=r(p,l),m=r(m,d),_=r(_,f),g=r(g,h);return(a(p)+a(m)+a(_)+a(g)).toLowerCase()},t.closeMediaStream=function(e){if(e)try{if(e.getTracks){var t,r=i(e.getTracks());try{for(r.s();!(t=r.n()).done;){t.value.stop()}}catch(u){r.e(u)}finally{r.f()}}else{var o,s=i(e.getAudioTracks());try{for(s.s();!(o=s.n()).done;){o.value.stop()}}catch(u){s.e(u)}finally{s.f()}var a,c=i(e.getVideoTracks());try{for(c.s();!(a=c.n()).done;){a.value.stop()}}catch(u){c.e(u)}finally{c.f()}}}catch(l){"function"!==typeof e.stop&&"object"!==n(e.stop)||e.stop()}},t.cloneArray=function(e){return e&&e.slice()||[]},t.cloneObject=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&Object.assign({},e)||t}},1288:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(356),o=r(3790),s=new i("WebSocketInterface");e.exports=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s.debug('new() [url:"%s"]',t),this._url=t,this._sip_uri=null,this._via_transport=null,this._ws=null;var r=o.parse(t,"absoluteURI");if(-1===r)throw s.warn("invalid WebSocket URI: ".concat(t)),new TypeError("Invalid argument: ".concat(t));if("wss"!==r.scheme&&"ws"!==r.scheme)throw s.warn("invalid WebSocket URI scheme: ".concat(r.scheme)),new TypeError("Invalid argument: ".concat(t));this._sip_uri="sip:".concat(r.host).concat(r.port?":".concat(r.port):"",";transport=ws"),this._via_transport=r.scheme.toUpperCase()}var t,r,i;return t=e,(r=[{key:"connect",value:function(){if(s.debug("connect()"),this.isConnected())s.debug("WebSocket ".concat(this._url," is already connected"));else if(this.isConnecting())s.debug("WebSocket ".concat(this._url," is connecting"));else{this._ws&&this.disconnect(),s.debug("connecting to WebSocket ".concat(this._url));try{this._ws=new WebSocket(this._url,"sip"),this._ws.binaryType="arraybuffer",this._ws.onopen=this._onOpen.bind(this),this._ws.onclose=this._onClose.bind(this),this._ws.onmessage=this._onMessage.bind(this),this._ws.onerror=this._onError.bind(this)}catch(e){this._onError(e)}}}},{key:"disconnect",value:function(){s.debug("disconnect()"),this._ws&&(this._ws.onopen=function(){},this._ws.onclose=function(){},this._ws.onmessage=function(){},this._ws.onerror=function(){},this._ws.close(),this._ws=null)}},{key:"send",value:function(e){return s.debug("send()"),this.isConnected()?(this._ws.send(e),!0):(s.warn("unable to send message, WebSocket is not open"),!1)}},{key:"isConnected",value:function(){return this._ws&&this._ws.readyState===this._ws.OPEN}},{key:"isConnecting",value:function(){return this._ws&&this._ws.readyState===this._ws.CONNECTING}},{key:"_onOpen",value:function(){s.debug("WebSocket ".concat(this._url," connected")),this.onconnect()}},{key:"_onClose",value:function(e){var t=e.wasClean,r=e.code,n=e.reason;s.debug("WebSocket ".concat(this._url," closed")),!1===t&&s.debug("WebSocket abrupt disconnection"),this.ondisconnect(!t,r,n)}},{key:"_onMessage",value:function(e){var t=e.data;s.debug("received WebSocket message"),this.ondata(t)}},{key:"_onError",value:function(e){s.warn("WebSocket ".concat(this._url," error: "),e)}},{key:"via_transport",get:function(){return this._via_transport},set:function(e){this._via_transport=e.toUpperCase()}},{key:"sip_uri",get:function(){return this._sip_uri}},{key:"url",get:function(){return this._url}}])&&n(t.prototype,r),i&&n(t,i),e}()},5710:function(e,t,r){"use strict";function n(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw s}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o,s,a,c=r(356),u=r(965),l=r(6497),d=r(5424),f=new c("sanityCheck"),h=[function(){for(var e=0,t=["from","to","call_id","cseq","via"];e<t.length;e++){var r=t[e];if(!o.hasHeader(r))return f.debug("missing mandatory header field : ".concat(r,", dropping the response")),!1}}],p=[function(){if("sip"!==o.s("to").uri.scheme)return _(416),!1},function(){if(!o.to_tag&&o.call_id.substr(0,5)===s.configuration.jssip_id)return _(482),!1},function(){var e=d.str_utf8_length(o.body),t=o.getHeader("content-length");if(e<t)return _(400),!1},function(){var e,t=o.from_tag,r=o.call_id,n=o.cseq;if(o.to_tag)return;if(o.method===u.INVITE){if(s._transactions.ist[o.via_branch])return!1;for(var i in s._transactions.ist)if(Object.prototype.hasOwnProperty.call(s._transactions.ist,i)&&(e=s._transactions.ist[i]).request.from_tag===t&&e.request.call_id===r&&e.request.cseq===n)return _(482),!1}else{if(s._transactions.nist[o.via_branch])return!1;for(var a in s._transactions.nist)if(Object.prototype.hasOwnProperty.call(s._transactions.nist,a)&&(e=s._transactions.nist[a]).request.from_tag===t&&e.request.call_id===r&&e.request.cseq===n)return _(482),!1}}],m=[function(){if(o.getHeaders("via").length>1)return f.debug("more than one Via header field present in the response, dropping the response"),!1},function(){var e=d.str_utf8_length(o.body),t=o.getHeader("content-length");if(e<t)return f.debug("message body length is lower than the value in Content-Length header field, dropping the response"),!1}];function _(e){var t,r,i=o.getHeaders("via"),s="SIP/2.0 ".concat(e," ").concat(u.REASON_PHRASE[e],"\r\n"),c=n(i);try{for(c.s();!(r=c.n()).done;){var l=r.value;s+="Via: ".concat(l,"\r\n")}}catch(f){c.e(f)}finally{c.f()}t=o.getHeader("To"),o.to_tag||(t+=";tag=".concat(d.newTag())),s+="To: ".concat(t,"\r\n"),s+="From: ".concat(o.getHeader("From"),"\r\n"),s+="Call-ID: ".concat(o.call_id,"\r\n"),s+="CSeq: ".concat(o.cseq," ").concat(o.method,"\r\n"),s+="\r\n",a.send(s)}e.exports=function(e,t,r){o=e,s=t,a=r;var i,c=n(h);try{for(c.s();!(i=c.n()).done;){if(!1===(0,i.value)())return!1}}catch(g){c.e(g)}finally{c.f()}if(o instanceof l.IncomingRequest){var u,d=n(p);try{for(d.s();!(u=d.n()).done;){if(!1===(0,u.value)())return!1}}catch(g){d.e(g)}finally{d.f()}}else if(o instanceof l.IncomingResponse){var f,_=n(m);try{for(_.s();!(f=_.n()).done;){if(!1===(0,f.value)())return!1}}catch(g){_.e(g)}finally{_.f()}}return!0}},7824:function(e){var t=1e3,r=60*t,n=60*r,i=24*n,o=7*i,s=365.25*i;function a(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,c){c=c||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a)return;var c=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"weeks":case"week":case"w":return c*o;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&isFinite(e))return c.long?function(e){var o=Math.abs(e);if(o>=i)return a(e,o,i,"day");if(o>=n)return a(e,o,n,"hour");if(o>=r)return a(e,o,r,"minute");if(o>=t)return a(e,o,t,"second");return e+" ms"}(e):function(e){var o=Math.abs(e);if(o>=i)return Math.round(e/i)+"d";if(o>=n)return Math.round(e/n)+"h";if(o>=r)return Math.round(e/r)+"m";if(o>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},6692:function(e){var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+=null!=e.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},766:function(e,t,r){var n=r(962),i=r(8627);t.write=i,t.parse=n.parse,t.parseParams=n.parseParams,t.parseFmtpConfig=n.parseFmtpConfig,t.parsePayloads=n.parsePayloads,t.parseRemoteCandidates=n.parseRemoteCandidates,t.parseImageAttributes=n.parseImageAttributes,t.parseSimulcastStreamList=n.parseSimulcastStreamList},962:function(e,t,r){var n=function(e){return String(Number(e))===e?Number(e):e},i=function(e,t,r){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var o=e.push?{}:i?t[e.name]:t;!function(e,t,r,i){if(i&&!r)t[i]=n(e[1]);else for(var o=0;o<r.length;o+=1)null!=e[o+1]&&(t[r[o]]=n(e[o+1]))}(r.match(e.reg),o,e.names,e.name),e.push&&t[e.push].push(o)},o=r(6692),s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},r=[],n=t;return e.split(/(\r\n|\r|\n)/).filter(s).forEach((function(e){var t=e[0],s=e.slice(2);"m"===t&&(r.push({rtp:[],fmtp:[]}),n=r[r.length-1]);for(var a=0;a<(o[t]||[]).length;a+=1){var c=o[t][a];if(c.reg.test(s))return i(c,n,s)}})),t.media=r,t};var a=function(e,t){var r=t.split(/=(.+)/,2);return 2===r.length?e[r[0]]=n(r[1]):1===r.length&&t.length>1&&(e[r[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(a,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],r=e.split(" ").map(n),i=0;i<r.length;i+=3)t.push({component:r[i],ip:r[i+1],port:r[i+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(a,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,r=!1;return"~"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),r=!0),{scid:t,paused:r}}))}))}},8627:function(e,t,r){var n=r(6692),i=/%[sdv%]/g,o=function(e){var t=1,r=arguments,n=r.length;return e.replace(i,(function(e){if(t>=n)return e;var i=r[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))},s=function(e,t,r){var n=[e+"="+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var s=t.names[i];t.name?n.push(r[t.name][s]):n.push(r[t.names[i]])}else n.push(r[t.name]);return o.apply(null,n)},a=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var r=t.outerOrder||a,i=t.innerOrder||c,o=[];return r.forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?o.push(s(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){o.push(s(t,r,e))}))}))})),e.media.forEach((function(e){o.push(s("m",n.m[0],e)),i.forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?o.push(s(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){o.push(s(t,r,e))}))}))}))})),o.join("\r\n")+"\r\n"}},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},7568:function(e,t,r){"use strict";function n(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void r(u)}a.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function a(e){n(s,i,o,a,c,"next",e)}function c(e){n(s,i,o,a,c,"throw",e)}a(void 0)}))}}r.d(t,{Z:function(){return i}})},9396:function(e,t,r){"use strict";function n(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}r.d(t,{Z:function(){return n}})},797:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,{Z:function(){return i}})},1983:function(e,t,r){"use strict";r.d(t,{BZ:function(){return Et},II:function(){return rt},l0:function(){return Ze}});var n=r(5893),i=r(7294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function a(e){var t,r,n="";if("string"===typeof e||"number"===typeof e)n+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=a(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function c(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=a(e))&&(n&&(n+=" "),n+=t);return n}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}var l=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,r=Object.create(null),n=Object.create(null);function i(i,o){r[i]=o,++t>=e&&(t=0,n=r,r=Object.create(null))}return{has:function(e){return void 0!==r[e]||void 0!==n[e]},remove:function(e){void 0!==r[e]&&(r[e]=void 0),void 0!==n[e]&&(n[e]=void 0)},get:function(e){var t=r[e];return void 0!==t?t:void 0!==(t=n[e])?(i(e,t),t):void 0},set:function(e,t){void 0!==r[e]?r[e]=t:i(e,t)},clear:function(){r=Object.create(null),n=Object.create(null)}}};function d(e){var t=function(e){var t=e.theme,r=e.prefix,n={nextPart:{},validators:[]};return _(Object.entries(e.classGroups),r).forEach((function(e){var r=e[0];p(e[1],n,r,t)})),n}(e);return{getClassGroupId:function(e){var r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),f(r,t)||function(e){if(h.test(e)){var t=h.exec(e)[1],r=null==t?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}(e)},getConflictingClassGroupIds:function(t){return e.conflictingClassGroups[t]||[]}}}function f(e,t){var r;if(0===e.length)return t.classGroupId;var n=e[0],i=t.nextPart[n],o=i?f(e.slice(1),i):void 0;if(o)return o;if(0!==t.validators.length){var s=e.join("-");return null==(r=t.validators.find((function(e){return(0,e.validator)(s)})))?void 0:r.classGroupId}}var h=/^\[(.+)\]$/;function p(e,t,r,n){e.forEach((function(e){if("string"!==typeof e){if("function"===typeof e)return e.isThemeGetter?void p(e(n),t,r,n):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach((function(e){var i=e[0];p(e[1],m(t,i),r,n)}))}else{(""===e?t:m(t,e)).classGroupId=r}}))}function m(e,t){var r=e;return t.split("-").forEach((function(e){void 0===r.nextPart[e]&&(r.nextPart[e]={nextPart:{},validators:[]}),r=r.nextPart[e]})),r}function _(e,t){return t?e.map((function(e){return[e[0],e[1].map((function(e){return"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map((function(e){var r=e[0],n=e[1];return[t+r,n]}))):e}))]})):e}function g(e){return u({cache:(t=e.cacheSize,t>=1?l(t):{get:function(){},set:function(){}})},d(e));var t}var v=/\s+/,y=/:(?![^[]*\])/;function b(e,t){var r=t.getClassGroupId,n=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(v).map((function(e){var t=e.split(y),n=t.pop(),i=n.startsWith("!"),o=i?n.substring(1):n,s=r(o);if(!s)return{isTailwindClass:!1,originalClassName:e};var a=0===t.length?"":t.sort().concat("").join(":");return{isTailwindClass:!0,modifier:i?"!"+a:a,classGroupId:s,originalClassName:e}})).reverse().filter((function(e){if(!e.isTailwindClass)return!0;var t=e.modifier,r=e.classGroupId,o=t+":"+r;return!i.has(o)&&(i.add(o),n(r).forEach((function(e){return i.add(t+":"+e)})),!0)})).reverse().map((function(e){return e.originalClassName})).join(" ")}function T(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i,o,s=a;function a(e){var r=t[0],a=t.slice(1).reduce((function(e,t){return t(e)}),r());return n=g(a),i=n.cache.get,o=n.cache.set,s=c,c(e)}function c(e){var t=i(e);if(t)return t;var r=b(e,n);return o(e,r),r}return function(){for(var e,t="",r=0;r<arguments.length;r+=1)(e=arguments[r])&&(t&&(t+=" "),t+=e);return s(t)}}function S(e){var t=function(t){return t[e]||[]};return t.isThemeGetter=!0,t}var w=/^\[(.+)\]$/,E=/^\d+\/\d+$/,R=new Set(["px","full","screen"]),C=/^(\d+)?(xs|sm|md|lg|xl)$/,x=/\d+(%|px|em|rem|vh|vw|pt|pc|in|cm|mm|cap|ch|ex|lh|rlh|vi|vb|vmin|vmax)/,A=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function k(e){return!Number.isNaN(Number(e))||R.has(e)||E.test(e)||N(e)}function N(e){var t,r=null==(t=w.exec(e))?void 0:t[1];return!!r&&(r.startsWith("length:")||x.test(r))}function O(e){var t,r=null==(t=w.exec(e))?void 0:t[1];return!!r&&r.startsWith("size:")}function I(e){var t,r=null==(t=w.exec(e))?void 0:t[1];return!!r&&r.startsWith("position:")}function P(e){var t,r=null==(t=w.exec(e))?void 0:t[1];return!!r&&(r.startsWith("url(")||r.startsWith("url:"))}function D(e){var t,r=null==(t=w.exec(e))?void 0:t[1];return!!r&&(!Number.isNaN(Number(r))||r.startsWith("weight:"))}function j(e){var t,r=null==(t=w.exec(e))?void 0:t[1];return r?Number.isInteger(Number(r)):Number.isInteger(Number(e))}function U(e){return w.test(e)}function M(){return!0}function q(e){return C.test(e)}function H(e){var t,r=null==(t=w.exec(e))?void 0:t[1];return!!r&&A.test(r)}function F(){var e=S("colors"),t=S("spacing"),r=S("blur"),n=S("brightness"),i=S("borderColor"),o=S("borderRadius"),s=S("borderWidth"),a=S("contrast"),c=S("grayscale"),u=S("hueRotate"),l=S("invert"),d=S("gap"),f=S("gradientColorStops"),h=S("inset"),p=S("margin"),m=S("opacity"),_=S("padding"),g=S("saturate"),v=S("scale"),y=S("sepia"),b=S("skew"),T=S("space"),w=S("translate"),E=function(){return["auto",t]},R=function(){return["",k]},C=function(){return["auto",j]},x=function(){return["","0",U]};return{cacheSize:500,theme:{colors:[M],spacing:[k],blur:["none","",q,N],brightness:[j],borderColor:[e],borderRadius:["none","","full",q,N],borderWidth:R(),contrast:[j],grayscale:x(),hueRotate:[j],invert:x(),gap:[t],gradientColorStops:[e],inset:E(),margin:E(),opacity:[j],padding:[t],saturate:[j],scale:[j],sepia:x(),skew:[j,U],space:[t],translate:[t]},classGroups:{aspect:[{aspect:["auto","square","video",U]}],container:["container"],columns:[{columns:[q]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[U])}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible"],z:[{z:[k]}],basis:[{basis:[t]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",U]}],grow:[{grow:x()}],shrink:[{shrink:x()}],order:[{order:["first","last","none",j]}],"grid-cols":[{"grid-cols":[M]}],"col-start-end":[{col:["auto",{span:[j]}]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[M]}],"row-start-end":[{row:["auto",{span:[j]}]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",U]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",U]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["start","end","center","between","around","evenly"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["start","end","center","between","around","evenly"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(["start","end","center","between","around","evenly"],["stretch"])}],"place-items":[{"place-items":["start","end","center","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max",t]}],"min-w":[{"min-w":["min","max","fit",k]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[q]},q,N]}],h:[{h:E()}],"min-h":[{"min-h":["min","max","fit",k]}],"max-h":[{"max-h":[t,"min","max","fit"]}],"font-size":[{text:["base",q,N]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",D]}],"font-family":[{font:[M]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",N]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",k]}],"list-style-type":[{list:["none","disc","decimal",U]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(["solid","dashed","dotted","double","none"],["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",k]}],"underline-offset":[{"underline-offset":["auto",k]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[t]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",N]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap"]}],break:[{break:["normal","words","all"]}],content:[{content:["none",U]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[I])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",O]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},P]}],"bg-color":[{bg:[e]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[].concat(["solid","dashed","dotted","double","none"],["hidden"])}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(["solid","dashed","dotted","double","none"],["hidden"])}],"outline-offset":[{"outline-offset":[k]}],"outline-w":[{outline:[k]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[k]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",q,H]}],"shadow-color":[{shadow:[M]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",q,U]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[l]}],saturate:[{saturate:[g]}],sepia:[{sepia:[y]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[l]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[y]}],"border-collapse":[{border:["collapse","separate"]}],"table-layout":[{table:["auto","fixed"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",U]}],duration:[{duration:[j]}],ease:[{ease:["linear","in","out","in-out",U]}],delay:[{delay:[j]}],animate:[{animate:["none","spin","ping","pulse","bounce",U]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[j,U]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",U]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",U]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[t]}],"scroll-mx":[{"scroll-mx":[t]}],"scroll-my":[{"scroll-my":[t]}],"scroll-mt":[{"scroll-mt":[t]}],"scroll-mr":[{"scroll-mr":[t]}],"scroll-mb":[{"scroll-mb":[t]}],"scroll-ml":[{"scroll-ml":[t]}],"scroll-p":[{"scroll-p":[t]}],"scroll-px":[{"scroll-px":[t]}],"scroll-py":[{"scroll-py":[t]}],"scroll-pt":[{"scroll-pt":[t]}],"scroll-pr":[{"scroll-pr":[t]}],"scroll-pb":[{"scroll-pb":[t]}],"scroll-pl":[{"scroll-pl":[t]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",U]}],fill:[{fill:[e]}],"stroke-w":[{stroke:[k]}],stroke:[{stroke:[e]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],"col-start-end":["col-start","col-end"],"row-start-end":["row-start","row-end"],gap:["gap-x","gap-y"],p:["px","py","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-t","rounded-r","rounded-b","rounded-l","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-w":["border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]}}}var L=T(F);const z=["children","href","shape","size","variant","color","startIcon","endIcon","fullWidth","responsive","animation","loading","active","disabled","dataTheme","className","style"],$=(0,i.forwardRef)(((e,t)=>{let{children:r,href:i,shape:a,size:u,variant:l,color:d,startIcon:f,endIcon:h,fullWidth:p,responsive:m,animation:_=!0,loading:g,active:v,disabled:y,dataTheme:b,className:T,style:S}=e,w=s(e,z);const E=L("btn",T,c((f&&!g||h)&&"gap-2",{[`btn-${u}`]:u,[`btn-${a}`]:a,[`btn-${l}`]:l,[`btn-${d}`]:d,"btn-block":p,"btn-xs md:btn-sm lg:btn-md xl:btn-lg":m,"no-animation":!_,"btn-active":v,"btn-disabled":y,loading:g}));return i?(0,n.jsxs)("a",{className:E,style:S,href:i,children:[f&&f,r,h&&h]}):(0,n.jsxs)("button",o({},w,{ref:t,"data-theme":b,className:E,style:S,disabled:y,children:[f&&!g&&f,r,h&&h]}))}));$.displayName="Button";const G=["dataTheme","className"],V=["className"],W=i.forwardRef(((e,t)=>{let{className:r}=e,i=s(e,V);return(0,n.jsx)("li",{className:r,children:(0,n.jsx)("a",o({ref:t},i))})})),B=["children","color","size","button","dataTheme","className","disabled"],K=["children","className","item","horizontal","vertical","hover","open","dataTheme"],Y=i.forwardRef(((e,t)=>{let{children:r,className:i,item:a,horizontal:u,vertical:l,hover:d,open:f,dataTheme:h}=e,p=s(e,K);const m=L("dropdown",i,c({[`dropdown-${u}`]:u,[`dropdown-${l}`]:l,"dropdown-hover":d,"dropdown-open":f}));return(0,n.jsxs)("div",o({role:"listbox"},p,{ref:t,"data-theme":h,className:m,children:[(0,n.jsx)("label",{tabIndex:0,children:r}),(0,n.jsx)("ul",{className:"dropdown-content",children:a})]}))}));Object.assign(Y,{Toggle:e=>{let{children:t,color:r,size:i,button:a=!0,dataTheme:c,className:u,disabled:l}=e,d=s(e,B);return(0,n.jsx)("label",o({tabIndex:0,className:u},d,{children:a?(0,n.jsx)($,{dataTheme:c,color:r,size:i,disabled:l,children:t}):t}))},Menu:e=>{let{dataTheme:t,className:r}=e,i=s(e,G);const a=L("dropdown-content menu p-2 shadow bg-base-100 rounded-box",r);return(0,n.jsx)("ul",o({},i,{tabIndex:0,"data-theme":t,className:a}))},Item:W});const X=["children","className"],J=i.forwardRef(((e,t)=>{let{children:r,className:i}=e,a=s(e,X);const c=L("modal-action",i);return(0,n.jsx)("div",o({},a,{className:c,ref:t,children:r}))}));J.displayName="ModalActions";const Q=["children","className"],Z=i.forwardRef(((e,t)=>{let{children:r,className:i}=e,a=s(e,Q);return(0,n.jsx)("div",o({},a,{className:i,ref:t,children:r}))}));Z.displayName="ModalBody";const ee=["children","className"],te=i.forwardRef(((e,t)=>{let{children:r,className:i}=e,a=s(e,ee);const c=L("w-full mb-8 text-xl",i);return(0,n.jsx)("div",o({},a,{className:c,ref:t,children:r}))}));te.displayName="ModalHeader";const re=["children","open","responsive","onClickBackdrop","dataTheme","className"],ne=(0,i.forwardRef)(((e,t)=>{let{children:r,open:i,responsive:a,onClickBackdrop:u,dataTheme:l,className:d}=e,f=s(e,re);const h=L("modal",c({"modal-open":i,"modal-bottom sm:modal-middle":a})),p=L("modal-box",d);return(0,n.jsx)("div",{"aria-label":"Modal","aria-hidden":!i,"aria-modal":i,"data-theme":l,className:h,onClick:e=>{e.stopPropagation(),e.target===e.currentTarget&&(e.stopPropagation(),u&&u())},children:(0,n.jsx)("div",o({},f,{"data-theme":l,className:p,ref:t,children:r}))})}));ne.displayName="Modal";Object.assign(ne,{Header:te,Body:Z,Actions:J});const ie=["children","icon","status","dataTheme","className","innerClassName"];(0,i.forwardRef)(((e,t)=>{let{children:r,icon:i,status:a,dataTheme:u,className:l,innerClassName:d}=e,f=s(e,ie);const h=L("alert",l,c({[`alert-${a}`]:a}));return(0,n.jsx)("div",o({role:"alert"},f,{ref:t,"data-theme":u,className:h,children:(0,n.jsxs)("div",{className:L("flex-1",d),children:[i,r]})}))})).displayName="Alert";const oe=["children","space","className"],se=i.forwardRef(((e,t)=>{let{children:r,space:i=-6,className:a}=e,u=s(e,oe);const l=c("avatar-group",`${i<0?"-":""}space-x-${Math.abs(i)}`,a);return(0,n.jsx)("div",o({"aria-label":`Group of ${r.length} avatar photos`},u,{className:l,ref:t,children:r}))})),ae=["size","src","letters","shape","color","border","borderColor","online","offline","dataTheme","className","children"],ce=i.forwardRef(((e,t)=>{let{size:r="md",src:a,letters:u,shape:l,color:d,border:f,borderColor:h,online:p,offline:m,dataTheme:_,className:g,children:v}=e,y=s(e,ae);const b=L("avatar",g,c({online:p,offline:m,placeholder:!a})),T=c({"ring ring-offset-base-100 ring-offset-2":f,[`ring-${h}`]:h,"rounded-btn":"square"===l,"rounded-full":"circle"===l,"w-32 h-32":"lg"===r,"w-24 h-24":"md"===r,"w-14 h-14":"sm"===r,"w-10 h-10":"xs"===r}),S=c({"bg-neutral-focus":!d,"text-neutral-content":!d,[`bg-${d}`]:d,[`text-${d}-content`]:d,"ring ring-offset-base-100 ring-offset-2":f,[`ring-${h}`]:h,"rounded-btn":"square"===l,"rounded-full":"circle"===l,"w-32 h-32 text-3xl":"lg"===r,"w-24 h-24 text-xl":"md"===r,"w-14 h-14":"sm"===r,"w-10 h-10":"xs"===r}),w="number"===typeof r?{width:r,height:r}:{};return(0,n.jsx)("div",o({"aria-label":"Avatar photo"},y,{"data-theme":_,className:b,ref:t,children:(()=>{if(a)return(0,n.jsx)("div",{className:T,style:w,children:(0,n.jsx)("img",{src:a})});if(u||(e=>e&&1===i.Children.count(e)&&i.isValidElement(e)&&"string"===typeof e.props.children)(v))return(0,n.jsx)("div",{className:S,style:w,children:(0,n.jsx)("span",{children:u||v})});if(1===i.Children.count(v)){const e=i.Children.only(v);return i.cloneElement(e,{className:L(T,e.props.className),style:o({},w,e.props.style)})}return(0,n.jsx)("div",{className:T,style:w,children:v})})()}))}));Object.assign(ce,{Group:se});const ue=["children","variant","size","color","responsive","dataTheme","className"];(0,i.forwardRef)(((e,t)=>{let{children:r,variant:i,size:a,color:u,responsive:l,dataTheme:d,className:f}=e,h=s(e,ue);const p=L("badge",f,c({[`badge-${a}`]:a,[`badge-${i}`]:i,[`badge-${u}`]:u,"badge-xs md:badge-sm lg:badge-md xl:badge-lg":l}));return(0,n.jsx)("div",o({"aria-label":"Badge"},h,{"data-theme":d,className:p,ref:t,children:r}))})).displayName="Badge";const le=["className"],de=i.forwardRef(((e,t)=>{let{className:r}=e,i=s(e,le);return(0,n.jsx)("div",o({},i,{className:L("card-actions",r),ref:t}))})),fe=["className"],he=i.forwardRef(((e,t)=>{let{className:r}=e,i=s(e,fe);return(0,n.jsx)("div",o({},i,{className:L("card-body",r),ref:t}))})),pe=["className","tag"],me=i.forwardRef(((e,t)=>{let{className:r,tag:i="div"}=e,a=s(e,pe);const c=i;return(0,n.jsx)(c,o({},a,{className:L("card-title",r),ref:t}))})),_e=i.forwardRef(((e,t)=>{let r=o({},e);return(0,n.jsx)("figure",{ref:t,children:(0,n.jsx)("img",o({},r))})})),ge=["bordered","imageFull","normal","compact","side","className"],ve={true:"card-compact",xs:"xs:card-compact",sm:"sm:card-compact",md:"md:card-compact",lg:"lg:card-compact"},ye={true:"card-normal",xs:"xs:card-normal",sm:"sm:card-normal",md:"md:card-normal",lg:"lg:card-normal"},be={true:"card-side",xs:"xs:card-side",sm:"sm:card-side",md:"md:card-side",lg:"lg:card-side"},Te=i.forwardRef(((e,t)=>{let{bordered:r=!0,imageFull:i,normal:a,compact:u,side:l,className:d}=e,f=s(e,ge);const h=L("card",d,c({"card-bordered":r,"image-full":i,[u&&ve[u.toString()]||""]:u,[a&&ye[a.toString()]||""]:a,[l&&be[l.toString()]||""]:l}));return(0,n.jsx)("div",o({"aria-label":"Card"},f,{className:h,ref:t}))}));Object.assign(Te,{Actions:de,Body:he,Title:me,Image:_e});const Se=["children","innerRef","src","alt","index","width","hasButtons","buttonStyle","onPrev","onNext","className"],we=["children","display","snap","vertical","width","buttonStyle","dataTheme","className"],Ee=(0,i.forwardRef)(((e,t)=>{let{children:r,display:a="slider",snap:u,vertical:l,width:d,buttonStyle:f,dataTheme:h,className:p}=e,m=s(e,we);const _=L("carousel",p,c({[`carousel-${u}`]:u,"carousel-vertical":l,"w-full":"slider"!==a})),[g,v]=(0,i.useState)([]),[y,b]=(0,i.useState)(0);(0,i.useEffect)((()=>{const e=[];r.map((t=>{e.push((0,i.createRef)())})),v(e)}),[r]);const T=e=>{var t;null==(t=g[e].current)||t.scrollIntoView({behavior:"smooth",block:"nearest",inline:u}),b(e)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",o({role:"listbox","aria-label":"Image carousel"},m,{ref:t,"data-theme":h,className:_,children:r.map(((e,t)=>(0,i.cloneElement)(e,o({innerRef:g[t],index:t+1,children:e.props.children,src:e.props.src,alt:e.props.alt,width:"slider"!==a?"full":d,hasButtons:"sequential"===a,buttonStyle:f,onPrev:()=>T(t-1<0?r.length-1:t-1),onNext:()=>T(t+1>r.length-1?0:t+1)},e.props))))})),"numbered"===a&&(0,n.jsx)("div",{className:"flex justify-center w-full py-2 gap-2",children:r.map(((e,t)=>null!=f?(0,i.cloneElement)(f((t+1).toString()),{key:t,onClick:()=>T(t)}):(0,n.jsx)($,{active:t===y,onClick:()=>T(t),children:t+1},t)))})]})}));Object.assign(Ee,{Item:e=>{let{children:t,innerRef:r,src:a,alt:u,index:l=0,width:d,hasButtons:f,buttonStyle:h,onPrev:p,onNext:m,className:_}=e,g=s(e,Se);const v=L("carousel-item relative",_,c({"w-full":"full"===d,"w-1/2":"half"===d,"h-full":!0})),y=c({"w-full":"full"===d});return(0,n.jsxs)("div",o({},g,{id:`item${l}`,ref:r,className:v,children:[a?(0,n.jsx)("img",{src:a,alt:u,className:y}):t,f&&(0,n.jsx)("div",{className:"absolute flex justify-between transform -translate-y-1/2 left-5 right-5 top-1/2",children:null!=h?(0,n.jsxs)(n.Fragment,{children:[(0,i.cloneElement)(h("\u276e"),{onClick:p}),(0,i.cloneElement)(h("\u276f"),{onClick:m})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)($,{onClick:p,shape:"circle",children:"\u276e"}),(0,n.jsx)($,{onClick:m,shape:"circle",children:"\u276f"})]})})]}))}});const Re=["children","className"],Ce=["children","className"],xe=["children","checkbox","icon","open","dataTheme","className","onOpen","onClose","onToggle"],Ae=i.forwardRef(((e,t)=>{let{children:r,checkbox:a,icon:u,open:l,dataTheme:d,className:f,onOpen:h,onClose:p,onToggle:m}=e,_=s(e,xe);const g=L("collapse",f,c({[`collapse-${u}`]:u,"collapse-open":!0===l,"collapse-close":!1===l})),v=(0,i.useRef)(null);return(0,n.jsxs)("div",o({"aria-expanded":l},_,{ref:t,tabIndex:0,"data-theme":d,className:g,onBlur:e=>{!a&&m&&m(),!a&&p&&p(),_.onBlur&&_.onBlur(e)},onFocus:e=>{!a&&m&&m(),!a&&h&&h(),_.onFocus&&_.onFocus(e)},children:[a&&(0,n.jsx)("input",{type:"checkbox",className:"peer",ref:v,onChange:()=>{var e,t;m&&m(),h&&null!=(e=v.current)&&e.checked?h():!p||null!=(t=v.current)&&t.checked||p()}}),r]}))}));Object.assign(Ae,{Title:e=>{let{children:t,className:r}=e,i=s(e,Re);const a=L("collapse-title",r);return(0,n.jsx)("div",o({},i,{className:a,children:t}))},Content:e=>{let{children:t,className:r}=e,i=s(e,Ce);const a=L("collapse-content",r);return(0,n.jsx)("div",o({},i,{className:a,children:t}))}});const ke=["color","dataTheme","className"];(0,i.forwardRef)(((e,t)=>{let{color:r,dataTheme:i,className:a}=e,u=s(e,ke);const l=L("progress",a,c({[`progress-${r}`]:r}));return(0,n.jsx)("progress",o({},u,{ref:t,"data-theme":i,className:l}))})).displayName="Progress";const Ne=["value","size","thickness","color","dataTheme","className","children"];(0,i.forwardRef)(((e,t)=>{let{value:r,size:i="4rem",thickness:a="4px",color:u,dataTheme:l,className:d,children:f}=e,h=s(e,Ne);const p=L("radial-progress",d,c({[`text-${u}`]:u})),m=Math.min(100,Math.max(0,r)),_={"--value":m,"--size":i,"--thickness":a};return(0,n.jsx)("div",o({role:"progressbar","aria-valuenow":m,"aria-valuemin":0,"aria-valuemax":100},h,{ref:t,"data-theme":l,className:p,style:_,children:f}))})).displayName="RadialProgress";const Oe=["variant","className"],Ie=i.forwardRef(((e,t)=>{let{variant:r,className:i}=e,a=s(e,Oe);const u=L(i,c({[`stat-${r}`]:r}));return(0,n.jsx)("div",o({},a,{className:u,ref:t}))})),Pe=["dataTheme","className"],De=(0,i.forwardRef)(((e,t)=>{let{dataTheme:r,className:i}=e,a=s(e,Pe);const c=L("stat",i);return(0,n.jsx)("div",o({},a,{"data-theme":r,className:c,ref:t}))}));var je=Object.assign(De,{Item:Ie});const Ue=["horizontal","vertical","dataTheme","className","children"],Me=i.forwardRef(((e,t)=>{let{horizontal:r,vertical:i,dataTheme:a,className:u,children:l}=e,d=s(e,Ue);const f=L("stats",u,c({"stats-horizontal":r,"stats-vertical":i}));return(0,n.jsx)("div",o({},d,{ref:t,"data-theme":a,className:f,children:l}))}));Object.assign(Me,{Stat:je});const qe=["children"],He=i.forwardRef(((e,t)=>{let{children:r}=e,i=s(e,qe);return(0,n.jsx)("thead",o({},i,{ref:t,children:(0,n.jsx)("tr",{children:null==r?void 0:r.map(((e,t)=>(0,n.jsx)("th",{children:e},t)))})}))})),Fe=["children"],Le=i.forwardRef(((e,t)=>{let{children:r}=e,i=s(e,Fe);return(0,n.jsx)("tbody",o({},i,{ref:t,children:r}))})),ze=["children","active","hover","className"],$e=i.forwardRef(((e,t)=>{let{children:r,active:i,hover:a,className:u}=e,l=s(e,ze);const d=L(u,c({active:i,hover:a}));return(0,n.jsx)("tr",o({},l,{className:d,ref:t,children:null==r?void 0:r.map(((e,t)=>t<1?(0,n.jsx)("th",{children:e},t):(0,n.jsx)("td",{children:e},t)))}))})),Ge=["children"],Ve=i.forwardRef(((e,t)=>{let{children:r}=e,i=s(e,Ge);return(0,n.jsx)("tfoot",o({},i,{ref:t,children:(0,n.jsx)("tr",{children:null==r?void 0:r.map(((e,t)=>(0,n.jsx)("th",{children:e},t)))})}))})),We=["children","compact","zebra","dataTheme","className"],Be=i.forwardRef(((e,t)=>{let{children:r,compact:i,zebra:a,dataTheme:u,className:l}=e,d=s(e,We);const f=L("table",l,c({"table-zebra":a,"table-compact":i}));return(0,n.jsx)("table",o({},d,{"data-theme":u,className:f,ref:t,children:r}))}));Object.assign(Be,{Head:He,Body:Le,Row:$e,Footer:Ve});const Ke=["message","children","open","color","position","dataTheme","className"];(0,i.forwardRef)(((e,t)=>{let{message:r,children:i,open:a,color:u,position:l,dataTheme:d,className:f}=e,h=s(e,Ke);const p=L("tooltip",f,c({"tooltip-open":a,[`tooltip-${u}`]:u,[`tooltip-${l}`]:l}));return(0,n.jsx)("div",o({role:"tooltip"},h,{ref:t,"data-theme":d,"data-tip":r,className:p,children:i}))})).displayName="Tooltip";const Ye=["children","title","dataTheme","className"],Xe=i.forwardRef(((e,t)=>{let{children:r,title:i,className:a}=e,c=s(e,Ye);const u=L("label",a);return(0,n.jsxs)("label",o({},c,{className:u,children:[(0,n.jsx)("span",{className:"label-text cursor-pointer",ref:t,children:i}),r]}))})),Je=["children","dataTheme","className"],Qe=i.forwardRef(((e,t)=>{let{children:r,dataTheme:i,className:a}=e,c=s(e,Je);const u=L("form-control",a);return(0,n.jsx)("form",o({role:"form"},c,{"data-theme":i,className:u,ref:t,children:r}))}));var Ze=Object.assign(Qe,{Label:Xe});const et=["checked","defaultChecked","color","size","indeterminate","dataTheme","className"];(0,i.forwardRef)(((e,t)=>{let{checked:r,defaultChecked:a=!1,color:u,size:l,indeterminate:d,dataTheme:f,className:h}=e,p=s(e,et);const m=L("checkbox",h,c({[`checkbox-${l}`]:l,[`checkbox-${u}`]:u})),_=(0,i.useRef)(null);return(0,i.useImperativeHandle)(t,(()=>_.current)),(0,i.useEffect)((()=>{_.current&&(_.current.indeterminate=!!d)}),[d]),(0,n.jsx)("input",o({},p,{ref:_,type:"checkbox",checked:r,defaultChecked:a,"data-theme":f,className:m}))})).displayName="Checkbox";const tt=["value","placeholder","bordered","borderOffset","size","color","dataTheme","className","type"],rt=(0,i.forwardRef)(((e,t)=>{let{value:r,placeholder:i,bordered:a=!0,borderOffset:u,size:l,color:d,dataTheme:f,className:h,type:p}=e,m=s(e,tt);const _=L("input",h,c({[`input-${l}`]:l,[`input-${d}`]:d,"focus:outline-offset-0":!u,"input-bordered":a}));return(0,n.jsx)("input",o({},m,{ref:t,type:p,value:r,placeholder:i,"data-theme":f,className:_}))}));rt.displayName="Input";const nt=["color","size","name","dataTheme","className"];(0,i.forwardRef)(((e,t)=>{let{color:r,size:i,name:a,dataTheme:u,className:l}=e,d=s(e,nt);const f=L("radio",l,c({[`radio-${i}`]:i,[`radio-${r}`]:r}));return(0,n.jsx)("input",o({},d,{ref:t,type:"radio",name:a,"data-theme":u,className:f}))})).displayName="Radio";const it=["color","size","step","dataTheme","className"];(0,i.forwardRef)(((e,t)=>{let{color:r,size:a,step:u,dataTheme:l,className:d}=e,f=s(e,it);const h=L("range",d,c({[`range-${a}`]:a,[`range-${r}`]:r})),p=(0,i.useMemo)((()=>{var e;const t=Math.max(1,Number(u));return null!=(e=Math.ceil(100/t))?e:1}),[f.max,u]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",o({},f,{ref:t,type:"range",step:u,"data-theme":l,className:h})),(m=u,!isNaN(parseFloat(m))&&isFinite(m)&&(0,n.jsx)("div",{className:"w-full flex justify-between text-xs px-2",children:[...Array(p+1)].map((()=>(0,n.jsx)("span",{children:"|"})))}))]});var m})).displayName="Range";const ot=["children","size","half","hidden","dataTheme","className"],st=i.forwardRef(((e,t)=>{let{children:r,size:i,half:a,hidden:u,dataTheme:l,className:d}=e,f=s(e,ot);const h=L("rating",d,c({[`rating-${i}`]:i,"rating-half":a,"rating-hidden":u}));return(0,n.jsx)("div",o({"aria-label":"Rating"},f,{ref:t,"data-theme":l,className:h,children:r}))}));Object.assign(st,{Item:e=>{let t=o({},e);return(0,n.jsx)("input",o({},t,{type:"radio"}))}});const at=["selectedValue","value","children"],ct=["children","initialValue","value","onChange","size","color","bordered","borderOffset","dataTheme","className"],ut=(e,t)=>{const{children:r,initialValue:a,value:u,onChange:l,size:d,color:f,bordered:h=!0,borderOffset:p,dataTheme:m,className:_}=e,g=s(e,ct),v=L("select",_,c({[`select-${d}`]:d,[`select-${f}`]:f,"focus:outline-offset-0":!p,"select-bordered":h})),[y,b]=(0,i.useState)(u||a);return(0,n.jsx)("select",o({},g,{ref:t,"data-theme":m,className:v,onChange:e=>{b(e.currentTarget.value),l&&l(e.currentTarget.value)},children:r.map((e=>(0,i.cloneElement)(e,{selectedValue:y})))}))},lt=i.forwardRef(ut);Object.assign(lt,{Option:e=>{let{selectedValue:t,value:r,children:i}=e,a=s(e,at);return(0,n.jsx)("option",o({},a,{value:r,selected:r===t,children:i}))}});const dt=["color","size","dataTheme","className"];(0,i.forwardRef)(((e,t)=>{let{color:r,size:i,dataTheme:a,className:u}=e,l=s(e,dt);const d=L("toggle",u,c({[`toggle-${i}`]:i,[`toggle-${r}`]:r}));return(0,n.jsx)("input",o({},l,{ref:t,type:"checkbox","data-theme":a,className:d}))})).displayName="Toggle";const ft=["children","size","horizontal","dataTheme","className"];(0,i.forwardRef)(((e,t)=>{let{children:r,size:i,horizontal:a,dataTheme:u,className:l}=e,d=s(e,ft);const f=L("artboard","artboard-demo",l,c({[`phone-${i}`]:i,horizontal:a}));return(0,n.jsx)("div",o({"aria-label":"Artboard"},d,{ref:t,"data-theme":u,className:f,children:r}))})).displayName="Artboard";const ht=["className"],pt=i.forwardRef(((e,t)=>{let{className:r}=e,i=s(e,ht);const a=L("footer-title",r);return(0,n.jsx)("span",o({},i,{className:a,ref:t}))})),mt=["center","dataTheme","className"],_t=i.forwardRef(((e,t)=>{let{center:r,dataTheme:i,className:a}=e,u=s(e,mt);const l=L("footer",a,c({"footer-center":r}));return(0,n.jsx)("div",o({role:"contentinfo"},u,{"data-theme":i,className:l,ref:t}))}));Object.assign(_t,{Title:pt});const gt=["dataTheme","className","children"],vt=i.forwardRef(((e,t)=>{let{dataTheme:r,className:i,children:a}=e,c=s(e,gt);const u=L("hero-content",i);return(0,n.jsx)("div",o({},c,{"data-theme":r,className:u,ref:t,children:a}))})),yt=["dataTheme","className","children"],bt=i.forwardRef(((e,t)=>{let{dataTheme:r,className:i,children:a}=e,c=s(e,yt);const u=L("hero-overlay",i);return(0,n.jsx)("div",o({},c,{"data-theme":r,className:u,ref:t,children:a}))})),Tt=["dataTheme","className","children"],St=i.forwardRef(((e,t)=>{let{dataTheme:r,className:i,children:a}=e,c=s(e,Tt);const u=L("hero",i);return(0,n.jsx)("div",o({role:"banner"},c,{"data-theme":r,className:u,ref:t,children:a}))}));Object.assign(St,{Content:vt,Overlay:bt});const wt=["children","size","vertical","dataTheme","className"],Et=(0,i.forwardRef)(((e,t)=>{let{children:r,size:i,vertical:a,dataTheme:u,className:l}=e,d=s(e,wt);const f=L("input-group",l,c({[`input-group-${i}`]:i,"input-group-vertical":a}));return(0,n.jsx)("label",o({},d,{"data-theme":u,className:f,ref:t,children:r}))}));Et.displayName="InputGroup";const Rt=["dataTheme","className","children"];(0,i.forwardRef)(((e,t)=>{let{dataTheme:r,className:i,children:a}=e,c=s(e,Rt);const u=L("stack",i);return(0,n.jsx)("div",o({"aria-label":"Stack"},c,{ref:t,"data-theme":r,className:u,children:a}))})).displayName="Stack";const Ct=["horizontal","vertical","className","children"],xt={start:"toast-start",center:"toast-center",end:"toast-end"},At={top:"toast-top",middle:"toast-middle",bottom:"toast-bottom"};(0,i.forwardRef)(((e,t)=>{let{horizontal:r="end",vertical:i="bottom",className:a,children:c}=e,u=s(e,Ct);return(0,n.jsx)("div",o({},u,{className:L("toast",xt[r],At[i],a),ref:t,children:c}))})).displayName="Toast";const kt=["children","href"],Nt=i.forwardRef(((e,t)=>{let{children:r,href:i}=e,a=s(e,kt);return(0,n.jsx)("li",o({role:"link"},a,{ref:t,children:i?(0,n.jsx)("a",{href:i,children:r}):(0,n.jsx)(n.Fragment,{children:r})}))})),Ot=["children","dataTheme","className","innerProps","innerRef"],It=i.forwardRef(((e,t)=>{let{children:r,dataTheme:i,className:a,innerProps:c,innerRef:u}=e,l=s(e,Ot);const d=L("breadcrumbs","text-sm",a);return(0,n.jsx)("div",o({role:"navigation","aria-label":"Breadcrumbs"},l,{"data-theme":i,className:d,ref:t,children:(0,n.jsx)("ul",o({},c,{ref:u,children:r}))}))}));Object.assign(It,{Item:Nt});const Pt=["children","className"],Dt=(0,i.forwardRef)(((e,t)=>{let{children:r,className:i}=e,a=s(e,Pt);const c=L("btm-nav-label",i);return(0,n.jsx)("span",o({},a,{className:c,ref:t,children:r}))})),jt=["size","dataTheme","className","children"],Ut=(0,i.forwardRef)(((e,t)=>{let{size:r,dataTheme:i,className:a,children:u}=e,l=s(e,jt);const d=L("btm-nav",c({[`btm-nav-${r}`]:r}),a);return(0,n.jsx)("div",o({},l,{"data-theme":i,className:d,ref:t,children:u}))}));Ut.displayName="BottomNavigation";Object.assign(Ut,{Label:Dt});const Mt=["children","href","color","hover","dataTheme","className"];(0,i.forwardRef)(((e,t)=>{let{children:r,href:i,color:a,hover:u=!0,dataTheme:l,className:d}=e,f=s(e,Mt);const h=L("link",d,c({[`link-${a}`]:a,"link-hover":u}));return(0,n.jsx)("a",o({},f,{href:i,"data-theme":l,className:h,ref:t,children:r}))})).displayName="Link";const qt=["className"],Ht=i.forwardRef(((e,t)=>{let{className:r}=e,i=s(e,qt);const a=L("menu-title",r);return(0,n.jsx)("li",o({},i,{className:a,ref:t}))})),Ft=["className","disabled"],Lt=i.forwardRef(((e,t)=>{let{className:r,disabled:i}=e,a=s(e,Ft);const u=L(r,c({disabled:i}));return(0,n.jsx)("li",o({role:"menuitem",className:u},a,{ref:t}))})),zt=["normal","compact","horizontal","vertical","dataTheme","className"],$t={true:"menu-compact",xs:"xs:menu-compact",sm:"sm:menu-compact",md:"md:menu-compact",lg:"lg:menu-compact"},Gt={true:"menu-normal",xs:"xs:menu-normal",sm:"sm:menu-normal",md:"md:menu-normal",lg:"lg:menu-normal"},Vt={true:"menu-horizontal",xs:"xs:menu-horizontal",sm:"sm:menu-horizontal",md:"md:menu-horizontal",lg:"lg:menu-horizontal"},Wt={true:"menu-vertical",xs:"xs:menu-vertical",sm:"sm:menu-vertical",md:"md:menu-vertical",lg:"lg:menu-vertical"},Bt=i.forwardRef(((e,t)=>{let{normal:r,compact:i,horizontal:a,vertical:u,dataTheme:l,className:d}=e,f=s(e,zt);const h=L("menu",d,c({[i&&$t[i.toString()]||""]:i,[r&&Gt[r.toString()]||""]:r,[a&&Vt[a.toString()]||""]:a,[u&&Wt[u.toString()]||""]:u}));return(0,n.jsx)("ul",o({role:"menu","data-theme":l,className:h},f,{ref:t}))}));Object.assign(Bt,{Title:Ht,Item:Lt});const Kt=i.forwardRef((({children:e,section:t,dataTheme:r,className:i,style:o},s)=>{const a=L(i,c({"flex-1":"center"!==t,[`navbar-${t}`]:t}));return(0,n.jsx)("div",{"data-theme":r,className:a,style:o,ref:s,children:e})})),Yt=["children","dataTheme","className"],Xt=i.forwardRef(((e,t)=>{let{children:r,dataTheme:i,className:a}=e,c=s(e,Yt);const u=L("navbar",a);return(0,n.jsx)("div",o({role:"navigation","aria-label":"Navbar"},c,{"data-theme":i,className:u,ref:t,children:r}))})),Jt=i.forwardRef(((e,t)=>(0,n.jsx)(Kt,o({},e,{section:"start",ref:t})))),Qt=i.forwardRef(((e,t)=>(0,n.jsx)(Kt,o({},e,{section:"center",ref:t})))),Zt=i.forwardRef(((e,t)=>(0,n.jsx)(Kt,o({},e,{section:"end",ref:t}))));Object.assign(Xt,{Start:Jt,Center:Qt,End:Zt});const er=["children","value","color","dataTheme","className"],tr=i.forwardRef(((e,t)=>{let{children:r,value:i,color:a,dataTheme:u,className:l}=e,d=s(e,er);const f=L("step",l,c({[`step-${a}`]:a}));return(0,n.jsx)("li",o({"aria-label":"Step"},d,{"data-theme":u,"data-content":i,className:f,ref:t,children:r}))})),rr=["children","dataTheme","className","vertical","horizontal"],nr=i.forwardRef(((e,t)=>{let{children:r,dataTheme:i,className:a,vertical:u,horizontal:l}=e,d=s(e,rr);const f=L("steps",a,c({"steps-vertical":u,"steps-horizontal":l}));return(0,n.jsx)("ul",o({"aria-label":"Steps",role:"group"},d,{"data-theme":i,className:f,ref:t,children:r}))}));Object.assign(nr,{Step:tr});const ir=["children","value","activeValue","onClick","size","variant","className","style"],or=(e,t)=>{let{children:r,value:i,activeValue:a,onClick:u,size:l,variant:d,className:f,style:h}=e,p=s(e,ir);const m=L("tab",f,c({"tab-active":null!=i&&i===a,[`tab-${l}`]:l,[`tab-${d}`]:d}));return(0,n.jsx)("a",o({role:"tab"},p,{className:m,style:h,onClick:()=>u&&u(i),children:r}))},sr=i.forwardRef(or),ar=["children","value","onChange","variant","size","boxed","dataTheme","className"],cr=(e,t)=>{let{children:r,value:a,onChange:u,variant:l,size:d,boxed:f,dataTheme:h,className:p}=e,m=s(e,ar);const[_,g]=(0,i.useState)(a),v=L("tabs",p,c({"tabs-boxed":f}));return(0,n.jsx)("div",o({ref:t,role:"tablist"},m,{"data-theme":h,className:v,children:r.map((e=>(0,i.cloneElement)(e,{variant:l,size:d,activeValue:_,onClick:e=>{g(e),u&&u(e)}})))}))},ur=i.forwardRef(cr);Object.assign(ur,{Tab:sr});const lr=["dataPrefix","dataTheme","status","className","children","innerProps","innerRef"],dr=(0,i.forwardRef)(((e,t)=>{let{dataPrefix:r,dataTheme:i,status:a,className:u,children:l,innerProps:d,innerRef:f}=e,h=s(e,lr);const p=L(c({[`bg-${a}`]:a,[`text-${a}-content`]:a}),u),m=o({},h,{className:p},!1!==r&&{"data-prefix":r||">"});return(0,n.jsx)("pre",o({},m,{"data-theme":i,className:p,ref:t,children:(0,n.jsx)("code",o({},d,{ref:f,children:l}))}))}));dr.displayName="CodeMockup.Line";const fr=["dataTheme","className","children"],hr=(0,i.forwardRef)(((e,t)=>{let{dataTheme:r,className:i,children:a}=e,c=s(e,fr);const u=L("mockup-code",i);return(0,n.jsx)("div",o({"aria-label":"Code mockup"},c,{"data-theme":r,className:u,ref:t,children:a}))}));hr.displayName="CodeMockup";Object.assign(hr,{Line:dr});const pr=["color","dataTheme","className","children","innerRef","innerProps"];(0,i.forwardRef)(((e,t)=>{let{color:r,dataTheme:i,className:a,children:u,innerRef:l,innerProps:d}=e,f=s(e,pr);const h=L("mockup-phone",c({[`border-${r}`]:r}),a);return(0,n.jsxs)("div",o({"aria-label":"Phone mockup"},f,{"data-theme":i,className:h,ref:t,children:[(0,n.jsx)("div",{className:"camera"}),(0,n.jsx)("div",{className:"display",children:(0,n.jsx)("div",o({},d,{className:L("artboard artboard-demo phone-1",null==d?void 0:d.className),ref:l,children:u}))})]}))})).displayName="PhoneMockup";const mr=["border","borderColor","backgroundColor","frameColor","dataTheme","className","children"];(0,i.forwardRef)(((e,t)=>{let{border:r,borderColor:a,backgroundColor:u,frameColor:l,dataTheme:d,className:f,children:h}=e,p=s(e,mr);const m=a||(l||"base-300"),_=L("mockup-window",r&&`border border-${m}`,c({[`border-${m}`]:m,[`bg-${l}`]:l}),f);console.log("classes",_);const g=i.Children.count(h)>0&&i.Children.toArray(h)[0],v=c(u&&`bg-${u}`,r&&`border-t border-${m}`,"p-4");console.log("innerClasses",v);const y=g&&i.isValidElement(g)?i.cloneElement(g,{className:L(v,g.props.className)}):(0,n.jsx)("div",{className:v,children:h});return(0,n.jsx)("div",o({"aria-label":"Window mockup"},p,{"data-theme":d,className:_,ref:t,children:y}))})).displayName="WindowMockup"},2403:function(e){"use strict";e.exports=JSON.parse('{"name":"jssip","title":"JsSIP","description":"the Javascript SIP library","version":"3.9.1","homepage":"https://jssip.net","contributors":["Jos\xe9 Luis Mill\xe1n <jmillan@aliax.net> (https://github.com/jmillan)","I\xf1aki Baz Castillo <ibc@aliax.net> (https://inakibaz.me)"],"types":"lib/JsSIP.d.ts","main":"lib-es5/JsSIP.js","keywords":["sip","websocket","webrtc","node","browser","library"],"license":"MIT","repository":{"type":"git","url":"https://github.com/versatica/JsSIP.git"},"bugs":{"url":"https://github.com/versatica/JsSIP/issues"},"dependencies":{"@types/debug":"^4.1.5","@types/node":"^14.14.34","debug":"^4.3.1","events":"^3.3.0","sdp-transform":"^2.14.1"},"devDependencies":{"@babel/core":"^7.13.10","@babel/preset-env":"^7.13.10","ansi-colors":"^3.2.4","browserify":"^16.5.1","eslint":"^5.16.0","fancy-log":"^1.3.3","gulp":"^4.0.2","gulp-babel":"^8.0.0","gulp-eslint":"^5.0.0","gulp-expect-file":"^1.0.2","gulp-header":"^2.0.9","gulp-nodeunit-runner":"^0.2.2","gulp-plumber":"^1.2.1","gulp-rename":"^1.4.0","gulp-uglify-es":"^1.0.4","pegjs":"^0.7.0","vinyl-buffer":"^1.0.1","vinyl-source-stream":"^2.0.0"},"scripts":{"lint":"gulp lint","test":"gulp test","prepublishOnly":"gulp babel"}}')}}]);